(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[6328],{18339:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var i=n(36151),o=n(43193),r=n(42797),a=n(8469),l=n.n(a),s=n(31578),c=n(7825),d=n(46858),u=n(33990);function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{animation:g,breakpoints:h,fontSize:m,layout:v}=s.ZP.values,{colors:f}=s.ZP.samba,y="@media (max-width: ".concat(h.palm,")"),b="@media (max-width: ".concat(h.portable,")"),C=(0,r.zo)("div",(e=>{let{$layoutStyle:t}=e;return{alignItems:"center",backgroundColor:"rgba(0,0,0,0.95)",bottom:0,display:"flex",height:"100%",justifyContent:"center",left:0,boxSizing:"border-box",padding:"fullWidth"===t?0:v.fixedBlockPaddingSidesDesk,position:"fixed",top:0,right:0,width:"100%",zIndex:999998,[b]:{padding:"fullWidth"===t?0:v.fixedBlockPaddingSidesPortable},[y]:{padding:"fullWidth"===t?0:v.fixedBlockPaddingSidesPalm}}})),x=(0,r.zo)("div",(e=>{let{$rtl:t}=e;return{alignItems:"center",display:"flex",flexDirection:"row",height:"auto",position:"absolute",right:t?"auto":0,left:t?0:"auto",top:0}})),L=(0,r.zo)("button",(e=>{let{$rtl:t}=e;return{backgroundColor:f.mono300,border:0,color:f.mono1000,cursor:"pointer",display:"flex",flexDirection:"column",fontSize:m.fixedHeading4Desk,margin:t?"0 auto 0 0":"0 0 0 auto",padding:"10px",textAlign:"inherit",textDecoration:"none",zIndex:9999,transition:g.uiSpeed,":active":{backgroundColor:f.mono500},":focus":{backgroundColor:f.mono500},":hover":{backgroundColor:f.mono400},[b]:{fontSize:m.fixedHeading4Portable,margin:t?"0 auto 0 0":"0 0 0 auto"},[y]:{fontSize:m.fixedHeading4Palm,margin:t?"0 auto 0 0":"0 0 0 auto"}}})),P=(0,r.zo)("div",{maxWidth:"160vh",position:"relative",width:"100%"});class w extends i.Component{constructor(){super(...arguments),p(this,"state",{openModal:!1}),p(this,"handleModalOpen",(()=>{this.setState({openModal:!0})})),p(this,"handleModalClose",(()=>{this.setState({openModal:!1})})),p(this,"handleKeyPress",(e=>{27===e.keyCode&&this.handleModalClose()}))}componentDidMount(){l().addEventListener("keydown",(e=>this.handleKeyPress(e)))}componentWillUnmount(){l().removeEventListener("keydown",(e=>this.handleKeyPress(e)))}render(){const{children:e,rtl:t,translations:n,videoUrl:r,layoutStyle:a}=this.props,l=n["common.button.close.aria-label"]||"Close",s=i.Children.map(e,(e=>o.cloneElement(e,{handleClick:this.handleModalOpen,isModalOpen:this.state.openModal})));return(0,u.BX)("div",{className:"video-overlay",children:[this.state.openModal&&(0,u.BX)(C,{onClick:this.handleModalClose,$layoutStyle:a,children:[(0,u.tZ)(x,{$rtl:t,children:(0,u.tZ)(L,{$rtl:t,onClick:this.handleModalClose,onKeyPress:this.handleModalClose,"aria-label":l,className:"overlay-close",tabIndex:0,children:(0,u.tZ)(c.Z,{})})}),(0,u.tZ)(P,{children:(0,u.tZ)(d.Z,{videoUrl:r,autoplay:"1"})})]}),s]})}}p(w,"defaultProps",{translations:{}})},60004:(e,t,n)=>{"use strict";n.d(t,{d:()=>i});const i=()=>{}},79930:(e,t,n)=>{"use strict";n.d(t,{H$:()=>d});const i="click",o="visible",r="submit";var a=n(60004);function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{label:i="",category:o="",redirectUrl:r=""}=n;return e.filter((e=>e.eventType===t)).map((e=>{let{selectedCampaigns:n,eventName:a}=e;return{campaignId:Array.isArray(n)&&n[0]?n[0]:null,eventType:t,eventName:a,label:i,category:o,redirectUrl:r}}))}const s=(e,t)=>({trackClickEvents:n=>{t(l(e,i,n))},trackVisibleEvents:n=>{t(l(e,o,n))},trackSubmitEvents:n=>{t(l(e,r,n))}}),c=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!(i>=5))return Array.isArray(t[0])?(i++,t.map(((e,t)=>c(t,e,n,i))).filter(Boolean)):s(t,n)};function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.d;return Object.fromEntries(Object.entries(e).map((e=>{let[n,i]=e;return[n,c(n,i,t)]})))}},52886:(e,t,n)=>{"use strict";n.d(t,{yr:()=>h,Ng:()=>m,E$:()=>v});var i=n(36151),o=n(59808),r=n.n(o);const a=n(43193).createContext(""),l=a.Consumer;a.Provider;var s=n(31578),c=n(33990);function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{values:{breakpoints:u}}=s.ZP;let p,g;const h={DESK:"desk",PALM:"palm",PORTABLE:"portable"};function m(e){return class extends i.Component{constructor(e){super(e),d(this,"_isMounted",!0),d(this,"debouncedMQListener",r()((()=>this._isMounted&&this.mqListener()),50)),d(this,"mqListener",(()=>{this.setState((e=>{const t=this.getDeviceTypeFromMediaQuery();return t!==e.currentBreakpoint?{currentBreakpoint:t}:null}))})),d(this,"getDeviceTypeFromMediaQuery",(e=>{var t,n;return null!==(t=g)&&void 0!==t&&t.matches?h.DESK:null!==(n=p)&&void 0!==n&&n.matches?h.PALM:h.PORTABLE})),d(this,"getBreakpointByDeviceType",(e=>{switch(e){case"mobile":return h.PALM;case"tablet":return h.PORTABLE;default:return h.DESK}})),"undefined"==typeof window||"object"==typeof window&&"function"!=typeof window.matchMedia||("undefined"==typeof p&&(p=window.matchMedia("(max-width: ".concat(u.palm,")"))),"undefined"==typeof g&&(g=window.matchMedia("(min-width: ".concat(u.desktop,")"))),this.state={currentBreakpoint:this.getDeviceTypeFromMediaQuery()},p.addListener(this.debouncedMQListener),g.addListener(this.debouncedMQListener))}componentWillUnmount(){"undefined"!=typeof p&&p.removeListener(this.debouncedMQListener),"undefined"!=typeof g&&g.removeListener(this.debouncedMQListener),this._isMounted=!1}render(){return(0,c.tZ)(l,{children:t=>{var n;return(0,c.tZ)(e,{currentBreakpoint:(null===(n=this.state)||void 0===n?void 0:n.currentBreakpoint)||this.getBreakpointByDeviceType(t),...this.props})}})}}}function v(e){return class extends i.Component{constructor(e){super(e),d(this,"debouncedMQListener",r()((()=>this.mqListener()),50)),d(this,"mqListener",(()=>{this.setState((e=>{const t=this.getDeviceTypeFromMediaQuery();return t!==e.currentBreakpoint?{currentBreakpoint:t}:null}))})),d(this,"getDeviceTypeFromMediaQuery",(()=>{var e,t;return null!==(e=g)&&void 0!==e&&e.matches?h.DESK:null!==(t=p)&&void 0!==t&&t.matches?h.PALM:h.PORTABLE})),this.state={currentBreakpoint:h.PALM}}componentDidMount(){"undefined"==typeof window||"object"==typeof window&&"function"!=typeof window.matchMedia||("undefined"==typeof p&&(p=window.matchMedia("(max-width: ".concat(u.palm,")"))),"undefined"==typeof g&&(g=window.matchMedia("(min-width: ".concat(u.desktop,")"))),this.mqListener(),p.addListener(this.debouncedMQListener),g.addListener(this.debouncedMQListener))}componentWillUnmount(){"undefined"!=typeof p&&p.removeListener(this.debouncedMQListener),"undefined"!=typeof g&&g.removeListener(this.debouncedMQListener)}render(){var t;return(0,c.tZ)(e,{...this.props,currentBreakpoint:null===(t=this.state)||void 0===t?void 0:t.currentBreakpoint})}}}},21046:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>g});var i=n(36151),o=n(3268),r=n(69584),a=n(68369),l=n(33990);const s=e=>{let{$theme:t,flexGridColumnCount:n,flexGridColumnGap:i,flexGridRowGap:o,flexGridItemIndex:r,flexGridItemCount:a}=e;const l=t.sizing[i]||i||"0px",s=parseFloat(l),c=l.match(/[a-zA-Z]+/)[0],d=t.sizing[o]||o||"0px",u=parseFloat(d),p="(100% - ".concat((n-1)*s).concat(c,") / ").concat(n),g="rtl"===t.direction?"marginLeft":"marginRight";return Object.freeze({width:"calc(".concat(p," - .5px)"),[g]:s&&((r+1)%n!=0?l:0),marginBottom:u&&(~~(r/n)!=~~((a-1)/n)?d:0),...r===a-1&&(r+1)%n!=0?{[g]:"calc(".concat(n-r%n-1," * (").concat(l," + ").concat(p,"))")}:{}})};function c(e,t){return e?Array.isArray(e)?e[t]||e[e.length-1]:e:null}const d=e=>{let{$flexGridColumnCount:t,$flexGridColumnGap:n,$flexGridRowGap:i,$flexGridItemIndex:o,$flexGridItemCount:r,$theme:l}=e;const d={flexGrow:1},u=(0,a.Wf)(l.breakpoints),p=Math.max(...[t,n,i].map((e=>Array.isArray(e)?e.length:0)));return p<2?{...d,...s({$theme:l,flexGridColumnCount:c(t,0)||1,flexGridColumnGap:c(n,0)||0,flexGridRowGap:c(i,0)||0,flexGridItemIndex:o||0,flexGridItemCount:r||1})}:[...Array(p).keys()].reduce(((e,d)=>{const p=c(t,d),g=c(n,d),h=c(i,d),m=0===d?(0,a.aK)(0):u[d-1];return m&&(e[m]=s({$theme:l,flexGridColumnCount:p||1,flexGridColumnGap:g||0,flexGridRowGap:h||0,flexGridItemIndex:o||0,flexGridItemCount:r||1})),e}),d)},u=e=>{let{forwardedRef:t,children:n,as:i,overrides:a,flexGridColumnCount:s,flexGridColumnGap:c,flexGridRowGap:u,flexGridItemIndex:p,flexGridItemCount:g,...h}=e;const m={Block:{style:d}},v=a?(0,r.aO)(m,a):m;return(0,l.tZ)(o.Z,{ref:t,as:i,overrides:v,$flexGridColumnCount:s,$flexGridColumnGap:c,$flexGridRowGap:u,$flexGridItemIndex:p,$flexGridItemCount:g,"data-baseweb":"flex-grid-item",...h,children:n})},p=i.forwardRef(((e,t)=>(0,l.tZ)(u,{...e,forwardedRef:t})));p.displayName="FlexGridItem";const g=p},48681:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(36151),o=n(3268),r=n(57462),a=n(33990);const l=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return i.Children.toArray(e).reduce(((e,o,s)=>((0,r.M2)(o)?e.push(...l(o.props.children,t,n+1)):i.isValidElement(o)&&(t?e.push((0,a.tZ)(t,{children:o},"".concat(n,".").concat(s))):e.push(o)),e)),[])};var s=n(69584);const c=i.forwardRef(((e,t)=>{let{display:n,flexWrap:i,...r}=e;return(0,a.tZ)(o.Z,{display:n||"flex",flexWrap:!i&&!1!==i||i,"data-baseweb":"flex-grid",...r,ref:t})}));c.displayName="BaseFlexGrid";const d=e=>{let{forwardedRef:t,children:n,as:o,overrides:r,flexGridColumnCount:d,flexGridColumnGap:u,flexGridRowGap:p,...g}=e;const[h,m]=(0,s.jb)(r&&r.Block,c);return(0,a.tZ)(h,{ref:t,as:o,...g,...m,children:l(n).map(((e,t,n)=>{let{length:o}=n;return i.cloneElement(e,{flexGridColumnCount:d,flexGridColumnGap:u,flexGridRowGap:p,flexGridItemIndex:t,flexGridItemCount:o})}))})},u=i.forwardRef(((e,t)=>(0,a.tZ)(d,{...e,forwardedRef:t})));u.displayName="FlexGrid";const p=u},8469:(e,t,n)=>{var i,o="undefined"!=typeof n.g?n.g:"undefined"!=typeof window?window:{},r=n(37772);"undefined"!=typeof document?i=document:(i=o["__GLOBAL_DOCUMENT_CACHE@4"])||(i=o["__GLOBAL_DOCUMENT_CACHE@4"]=r),e.exports=i},86328:(e,t,n)=>{"use strict";n.d(t,{Hn:()=>Gi,$o:()=>$i,Wg:()=>Fi});var i=n(21645),o=n(19809),r=n(6297);const a="TS_PLACE_DETAILS_CLEAR",l="TS_DIRECTIONS_CLEAR",s="TS_CLEAR_ALL_REDUCERS";var c=n(9715);const d={suggestions:{pickup:null,destination:null},isLoading:!1,error:!1,type:""};const u=(0,c.LU)("loadTSSuggestions",{start:function(e,t){const n=e||d;if(!t.payload.q){const e={...n.suggestions},{type:i}=t.payload;return e[i]=null,{...n,suggestions:e,type:t.payload.type,isLoading:!1,error:!1}}return{...n,type:t.payload.type,isLoading:!0,error:!1}},success:function(e,t){const n=e||d;if(!t.payload||!t.payload.type)return n;const i={...n.suggestions},{type:o,candidates:r}=t.payload;return i[o]=r,{...n,suggestions:i,isLoading:!1,error:!1}},failure:function(e,t){return{...e||d,isLoading:!1,error:!0,type:""}}}),p=(0,r.Z)((e=>e||d),u,((e,t)=>{const n=e||d;switch(t.type){case s:return d;default:return n}})),g={directions:null,isLoading:!1,error:!1};const h=(0,c.LU)("loadTSDirections",{start:function(e){return{...e||g,isLoading:!0,error:!1}},success:function(e,t){const n=e||g,{directions:i}=t.payload;return{...n,directions:i,isLoading:!1,error:!1}},failure:function(e,t){return{...e||g,isLoading:!1,error:!0}}}),m=(0,r.Z)((e=>e||g),h,((e,t)=>{const n=e||g;switch(t.type){case l:return{...n,directions:null,error:!1};case s:return g;default:return n}})),v={isLoading:!1,territoryGeoPoint:{latitude:37.774955,longitude:-122.419579},territoryGeoJson:null,territoryName:null,territoryId:null,hasLoaded:!1,error:!1};const f=(0,c.LU)("loadTSGeolocation",{start:function(e){return{...e||v,isLoading:!0,error:!1}},success:function(e,t){const n=e||v,i=t.payload,{territoryGeoPoint:o,territoryGeoJson:r,territoryName:a,territoryId:l}=i.best.territoryGeoPoint?i.best:i.user;return{...n,hasLoaded:!0,isLoading:!1,territoryGeoPoint:o||n.territoryGeoPoint,territoryGeoJson:r,territoryName:a,territoryId:l}},failure:function(e,t){return{...e||v,hasLoaded:!0,isLoading:!1,error:!0}}}),y=(0,r.Z)((e=>e||v),f,((e,t)=>{const n=e||v;switch(t.type){case s:return v;default:return n}}));var b=n(8435);const C={pickup:null,destination:null,loadingState:{pickup:!1,destination:!1},isLoadingCurrentLocation:!1,errors:{pickup:!1,destination:!1}};const x=(0,c.LU)("loadTSPlaceDetails",{start:function(e,t){const n=e||C;return{...n,loadingState:{...n.loadingState,[t.payload.type]:!0},errors:{}}},success:function(e,t){const n=e||C,{type:i,...o}=t.payload;return{...n,[i]:o,loadingState:{...n.loadingState,[i]:!1}}},failure:function(e,t){const n=e||C,i=(0,b.Z)(t,"payload.meta.type");return{...n,loadingState:{...n.loadingState,[i]:!1},errors:{...n.errors,[i]:!0}}}}),L=(0,r.Z)((e=>e||C),x,((e,t)=>{const n=e||C;switch(t.type){case a:return{...n,[t.payload.type]:null};case s:return C;default:return n}})),P={tsSuggestions:d,tsDirections:g,tsGeolocation:v,tsPlaceDetails:C},w={tsSuggestions:p,tsDirections:m,tsPlaceDetails:L,tsGeolocation:y};var S=n(43193),k=n(17078),T=n(63590),Z=n(42797),D=n(31578),_=n(70788),I=n(10927),O=n(75145),E=n(65320);const A="desk",B="palm",z="portable";var M=n(33990);function R(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const N=1120,F=767;let G,$;var U=n(48681),V=n(21046),j=n(37534),W=n(12717),K=n(2433);const{colors:q}=K.v,H=(0,Z.zo)("p",{padding:"9px 0 22px",color:q.negative400,backgroundColor:q.white,fontSize:"14px",lineHeight:"20px",display:"block",margin:0});function X(e){let{error:t}=e;return(0,M.tZ)(H,{children:t})}var Q=n(36151),J=n(14470),Y=n(45799),ee=n(42144),te=n(53371),ne=n(9381),ie=n(34005),oe=n(91213),re=n(50399),ae=n(67093),le=n(81382),se=n(95540),ce=n(26);class de extends le.Z{constructor(e){super({...e,attributes:{positions:{size:3,padding:18,initialize:!0,type:e.fp64?Float64Array:Float32Array},segmentTypes:{size:1,type:Uint8ClampedArray}}})}get(e){return this.attributes[e]}getGeometryFromBuffer(e){return this.normalize?super.getGeometryFromBuffer(e):null}normalizeGeometry(e){return this.normalize?function(e,t,n,i){let o;if(Array.isArray(e[0])){const n=e.length*t;o=new Array(n);for(let n=0;n<e.length;n++)for(let i=0;i<t;i++)o[n*t+i]=e[n][i]||0}else o=e;return n?(0,se.d)(o,{size:t,gridResolution:n}):i?(0,ce.c)(o,{size:t}):o}(e,this.positionSize,this.opts.resolution,this.opts.wrapLongitude):e}getGeometrySize(e){if(ue(e)){let t=0;for(const n of e)t+=this.getGeometrySize(n);return t}const t=this.getPathLength(e);return t<2?0:this.isClosed(e)?t<3?0:t+2:t}updateGeometryAttributes(e,t){if(0!==t.geometrySize)if(e&&ue(e))for(const n of e){const e=this.getGeometrySize(n);t.geometrySize=e,this.updateGeometryAttributes(n,t),t.vertexStart+=e}else this._updateSegmentTypes(e,t),this._updatePositions(e,t)}_updateSegmentTypes(e,t){const n=this.attributes.segmentTypes,i=!!e&&this.isClosed(e),{vertexStart:o,geometrySize:r}=t;n.fill(0,o,o+r),i?(n[o]=4,n[o+r-2]=4):(n[o]+=1,n[o+r-2]+=2),n[o+r-1]=4}_updatePositions(e,t){const{positions:n}=this.attributes;if(!n||!e)return;const{vertexStart:i,geometrySize:o}=t,r=new Array(3);for(let t=i,a=0;a<o;t++,a++)this.getPointOnPath(e,a,r),n[3*t]=r[0],n[3*t+1]=r[1],n[3*t+2]=r[2]}getPathLength(e){return e.length/this.positionSize}getPointOnPath(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const{positionSize:i}=this;t*i>=e.length&&(t+=1-e.length/i);const o=t*i;return n[0]=e[o],n[1]=e[o+1],n[2]=3===i&&e[o+2]||0,n}isClosed(e){if(!this.normalize)return Boolean(this.opts.loop);const{positionSize:t}=this,n=e.length-t;return e[0]===e[n]&&e[1]===e[n+1]&&(2===t||e[2]===e[n+2])}}function ue(e){return Array.isArray(e[0])}const pe=[0,0,0,255],ge={widthUnits:"meters",widthScale:{type:"number",min:0,value:1},widthMinPixels:{type:"number",min:0,value:0},widthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},jointRounded:!1,capRounded:!1,miterLimit:{type:"number",min:0,value:4},billboard:!1,_pathType:null,getPath:{type:"accessor",value:e=>e.path},getColor:{type:"accessor",value:pe},getWidth:{type:"accessor",value:1},rounded:{deprecatedFor:["jointRounded","capRounded"]}},he={enter:(e,t)=>t.length?t.subarray(t.length-e.length):e};class me extends te.Z{constructor(){super(...arguments),(0,ee.Z)(this,"state",void 0)}getShaders(){return super.getShaders({vs:"#define SHADER_NAME path-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute float instanceTypes;\nattribute vec3 instanceStartPositions;\nattribute vec3 instanceEndPositions;\nattribute vec3 instanceLeftPositions;\nattribute vec3 instanceRightPositions;\nattribute vec3 instanceLeftPositions64Low;\nattribute vec3 instanceStartPositions64Low;\nattribute vec3 instanceEndPositions64Low;\nattribute vec3 instanceRightPositions64Low;\nattribute float instanceStrokeWidths;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform float jointType;\nuniform float capType;\nuniform float miterLimit;\nuniform bool billboard;\nuniform int widthUnits;\n\nuniform float opacity;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\nvarying vec2 vPathPosition;\nvarying float vPathLength;\nvarying float vJointType;\n\nconst float EPSILON = 0.001;\nconst vec3 ZERO_OFFSET = vec3(0.0);\n\nfloat flipIfTrue(bool flag) {\n  return -(float(flag) * 2. - 1.);\n}\n\n// calculate line join positions\nvec3 lineJoin(\n  vec3 prevPoint, vec3 currPoint, vec3 nextPoint,\n  vec2 width\n) {\n  bool isEnd = positions.x > 0.0;\n  // side of the segment - -1: left, 0: center, 1: right\n  float sideOfPath = positions.y;\n  float isJoint = float(sideOfPath == 0.0);\n\n  vec3 deltaA3 = (currPoint - prevPoint);\n  vec3 deltaB3 = (nextPoint - currPoint);\n\n  mat3 rotationMatrix;\n  bool needsRotation = !billboard && project_needs_rotation(currPoint, rotationMatrix);\n  if (needsRotation) {\n    deltaA3 = deltaA3 * rotationMatrix;\n    deltaB3 = deltaB3 * rotationMatrix;\n  }\n  vec2 deltaA = deltaA3.xy / width;\n  vec2 deltaB = deltaB3.xy / width;\n\n  float lenA = length(deltaA);\n  float lenB = length(deltaB);\n\n  vec2 dirA = lenA > 0. ? normalize(deltaA) : vec2(0.0, 0.0);\n  vec2 dirB = lenB > 0. ? normalize(deltaB) : vec2(0.0, 0.0);\n\n  vec2 perpA = vec2(-dirA.y, dirA.x);\n  vec2 perpB = vec2(-dirB.y, dirB.x);\n\n  // tangent of the corner\n  vec2 tangent = dirA + dirB;\n  tangent = length(tangent) > 0. ? normalize(tangent) : perpA;\n  // direction of the corner\n  vec2 miterVec = vec2(-tangent.y, tangent.x);\n  // direction of the segment\n  vec2 dir = isEnd ? dirA : dirB;\n  // direction of the extrusion\n  vec2 perp = isEnd ? perpA : perpB;\n  // length of the segment\n  float L = isEnd ? lenA : lenB;\n\n  // A = angle of the corner\n  float sinHalfA = abs(dot(miterVec, perp));\n  float cosHalfA = abs(dot(dirA, miterVec));\n\n  // -1: right, 1: left\n  float turnDirection = flipIfTrue(dirA.x * dirB.y >= dirA.y * dirB.x);\n\n  // relative position to the corner:\n  // -1: inside (smaller side of the angle)\n  // 0: center\n  // 1: outside (bigger side of the angle)\n  float cornerPosition = sideOfPath * turnDirection;\n\n  float miterSize = 1.0 / max(sinHalfA, EPSILON);\n  // trim if inside corner extends further than the line segment\n  miterSize = mix(\n    min(miterSize, max(lenA, lenB) / max(cosHalfA, EPSILON)),\n    miterSize,\n    step(0.0, cornerPosition)\n  );\n\n  vec2 offsetVec = mix(miterVec * miterSize, perp, step(0.5, cornerPosition))\n    * (sideOfPath + isJoint * turnDirection);\n\n  // special treatment for start cap and end cap\n  bool isStartCap = lenA == 0.0 || (!isEnd && (instanceTypes == 1.0 || instanceTypes == 3.0));\n  bool isEndCap = lenB == 0.0 || (isEnd && (instanceTypes == 2.0 || instanceTypes == 3.0));\n  bool isCap = isStartCap || isEndCap;\n\n  // extend out a triangle to envelope the round cap\n  if (isCap) {\n    offsetVec = mix(perp * sideOfPath, dir * capType * 4.0 * flipIfTrue(isStartCap), isJoint);\n    vJointType = capType;\n  } else {\n    vJointType = jointType;\n  }\n\n  // Generate variables for fragment shader\n  vPathLength = L;\n  vCornerOffset = offsetVec;\n  vMiterLength = dot(vCornerOffset, miterVec * turnDirection);\n  vMiterLength = isCap ? isJoint : vMiterLength;\n\n  vec2 offsetFromStartOfPath = vCornerOffset + deltaA * float(isEnd);\n  vPathPosition = vec2(\n    dot(offsetFromStartOfPath, perp),\n    dot(offsetFromStartOfPath, dir)\n  );\n  geometry.uv = vPathPosition;\n\n  float isValid = step(instanceTypes, 3.5);\n  vec3 offset = vec3(offsetVec * width * isValid, 0.0);\n\n  if (needsRotation) {\n    offset = rotationMatrix * offset;\n  }\n  return currPoint + offset;\n}\n\n// In clipspace extrusion, if a line extends behind the camera, clip it to avoid visual artifacts\nvoid clipLine(inout vec4 position, vec4 refPosition) {\n  if (position.w < EPSILON) {\n    float r = (EPSILON - refPosition.w) / (position.w - refPosition.w);\n    position = refPosition + (position - refPosition) * r;\n  }\n}\n\nvoid main() {\n  geometry.pickingColor = instancePickingColors;\n\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity);\n\n  float isEnd = positions.x;\n\n  vec3 prevPosition = mix(instanceLeftPositions, instanceStartPositions, isEnd);\n  vec3 prevPosition64Low = mix(instanceLeftPositions64Low, instanceStartPositions64Low, isEnd);\n\n  vec3 currPosition = mix(instanceStartPositions, instanceEndPositions, isEnd);\n  vec3 currPosition64Low = mix(instanceStartPositions64Low, instanceEndPositions64Low, isEnd);\n\n  vec3 nextPosition = mix(instanceEndPositions, instanceRightPositions, isEnd);\n  vec3 nextPosition64Low = mix(instanceEndPositions64Low, instanceRightPositions64Low, isEnd);\n\n  geometry.worldPosition = currPosition;\n  vec2 widthPixels = vec2(clamp(\n    project_size_to_pixel(instanceStrokeWidths * widthScale, widthUnits),\n    widthMinPixels, widthMaxPixels) / 2.0);\n  vec3 width;\n\n  if (billboard) {\n    // Extrude in clipspace\n    vec4 prevPositionScreen = project_position_to_clipspace(prevPosition, prevPosition64Low, ZERO_OFFSET);\n    vec4 currPositionScreen = project_position_to_clipspace(currPosition, currPosition64Low, ZERO_OFFSET, geometry.position);\n    vec4 nextPositionScreen = project_position_to_clipspace(nextPosition, nextPosition64Low, ZERO_OFFSET);\n\n    clipLine(prevPositionScreen, currPositionScreen);\n    clipLine(nextPositionScreen, currPositionScreen);\n    clipLine(currPositionScreen, mix(nextPositionScreen, prevPositionScreen, isEnd));\n\n    width = vec3(widthPixels, 0.0);\n    DECKGL_FILTER_SIZE(width, geometry);\n\n    vec3 pos = lineJoin(\n      prevPositionScreen.xyz / prevPositionScreen.w,\n      currPositionScreen.xyz / currPositionScreen.w,\n      nextPositionScreen.xyz / nextPositionScreen.w,\n      project_pixel_size_to_clipspace(width.xy)\n    );\n\n    gl_Position = vec4(pos * currPositionScreen.w, currPositionScreen.w);\n  } else {\n    // Extrude in commonspace\n    prevPosition = project_position(prevPosition, prevPosition64Low);\n    currPosition = project_position(currPosition, currPosition64Low);\n    nextPosition = project_position(nextPosition, nextPosition64Low);\n\n    width = vec3(project_pixel_size(widthPixels), 0.0);\n    DECKGL_FILTER_SIZE(width, geometry);\n\n    vec4 pos = vec4(\n      lineJoin(prevPosition, currPosition, nextPosition, width.xy),\n      1.0);\n    geometry.position = pos;\n    gl_Position = project_common_position_to_clipspace(pos);\n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#define SHADER_NAME path-layer-fragment-shader\n\nprecision highp float;\n\nuniform float miterLimit;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\n/*\n * vPathPosition represents the relative coordinates of the current fragment on the path segment.\n * vPathPosition.x - position along the width of the path, between [-1, 1]. 0 is the center line.\n * vPathPosition.y - position along the length of the path, between [0, L / width].\n */\nvarying vec2 vPathPosition;\nvarying float vPathLength;\nvarying float vJointType;\n\nvoid main(void) {\n  geometry.uv = vPathPosition;\n\n  if (vPathPosition.y < 0.0 || vPathPosition.y > vPathLength) {\n    // if joint is rounded, test distance from the corner\n    if (vJointType > 0.5 && length(vCornerOffset) > 1.0) {\n      discard;\n    }\n    // trim miter\n    if (vJointType < 0.5 && vMiterLength > miterLimit + 1.0) {\n      discard;\n    }\n  }\n  gl_FragColor = vColor;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[ne.Z,ie.Z]})}get wrapLongitude(){return!1}initializeState(){this.getAttributeManager().addInstanced({positions:{size:3,vertexOffset:1,type:5130,fp64:this.use64bitPositions(),transition:he,accessor:"getPath",update:this.calculatePositions,noAlloc:true,shaderAttributes:{instanceLeftPositions:{vertexOffset:0},instanceStartPositions:{vertexOffset:1},instanceEndPositions:{vertexOffset:2},instanceRightPositions:{vertexOffset:3}}},instanceTypes:{size:1,type:5121,update:this.calculateSegmentTypes,noAlloc:true},instanceStrokeWidths:{size:1,accessor:"getWidth",transition:he,defaultValue:1},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,accessor:"getColor",transition:he,defaultValue:pe},instancePickingColors:{size:3,type:5121,accessor:(e,t)=>{let{index:n,target:i}=t;return this.encodePickingColor(e&&e.__source?e.__source.index:n,i)}}}),this.setState({pathTesselator:new de({fp64:this.use64bitPositions()})})}updateState(e){super.updateState(e);const{props:t,changeFlags:n}=e,i=this.getAttributeManager();if(n.dataChanged||n.updateTriggersChanged&&(n.updateTriggersChanged.all||n.updateTriggersChanged.getPath)){const{pathTesselator:e}=this.state,o=t.data.attributes||{};e.updateGeometry({data:t.data,geometryBuffer:o.getPath,buffers:o,normalize:!t._pathType,loop:"loop"===t._pathType,getGeometry:t.getPath,positionFormat:t.positionFormat,wrapLongitude:t.wrapLongitude,resolution:this.context.viewport.resolution,dataChanged:n.dataChanged}),this.setState({numInstances:e.instanceCount,startIndices:e.vertexStarts}),n.dataChanged||i.invalidateAll()}if(n.extensionsChanged){var o;const{gl:e}=this.context;null===(o=this.state.model)||void 0===o||o.delete(),this.state.model=this._getModel(e),i.invalidateAll()}}getPickingInfo(e){const t=super.getPickingInfo(e),{index:n}=t,{data:i}=this.props;return i[0]&&i[0].__source&&(t.object=i.find((e=>e.__source.index===n))),t}disablePickingIndex(e){const{data:t}=this.props;if(t[0]&&t[0].__source)for(let n=0;n<t.length;n++)t[n].__source.index===e&&this._disablePickingIndex(n);else this._disablePickingIndex(e)}draw(e){let{uniforms:t}=e;const{jointRounded:n,capRounded:i,billboard:o,miterLimit:r,widthUnits:a,widthScale:l,widthMinPixels:s,widthMaxPixels:c}=this.props;this.state.model.setUniforms(t).setUniforms({jointType:Number(n),capType:Number(i),billboard:o,widthUnits:oe.iI[a],widthScale:l,miterLimit:r,widthMinPixels:s,widthMaxPixels:c}).draw()}_getModel(e){return new re.Z(e,{...this.getShaders(),id:this.props.id,geometry:new ae.Z({drawMode:4,attributes:{indices:new Uint16Array([0,1,2,1,4,2,1,3,4,3,5,4]),positions:{value:new Float32Array([0,0,0,-1,0,1,1,-1,1,1,1,0]),size:2}}}),isInstanced:!0})}calculatePositions(e){const{pathTesselator:t}=this.state;e.startIndices=t.vertexStarts,e.value=t.get("positions")}calculateSegmentTypes(e){const{pathTesselator:t}=this.state;e.startIndices=t.vertexStarts,e.value=t.get("segmentTypes")}}(0,ee.Z)(me,"defaultProps",ge),(0,ee.Z)(me,"layerName","PathLayer");var ve=n(18166);const{colors:fe}=K.v,{values:ye}=D.ZP,be=(0,Z.zo)("div",{transform:"translate(-50%, -50%)"}),Ce=(0,Z.zo)(ve.Z,{fontSize:"36px",color:"#d95140",transform:"translate(-50%, -100%)"}),xe=(0,Z.zo)("div",{position:"absolute",top:"8px",left:"0",background:fe.white,fontSize:"14px",padding:"8px 12px",margin:0,whiteSpace:"nowrap",fontFamily:ye.fontFamily.body,boxShadow:"0px 8px 16px rgba(0, 0, 0, 0.16)",zIndex:-1}),Le=e=>{let{title:t,icon:n}=e;return(0,M.BX)("div",{children:[n?(0,M.tZ)(be,{children:(0,M.tZ)("img",{src:n,alt:"",style:{display:"block"}})}):(0,M.tZ)(Ce,{children:(0,M.tZ)(ve.Z,{})}),(0,M.tZ)(xe,{children:t})]})};function Pe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const we=.15;class Se extends Q.PureComponent{constructor(e){super(e),Pe(this,"handleViewStateChange",(e=>{let{zoom:t,latitude:n,longitude:i}=e;this.setState({zoom:Math.min(Math.max(t,3),18),latitude:n,longitude:i})})),this.mapRef=(0,Q.createRef)(),this.state={latitude:e.mapCenter.latitude,longitude:e.mapCenter.longitude,zoom:17}}componentDidMount(){const e=this.mapRef.current;if(e){const t=e.getBoundingClientRect(),n=t?{top:t.height*we,bottom:t.height*we,left:t.width*we,right:t.width*we}:20,i=e.getViewStateForFeatures(function(e){const{pickupDetails:t,destinationDetails:n,points:i,mapGeoJson:o}=e,r=[];return t&&r.push({latitude:t.lat,longitude:t.long}),n&&r.push({latitude:n.lat,longitude:n.long}),i&&r.push(...i.map((e=>({latitude:e.lat,longitude:e.lng})))),r}(this.props),(e=>e),{padding:n,maxZoom:18});i&&this.setState({...i})}}render(){var e;const{points:t,pickupDetails:n,pickupMarkerUrl:i,destinationDetails:o,destinationMarkerUrl:r}=this.props,{zoom:a,latitude:l,longitude:s}=this.state,c=function(e,t,n,i){const o=[];if(e&&e.lat&&e.long){const t=e.addressLine2?e.addressLine1:e.fullAddress;o.push({coordinates:[e.long,e.lat],content:(0,M.tZ)(Le,{title:t,icon:n}),provider:"google_places"})}if(t&&t.lat&&t.long){const e=t.addressLine2?t.addressLine1:t.fullAddress;o.push({coordinates:[t.long,t.lat],content:(0,M.tZ)(Le,{title:e,icon:i}),provider:"google_places"})}return o}(n,o,i,r);return(0,M.tZ)(J.Y,{ref:this.mapRef,sessionId:Y.bw,layers:[new me({id:"path-layer",data:[{path:null!==(e=null==t?void 0:t.map((e=>[e.lng,e.lat])))&&void 0!==e?e:[]}],widthUnits:"pixels",getWidth:4,getColor:[0,0,0,255],getProvider:()=>"google"})],overlays:[c],viewState:{latitude:l,longitude:s,zoom:a},onViewStateChange:this.handleViewStateChange,showZoomButtons:!0,style:{height:"100%",width:"100%"}})}}function ke(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Te="homepage_trip-selector",{sambaUiMigration:{mediaQueries:{desk:Ze,palm:De,portable:_e}},values:Ie}=D.ZP,Oe=(0,Z.zo)("div",(e=>{let{$theme:t,$rtl:n,$active:i}=e;const{grid:o}=t;return{boxSizing:"border-box",direction:n?"rtl":"ltr",gridColumn:"1 / 13",gridRow:"3",maxWidth:"".concat(o.maxWidth,"px"),opacity:i?1:0,position:"relative",visibility:i?"visible":"hidden"}})),Ee=(0,Z.zo)("div",(()=>({boxSizing:"border-box",display:"grid",position:"relative",[Ze]:{gridColumn:"2 / 4",gridRow:"3",gridTemplateColumns:"repeat(12, 1fr)"}}))),Ae=(0,Z.zo)("div",(e=>{let{$theme:t,$active:n,$rtl:i}=e;const{colors:o,grid:r,mediaQuery:a}=t;return{boxSizing:"border-box",opacity:n?1:0,position:"relative",visibility:n?"visible":"hidden",[a.small]:{backgroundColor:o.backgroundPrimary,direction:i?"rtl":"ltr",gridColumn:"1 / 5",gridRow:"1 / 2"},[a.medium]:{backgroundColor:o.backgroundPrimary,direction:i?"rtl":"ltr",gridColumn:"1 / 9",gridRow:"1 / 2"},[a.large]:{gridColumn:"1 / 7",maxWidth:"".concat(r.maxWidth,"px")}}})),Be=(0,Z.zo)("div",(e=>{let{$theme:t}=e;const{colors:n,mediaQuery:i,sizing:o}=t;return{backgroundColor:n.backgroundPrimary,boxSizing:"border-box",display:"flex",flexDirection:"column",position:"relative",width:"100%",[i.small]:{padding:o.scale800},[i.medium]:{padding:o.scale900},[i.large]:{padding:o.scale1200}}})),ze=(0,Z.zo)("div",(e=>({boxSizing:"border-box",display:"block",left:0,opacity:e.$active?1:0,position:"relative",right:0,visibility:e.$active?"visible":"hidden",[Ze]:{bottom:0,top:0,gridColumn:"7 / 13"},[_e]:{direction:e.$rtl?"rtl":"ltr",gridColumn:"1",gridRow:"2"},[De]:{direction:e.$rtl?"rtl":"ltr",gridColumn:"1",gridRow:"2"}}))),Me=(0,Z.zo)("div",{width:"100%",":read-only *":{boxSizing:"border-box"}}),Re=(0,Z.zo)("div",{marginTop:"19px",":read-only *":{boxSizing:"border-box"},":first-child":{marginRight:"24px"}}),Ne=(0,Z.zo)("div",{display:"flex",flexWrap:"wrap",justifyContent:"start"}),Fe={portable:"aspect_16_9",palm:"aspect_4_3"},Ge=(0,Z.zo)("div",(()=>({position:"absolute",top:0,left:0,right:0,bottom:0,height:"100%",zIndex:0,display:"block",visibility:"visible",[_e]:{display:"block",visibility:"visible"},[De]:{display:"block",visibility:"visible"}}))),$e=(0,Z.zo)("div",(e=>{let{$aspectRatio:t}=e;return{overflow:"hidden",paddingBottom:Ie.aspectRatios[t],position:"relative",width:"100%"}}));function Ue(e){return Fe[e]||"aspect_16_9"}class Ve extends S.PureComponent{constructor(){super(...arguments),ke(this,"state",{detectLocationError:!1,detectLocationErrorCode:null}),ke(this,"setDetectionError",((e,t)=>{this.setState({detectLocationError:e,detectLocationErrorCode:t})}))}get errorMessage(){return this.state.detectLocationError?this.state.detectLocationErrorCode===_.S?this.props.localization.noDetectLocationPermissionError:this.props.localization.commonDetectLocationError:this.props.localization.commonError}get isLoadingPoint(){const{routesInputProps:e}=this.props;return e&&e.placeDetailsLoading&&(e.placeDetailsLoading.pickup||e.placeDetailsLoading.destination)}get isPointsLoaded(){const{routesInputProps:e}=this.props;return!!e&&!!e.pickupDetails&&!!e.destinationDetails}get redirectUrl(){const{tripRequestUrl:e,routesInputProps:t}=this.props;return(0,j.B8)(e,t.pickupDetails,t.destinationDetails)}get scheduleUrl(){const{tripRequestUrl:e,routesInputProps:t}=this.props;return(0,j.Yv)(e,t.pickupDetails,t.destinationDetails)}renderMapContainer(){const{mapProps:e,isLoadingDirections:t}=this.props;return(0,M.tZ)(Se,{...e,points:t?void 0:e.points})}renderTripSelector(){const{active:e,eventKeyPrefix:t=Te,currentBreakpoint:n,routesInputProps:i,localization:o,rtl:r,showCommonError:a,heading:l}=this.props,{detectLocationError:s}=this.state,{pickupDetails:c,destinationDetails:d}=i,u=!!c||!!d,p=n===W.yr.PALM,g="".concat(t,"_trip-selector.request-now_cta1"),h="".concat(t,"_trip-selector.schedule-for-later_cta2"),m=p?(0,M.BX)(U.Z,{display:"grid",gridTemplateColumns:"1fr",gridTemplateRows:"1fr 1fr",gridRowGap:"scale500",marginTop:"7px",dir:r?"rtl":"ltr",children:[(0,M.tZ)(V.ZP,{display:"flex",children:(0,M.tZ)(Me,{children:(0,M.tZ)(I.Z,{ariaLabel:o.ctaTextRequestNow,ctaType:O.m.BUTTON,ctaWidth:"100%","data-tracking-name":g,href:this.redirectUrl,rtl:r,text:o.ctaTextRequestNow})})}),(0,M.tZ)(V.ZP,{display:"flex",children:(0,M.tZ)(Me,{children:(0,M.tZ)(I.Z,{ariaLabel:o.ctaTextScheduleForLater,ctaKind:"secondary",ctaType:O.m.BUTTON,ctaWidth:"100%","data-tracking-name":h,href:this.scheduleUrl,rtl:r,text:o.ctaTextScheduleForLater})})})]}):(0,M.BX)(Ne,{dir:r?"rtl":"ltr",children:[(0,M.tZ)(Re,{children:(0,M.tZ)(I.Z,{ariaLabel:o.ctaTextRequestNow,ctaType:O.m.BUTTON,"data-tracking-name":g,href:this.redirectUrl,rtl:r,text:o.ctaTextRequestNow})}),(0,M.tZ)(Re,{children:(0,M.tZ)(I.Z,{ariaLabel:o.ctaTextScheduleForLater,ctaKind:"secondary",ctaType:O.m.BUTTON,"data-tracking-name":h,href:this.scheduleUrl,rtl:r,text:o.ctaTextScheduleForLater})})]});return(0,M.BX)(M.HY,{children:[(0,M.tZ)(Ae,{$active:e,$rtl:r,children:(0,M.BX)(Be,{children:[l&&(0,M.tZ)(E.Z,{elementLevel:2,level:1,children:l}),(0,M.tZ)(_.C,{rtl:r,localization:o,...i,setDetectionError:this.setDetectionError}),(s||a)&&(0,M.tZ)(X,{error:this.errorMessage}),m]})}),u&&(0,M.tZ)(ze,{$active:e,$rtl:r,children:"desk"===n?this.renderMapContainer():(0,M.tZ)($e,{$aspectRatio:Ue(n),children:(0,M.tZ)(Ge,{children:this.renderMapContainer()})})})]})}render(){const{active:e,currentBreakpoint:t,rtl:n}=this.props;return"desk"===t?(0,M.tZ)(Oe,{$active:e,$rtl:n,children:(0,M.tZ)(Ee,{children:this.renderTripSelector()})}):this.renderTripSelector()}}const je=function(e){return class extends S.Component{constructor(){super(...arguments),R(this,"state",{currentBreakpoint:A}),R(this,"mqListener",(()=>{this.setState((e=>{var t,n;let i;return i=null!==(t=$)&&void 0!==t&&t.matches?A:null!==(n=G)&&void 0!==n&&n.matches?B:z,i!==e.currentBreakpoint?{currentBreakpoint:i}:null}))}))}componentDidMount(){"undefined"==typeof window||"object"==typeof window&&"function"!=typeof window.matchMedia||("undefined"==typeof G&&(G=window.matchMedia("(max-width: ".concat(F,"px)"))),"undefined"==typeof $&&($=window.matchMedia("(min-width: ".concat(N,"px)"))),this.mqListener(),G.addListener(this.mqListener),$.addListener(this.mqListener))}componentWillUnmount(){"undefined"!=typeof G&&G.removeListener(this.mqListener),"undefined"!=typeof $&&$.removeListener(this.mqListener)}render(){return(0,M.tZ)(e,{currentBreakpoint:this.state.currentBreakpoint,...this.props})}}}(Ve);var We=n(63391),Ke=n(68607),qe=n(68698),He=n(57231),Xe=n(89143);const Qe=(0,qe.i)("loadTSCurrentLocation",{start:function(e){const t=e||P;return{...t,tsPlaceDetails:{...t.tsPlaceDetails,isLoadingCurrentLocation:!0,loadingState:{...t.tsPlaceDetails.loadingState,pickup:!0},errors:{}}}},success:function(e,t){const n=e||P,{address:i,position:o}=t.payload;let r;const a=n.tsPlaceDetails.pickup||{};return i&&i.location&&(r={...a,id:i.location.id,addressLine1:i.location.fullAddress,addressLine2:"",lat:o.lat,long:o.lng,isCurrentLocation:!0,provider:i.location.provider,title:i.location.addressLine1,fullAddress:i.location.fullAddress}),{...n,tsPlaceDetails:{...n.tsPlaceDetails,isLoadingCurrentLocation:!1,loadingState:{...n.tsPlaceDetails.loadingState,pickup:!1},errors:{...n.tsPlaceDetails.errors,pickup:!i||!i.location},pickup:r}}},failure:function(e,t){const n=e||P;return{...n,tsPlaceDetails:{...n.tsPlaceDetails,isLoadingCurrentLocation:!1,loadingState:{...n.tsPlaceDetails.loadingState,pickup:!1},errors:{...n.tsPlaceDetails.errors,pickup:!0}}}}});const Je=(0,qe.i)("loadTSPlaceDetailsByCoordinates",{start:function(e,t){const n=e||P,{type:i}=t.payload;return{...n,tsPlaceDetails:{...n.tsPlaceDetails,loadingState:{...n.tsPlaceDetails.loadingState,[i]:!0},errors:{}}}},success:function(e,t){const n=e||P,{address:i,position:o,type:r}=t.payload;let a;const l=n.tsPlaceDetails[r]||{};return i&&i.location&&(a={...l,id:i.location.id,addressLine1:i.location.fullAddress,addressLine2:"",lat:o.lat,long:o.lng,provider:i.location.provider,title:i.location.addressLine1,fullAddress:i.location.fullAddress}),{...n,tsPlaceDetails:{...n.tsPlaceDetails,loadingState:{...n.tsPlaceDetails.loadingState,[r]:!1},[r]:a}}},failure:function(e,t){const n=e||P,{type:i}=t.payload;return{...n,tsPlaceDetails:{...n.tsPlaceDetails,loadingState:{...n.tsPlaceDetails.loadingState,[i]:!1},errors:{...n.tsPlaceDetails.errors,[i]:!0}}}}});const Ye={clearTSPlaceDetails:e=>({type:a,payload:{type:e}}),clearTSDirections:()=>({type:l}),clearAllTSReducers:()=>({type:s})},et=(0,o.qC)((0,qe.w)("loadTSSuggestions"),(0,qe.w)("loadTSDirections"),(0,qe.w)("loadTSGeolocation"),(0,qe.w)("loadTSPlaceDetails"),Qe,Je,(0,i.$j)((function(e){let{tsPlaceDetails:t,tsGeolocation:n,tsSuggestions:i,tsDirections:o}=e;return{suggestions:i.suggestions,directions:o.directions,isLoadingDirections:o.isLoading,isLoadingSuggestions:i.isLoading,isLoading:n.isLoading,isLoadingCurrentLocation:t.isLoadingCurrentLocation,currentLocationError:t.errors.pickup,pickupDetails:t.pickup,destinationDetails:t.destination,placeDetailsLoading:t.loadingState,isPickupUsingCurrentLocation:!!t.pickup&&!!t.pickup.isCurrentLocation,defaultMapCenter:n.territoryGeoPoint,defaultMapGeoJson:n.territoryGeoJson,showCommonError:t.errors.pickup||t.errors.destination||n.error||i.error,hasGeolocationLoaded:n.hasLoaded}}),Ye),(function(e){return t=>{const{clearAllTSReducers:n,loadTSGeolocation:i}=t,{data:o}=(0,Xe.k)();return(0,Q.useEffect)((()=>{o&&i()}),[o,i]),(0,Q.useEffect)((()=>()=>{n()}),[n]),(0,M.tZ)(e,{...t,mapClientId:He.Bq,tripRequestUrl:"https://m.uber.com/looking"})}}));function tt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class nt extends S.Component{constructor(){var e;super(...arguments),e=this,tt(this,"clearFEPlaceDetails",(function(){const{pickupDetails:t,destinationDetails:n,clearTSPlaceDetails:i,setShowTripSelectorMap:o}=e.props,r=!!t&&!!n;i(...arguments),o(r)})),tt(this,"fetchCurrentLocation",(function(){const{loadTSCurrentLocation:t,setShowTripSelectorMap:n}=e.props;t(...arguments),n(!0)})),tt(this,"loadPlaceDetails",(function(){const{loadTSPlaceDetails:t,setShowTripSelectorMap:n}=e.props;t(...arguments),n(!0)}))}componentDidMount(){const{location:{search:e},coordinates:t,currentLanguage:n,loadTSPlaceDetailsByCoordinates:i}=this.props;if(t){const{pickup:e,destination:o}=t;return e&&e.lat&&e.lng&&i({lat:Number(e.lat),lng:Number(e.lng),type:"pickup",lang:n}),void(o&&o.lat&&o.lng&&i({lat:Number(o.lat),lng:Number(o.lng),type:"destination",lang:n}))}if(e){const{p_lat:t,p_long:o,d_lat:r,d_long:a}=We.parse(e);t&&o&&i({lat:Number(t),lng:Number(o),type:"pickup",lang:n}),r&&a&&i({lat:Number(r),lng:Number(a),type:"destination",lang:n})}}render(){const{active:e,anchorName:t,tripRequestUrl:i,isLoading:o,eventKeyPrefix:r,error:a,translate:l,suggestions:s,directions:c,defaultMapCenter:d,defaultMapGeoJson:u,loadTSDirections:p,loadTSSuggestions:g,isLoadingCurrentLocation:h,isLoadingDirections:m,currentLocationError:v,pickupDetails:f,destinationDetails:y,isPickupUsingCurrentLocation:b,showCommonError:C,currentLanguage:x,clearTSDirections:L,isLoadingSuggestions:P,mapClientId:w,rtl:S,placeDetailsLoading:T,heading:Z}=this.props;if(o||a)return(0,M.tZ)("noscript",{});const D={locationLabel:l("fare-estimate.location-aria-label"),pickupAriaLabel:l("fare-estimate.pickup-aria-label"),clearDestinationAriaLabel:l("fare-estimate.clear-destination-aria-label"),clearPickupAriaLabel:l("fare-estimate.clear-pickup-aria-label"),pickupPlaceholder:l("fare-estimate.pickup-placeholder"),destinationAriaLabel:l("fare-estimate.destination-aria-label"),destinationPlaceholder:l("fare-estimate.destination-placeholder"),noDetectLocationPermissionError:l("fare-estimate.error.no-detect-location-permission"),commonDetectLocationError:l("fare-estimate.error.common-detect-location"),commonError:l("fare-estimate.error.common-request"),ctaTextRequestNow:l("fare-estimate.error.request-now"),ctaTextScheduleForLater:l("fare-estimate.error.schedule-for-later")},_={active:e,anchorName:t,eventKeyPrefix:r,heading:Z,isLoadingDirections:m,tripRequestUrl:i,rtl:S,routesInputProps:{suggestions:s,mapCenter:d,isLoadingCurrentLocation:h,currentLocationError:v,isLoadingSuggestions:P,locale:x,pickupDetails:f,destinationDetails:y,isPickupUsingCurrentLocation:b,clearFEPlaceDetails:this.clearFEPlaceDetails,clearFEDirections:L,loadFEDirections:p,fetchCurrentLocation:this.fetchCurrentLocation,getSuggestions:g,loadPlaceDetails:this.loadPlaceDetails,placeDetailsLoading:T},mapProps:{clientId:w,pickupMarkerUrl:f&&!y?(0,k.pZ)(n(77432)):(0,k.pZ)(n(96379)),destinationMarkerUrl:(0,k.pZ)(n(56360)),mapCenter:d,mapGeoJson:u,pickupDetails:f,destinationDetails:y,points:c?c.points:void 0},localization:D,showCommonError:C};return(0,M.tZ)(je,{..._})}}const it=(0,o.qC)(Ke.o,et,(0,T.z)(["fare-estimate.error.common-request","fare-estimate.error.no-detect-location-permission","fare-estimate.error.common-detect-location","fare-estimate.location-aria-label","fare-estimate.pickup-aria-label","fare-estimate.pickup-placeholder","fare-estimate.destination-aria-label","fare-estimate.destination-placeholder","fare-estimate.clear-pickup-aria-label","fare-estimate.clear-destination-aria-label","fare-estimate.error.request-now","fare-estimate.error.schedule-for-later"]))(nt);var ot=n(52886),rt=n(3268),at=n(75881),lt=n(46827),st=n(74588),ct=n(8662),dt=n(81162),ut=n(10415);const pt=e=>{const[,t]=(0,Z.hQ)(),{formContent:n,getSuggestions:i,pickupDetails:o,loadPlaceDetails:r,fetchCurrentLocation:a,currentLanguage:l,isLoadingCurrentLocation:s,clearFEPlaceDetails:c,defaultMapCenter:d,suggestions:u,onBlur:p,onFocus:g,onFetchCurrentLocation:h,popoverOverrides:m}=e,{pickupContent:v}=n||{},f="rtl"===t.direction;return(0,M.tZ)(ct.U,{startEnhancer:ut.Z,type:"pickup",ariaLabel:null==v?void 0:v.pickupAriaLabel,dropdownAriaLabel:(null==v?void 0:v.pickupDropdownAriaLabel)||dt.x.PICKUP_LOCATION_DROPDOWN,inputAriaLabel:(null==v?void 0:v.pickupInputAriaLabel)||dt.x.PICKUP_INPUT,showLocationButton:!0,rtl:f,placeholder:null==v?void 0:v.pickupPlaceholder,locationDetails:o,getSuggestions:i,loadPlaceDetails:r,fetchCurrentLocation:a,locale:l,isLoading:s,suggestions:null==u?void 0:u.pickup,mapCenter:d,clearFEPlaceDetails:c,locationLabel:null==v?void 0:v.pickupLocationLabel,onFocus:g,onBlur:p,onFetchCurrentLocation:h,popoverOverrides:m})};var gt=n(10307);const ht=e=>{const[,t]=(0,Z.hQ)(),{formContent:n,getSuggestions:i,destinationDetails:o,loadPlaceDetails:r,fetchCurrentLocation:a,currentLanguage:l,defaultMapCenter:s,suggestions:c,clearFEPlaceDetails:d,onBlur:u,onFocus:p,popoverOverrides:g}=e,{destinationContent:h}=n||{},m="rtl"===t.direction;return(0,M.tZ)(ct.U,{startEnhancer:gt.Z,type:"destination",rtl:m,ariaLabel:null==h?void 0:h.destinationAriaLabel,dropdownAriaLabel:(null==h?void 0:h.destinationDropdownAriaLabel)||dt.x.DESTINATION_LOCATION_DROPDOWN,inputAriaLabel:(null==h?void 0:h.destinationInputAriaLabel)||dt.x.DESTINATION_INPUT,placeholder:null==h?void 0:h.destinationPlaceholder,locationDetails:o,getSuggestions:i,loadPlaceDetails:r,fetchCurrentLocation:a,locale:l,suggestions:null==c?void 0:c.destination,mapCenter:s,clearFEPlaceDetails:d,onFocus:p,onBlur:u,popoverOverrides:g})};var mt=n(47557),vt=n(55847);const ft=()=>(0,M.tZ)(vt.Z,{}),yt=e=>e?{paddingRight:"18px"}:{paddingLeft:"18px"},bt=e=>e?{paddingLeft:"2px"}:{paddingRight:"2px"},Ct=e=>{const[,t]=(0,Z.hQ)(),{placeholder:n,formatString:i,timeSelectStart:o,dateValue:r,setDateValue:a,clearable:l,ariaLabel:s}=e,c="rtl"===t.direction;return(0,M.tZ)(mt.Z,{value:r,onChange:e=>{let{date:t}=e;return a(Array.isArray(t)?t.filter(Boolean):t?[t]:[])},placeholder:n,formatString:i,minDate:new Date,mask:null,timeSelectStart:o,clearable:l,"aria-label":s,overrides:{Input:{props:{startEnhancer:ft,overrides:{Input:{style:{...yt(c),"::placeholder":{opacity:1,color:t.colors.black}}},ClearIconContainer:{style:{...bt(c)}},ClearIcon:{props:{overrides:{Svg:{style:{width:"33px",height:"33px",cursor:"pointer"}}}}}}}}}})};var xt=n(12828),Lt=n(89667),Pt=n(22278);const wt=e=>e?{paddingLeft:"4px"}:{paddingRight:"4px"},St=e=>e?{right:"22px"}:{left:"22px"},kt=e=>e?{paddingRight:"62px"}:{paddingLeft:"62px"},Tt=e=>{const[,t]=(0,Z.hQ)(),{timeValue:n,setTimeValue:i,placeholder:o,clearable:r,ariaLabel:a}=e,l="rtl"===t.direction;return(0,M.tZ)(xt.Z,{value:n,onChange:e=>i(e),nullable:!0,placeholder:o,overrides:{Select:{props:{type:Lt.wD.search,clearable:r,"aria-label":a,overrides:{SearchIcon:{props:{overrides:{Svg:{component:Pt.Z,props:{size:"20"}}}},style:{...St(l),width:"20px"}},Placeholder:{style:{opacity:1,color:t.colors.black}},ClearIcon:{props:{overrides:{Svg:{style:{width:"33px",height:"33px",cursor:"pointer",...wt(l)}}}}},ValueContainer:{style:{...kt(l)}}}}}}})},Zt="BROKEN_OUT_PICKER",Dt="COMBINED_PICKER",_t="LOCATION_FIELDS_ONLY",It="DESTINATION_LOCATION_ONLY",Ot="DESTINATION_LOCATION_ONLY_HORIZONTAL";var Et=n(45482);const At=e=>!!e&&e.getTime()-(new Date).getTime()>9e5,Bt=(e,t,n,i,o)=>o&&At(o)?(0,Et.Yv)(e,t,n,i,o.getTime()):(0,Et.B8)(e,t,n,i),zt={[Zt]:"327px",[Dt]:"327px",[_t]:"468px",[It]:"468px",[Ot]:"calc(100% - ".concat(58,"px)")},Mt={[Zt]:"192px",[Dt]:"270px",[_t]:"192px",[It]:"192px"};var Rt=n(77510),Nt=n(76748);const Ft=e=>{const[t,n]=(0,Q.useState)(null),i=(0,Q.useRef)(null),o=(0,Q.useCallback)((t=>{var o;null!==(o=window)&&void 0!==o&&o.IntersectionObserver&&(i.current=i.current||new IntersectionObserver((e=>{let[t]=e;n(t)}),e),i.current.observe(t))}),[]),r=(0,Q.useCallback)((()=>{var e;null===(e=i.current)||void 0===e||e.disconnect()}),[]),a=(0,Nt.B)(o,r);return(0,Q.useEffect)((()=>()=>{var e;null===(e=i.current)||void 0===e||e.disconnect()}),[]),[a,t]},Gt=(e,t,n,i,o)=>({padding:e.sizing.scale600,backgroundColor:e.colors.white,..."TOP"===t.sticky?{position:"sticky",top:"".concat(i-4,"px"),zIndex:1,...n?{boxShadow:e.lighting.shadow600}:null}:null,..."BOTTOM"===t.sticky?{position:"sticky",bottom:"".concat(o-4,"px"),zIndex:1,...n?{boxShadow:e.lighting.shadow600}:null}:null,...t.showBottomShadow?{boxShadow:e.lighting.shadow600,marginBottom:e.sizing.scale600}:null}),$t=e=>Array.isArray(e)&&e.length?e[0]:void 0,Ut=e=>{var t,n,i,o,r,a,l,s,c,d,u;const[p,g]=(0,Z.hQ)(),{mediaQuery:h}=g,m=(0,Rt.a)(h.large),[v,f]=S.useState([]),[y,b]=S.useState(!1),{formContent:C,tripRequestUrl:x,pickupDetails:L,destinationDetails:P,eventKeyPrefix:w,webAnalytics:k}=e,{variant:T,horizontalForm:D}=C||{};let _=Math.abs(parseInt(null==D?void 0:D.topOffset))||0;_="TOP"===(null==D?void 0:D.sticky)?_:0;let I=Math.abs(parseInt(null==D?void 0:D.bottomOffset))||0;I="BOTTOM"===(null==D?void 0:D.sticky)?I:0;const[O,E]=Ft({root:null,threshold:1,rootMargin:"".concat(-1*_,"px 0px ").concat(-1*I,"px 0px")}),{desktopVariant:A,mobileVariant:B}=C||{},z=T||(m?A:B),R="rtl"===g.direction,N=(e=>zt[e]||"327px")(z),F=(e=>Mt[e]||"192px")(z),G=z===Zt?"MMM d":"MMM d, h:mm a",$=z!==Zt,U=z!==It&&z!==Ot,V=z===Zt||z===Dt,j=z===Zt,W=(z===Zt?null==C||null===(t=C.dateOnlyContent)||void 0===t?void 0:t.dateOnlyPlaceholder:null==C||null===(n=C.dateTimeContent)||void 0===n?void 0:n.dateTimePlaceholder)||"",K=(null==C||null===(i=C.timeOnlyContent)||void 0===i?void 0:i.timeOnlyPlaceholder)||"",q=z===Zt?null==C||null===(o=C.dateOnlyContent)||void 0===o?void 0:o.dateOnlyClearable:null==C||null===(r=C.dateTimeContent)||void 0===r?void 0:r.dateTimeClearable,H=(z===Zt?null==C||null===(a=C.dateOnlyContent)||void 0===a?void 0:a.dateOnlyAriaLabel:null==C||null===(l=C.dateTimeContent)||void 0===l?void 0:l.dateTimeAriaLabel)||"",X="".concat(w||"","_horizontal_").concat(z),Q={...e,onFocus:()=>null==k?void 0:k.track("".concat(X,"_pickup_focus")),onBlur:()=>null==k?void 0:k.track("".concat(X,"_pickup_blur")),onFetchCurrentLocation:()=>null==k?void 0:k.track("".concat(X,"_pickup_fetchCurrentLocation"))},J={...e,onFocus:()=>null==k?void 0:k.track("".concat(X,"_destination_focus")),onBlur:()=>null==k?void 0:k.track("".concat(X,"_destination_blur")),popoverOverrides:y||null!=D&&D.showBottomShadow?{Body:{style:{zIndex:1}}}:void 0};return S.useEffect((()=>{var e,t;((null==E||null===(e=E.boundingClientRect)||void 0===e?void 0:e.top)<_&&"TOP"===(null==D?void 0:D.sticky)||(null==E||null===(t=E.boundingClientRect)||void 0===t?void 0:t.bottom)<I&&"BOTTOM"===(null==D?void 0:D.sticky))&&!0!==y?b(!0):1===(null==E?void 0:E.intersectionRatio)&&!1!==y&&b(!1)}),[null==E||null===(s=E.boundingClientRect)||void 0===s?void 0:s.top,null==E||null===(c=E.boundingClientRect)||void 0===c?void 0:c.bottom,null==E?void 0:E.intersectionRatio,null==D?void 0:D.sticky,y,b,_,I]),S.useEffect((()=>{null==k||k.track("".concat(X,"_pickup_").concat(L?"set":"unset"))}),[X,L,k]),S.useEffect((()=>{null==k||k.track("".concat(X,"_destination_").concat(P?"set":"unset"))}),[X,P,k]),S.useEffect((()=>{null==k||k.track("".concat(X,"_date_").concat($t(v)?"set":"unset"))}),[X,v,k]),(0,M.tZ)(rt.Z,{className:p(Gt(g,D||{},y,_,I)),ref:O,children:(0,M.BX)(rt.Z,{display:"flex",gridGap:g.sizing.scale300,maxWidth:"100%",justifyContent:"center",children:[U&&(0,M.tZ)(rt.Z,{width:N,children:(0,M.tZ)(pt,{...Q})}),(0,M.tZ)(rt.Z,{width:N,children:(0,M.tZ)(ht,{...J})}),V&&(0,M.tZ)(rt.Z,{width:F,minWidth:F,children:(0,M.tZ)(Ct,{formatString:G,placeholder:W,timeSelectStart:$,dateValue:v,setDateValue:f,clearable:q,ariaLabel:H})}),j&&(0,M.tZ)(rt.Z,{width:"192px",children:(0,M.tZ)(Tt,{timeValue:$t(v),setTimeValue:e=>f(e?[e]:[]),placeholder:K,clearable:null==C||null===(d=C.timeOnlyContent)||void 0===d?void 0:d.timeOnlyClearable,ariaLabel:(null==C||null===(u=C.timeOnlyContent)||void 0===u?void 0:u.timeOnlyAriaLabel)||""})}),(0,M.tZ)(at.Z,{$as:"a",target:"_blank",onClick:()=>{null==k||k.track("".concat(X,"_").concat(String(Boolean(L)),"_").concat(String(Boolean(P)),"_").concat(String(At($t(v))),"_submit"))},href:Bt(x,L,P,null,$t(v)),children:R?(0,M.tZ)(st.Z,{size:18}):(0,M.tZ)(lt.Z,{size:18})})]})})},Vt=e=>e?{marginLeft:"auto"}:{marginRight:"auto"},jt=e=>e?{marginRight:"auto"}:{marginLeft:"auto"},Wt=(e,t,n,i,o)=>({padding:e.sizing.scale600,backgroundColor:e.colors.white,..."TOP"===t.sticky?{position:"sticky",top:"".concat(i-4,"px"),zIndex:1,...n?{boxShadow:e.lighting.shadow600}:null}:null,..."BOTTOM"===t.sticky?{position:"sticky",bottom:"".concat(o-4,"px"),zIndex:1,...n?{boxShadow:e.lighting.shadow600}:null}:null,...t.showBottomShadow?{boxShadow:e.lighting.shadow600,marginBottom:e.sizing.scale600}:null}),Kt=e=>Array.isArray(e)&&e.length?e[0]:void 0,qt=e=>{var t,n,i,o,r,a,l,s,c,d,u,p;const[g,h]=(0,Z.hQ)(),[m,v]=S.useState(!1),[f,y]=S.useState([]),{formContent:b,tripRequestUrl:C,pickupDetails:x,destinationDetails:L,eventKeyPrefix:P,webAnalytics:w}=e,{mobileVariant:k,verticalForm:T}=b||{},{variant:D}=b||{},_=D||k,I="rtl"===h.direction,O=_!==It,E=_===Zt,A=_===Dt,B=(_===Zt?null==b||null===(t=b.dateOnlyContent)||void 0===t?void 0:t.dateOnlyPlaceholder:null==b||null===(n=b.dateTimeContent)||void 0===n?void 0:n.dateTimePlaceholder)||"",z=(null==b||null===(i=b.timeOnlyContent)||void 0===i?void 0:i.timeOnlyPlaceholder)||"",R="".concat(P||"","_vertical_").concat(_);let N=Math.abs(parseInt(null==T?void 0:T.topOffset))||0;N="TOP"===(null==T?void 0:T.sticky)?N:0;let F=Math.abs(parseInt(null==T?void 0:T.bottomOffset))||0;F="BOTTOM"===(null==T?void 0:T.sticky)?F:0;const[G,$]=Ft({root:null,threshold:1,rootMargin:"".concat(-1*N,"px 0px ").concat(-1*F,"px 0px")}),U={...e,onFocus:()=>null==w?void 0:w.track("".concat(R,"_pickup_focus")),onBlur:()=>null==w?void 0:w.track("".concat(R,"_pickup_blur")),onFetchCurrentLocation:()=>null==w?void 0:w.track("".concat(R,"_pickup_fetchCurrentLocation"))},V={...e,onFocus:()=>null==w?void 0:w.track("".concat(R,"_destination_focus")),onBlur:()=>null==w?void 0:w.track("".concat(R,"_destination_blur"))};return S.useEffect((()=>{null==w||w.track("".concat(R,"_pickup_").concat(x?"set":"unset"))}),[R,x,w]),S.useEffect((()=>{null==w||w.track("".concat(R,"_destination_").concat(L?"set":"unset"))}),[R,L,w]),S.useEffect((()=>{null==w||w.track("".concat(R,"_date_").concat(Kt(f)?"set":"unset"))}),[R,f,w]),S.useEffect((()=>{var e,t;((null==$||null===(e=$.boundingClientRect)||void 0===e?void 0:e.top)<N&&"TOP"===(null==T?void 0:T.sticky)||(null==$||null===(t=$.boundingClientRect)||void 0===t?void 0:t.bottom)<F&&"BOTTOM"===(null==T?void 0:T.sticky))&&!0!==m?v(!0):1===(null==$?void 0:$.intersectionRatio)&&!1!==m&&v(!1)}),[null==$||null===(o=$.boundingClientRect)||void 0===o?void 0:o.top,null==$||null===(r=$.boundingClientRect)||void 0===r?void 0:r.bottom,null==$?void 0:$.intersectionRatio,null==T?void 0:T.sticky,m,v,N,F]),(0,M.BX)(rt.Z,{className:g(Wt(h,T||{},m,N,F)),ref:G,children:[O&&(0,M.tZ)(rt.Z,{marginTop:h.sizing.scale300,children:(0,M.tZ)(pt,{...U})}),(0,M.tZ)(rt.Z,{marginTop:h.sizing.scale300,children:(0,M.tZ)(ht,{...V})}),E&&(0,M.BX)(rt.Z,{display:"flex",flex:"1",gridGap:h.sizing.scale300,marginTop:h.sizing.scale300,children:[(0,M.tZ)(rt.Z,{minWidth:"0",flex:"1",children:(0,M.tZ)(Ct,{formatString:"MMM d",placeholder:B,dateValue:f,setDateValue:y,clearable:null==b||null===(a=b.dateOnlyContent)||void 0===a?void 0:a.dateOnlyClearable,ariaLabel:(null==b||null===(l=b.dateOnlyContent)||void 0===l?void 0:l.dateOnlyAriaLabel)||""})}),(0,M.tZ)(rt.Z,{minWidth:"0",flex:"1",children:(0,M.tZ)(Tt,{timeValue:Kt(f),setTimeValue:e=>y(e?[e]:[]),placeholder:z,clearable:null==b||null===(s=b.timeOnlyContent)||void 0===s?void 0:s.timeOnlyClearable,ariaLabel:(null==b||null===(c=b.timeOnlyContent)||void 0===c?void 0:c.timeOnlyAriaLabel)||""})})]}),A&&(0,M.tZ)(rt.Z,{marginTop:h.sizing.scale300,children:(0,M.tZ)(Ct,{formatString:"MMM d, h:mm a",placeholder:B,dateValue:f,setDateValue:y,clearable:null==b||null===(d=b.dateTimeContent)||void 0===d?void 0:d.dateTimeClearable,ariaLabel:null==b||null===(u=b.dateTimeContent)||void 0===u?void 0:u.dateTimeAriaLabel,timeSelectStart:!0})}),(0,M.tZ)(rt.Z,{marginTop:h.sizing.scale600,marginBottom:h.sizing.scale300,width:"100%",children:(0,M.tZ)(at.Z,{$as:"a",target:"_blank",onClick:()=>{null==w||w.track("".concat(R,"_").concat(String(Boolean(x)),"_").concat(String(Boolean(L)),"_").concat(String(At(Kt(f))),"_submit"))},href:Bt(C,x,L,null,Kt(f)),startEnhancer:()=>(0,M.tZ)(M.HY,{}),endEnhancer:()=>I?(0,M.tZ)(st.Z,{size:24}):(0,M.tZ)(lt.Z,{size:24}),overrides:{BaseButton:{style:{width:"100%",boxSizing:"border-box"}},StartEnhancer:{style:{...Vt(I)}},EndEnhancer:{style:{...jt(I)}}},children:(null==b||null===(p=b.submitContent)||void 0===p?void 0:p.submitText)||""})})]})},Ht=(0,ot.Ng)((e=>{const{currentBreakpoint:t,eventKeyPrefix:n,webAnalytics:i,formContent:o}=e,{variant:r}=o||{},{desktopVariant:a,mobileVariant:l}=o||{},s=t===ot.yr.DESK||!r&&"DESTINATION_LOCATION_ONLY_HORIZONTAL"===l;return S.useEffect((()=>{n&&(null==i||i.track("".concat(n,"_").concat(s?"horizontal":"vertical","_").concat(r||(t===ot.yr.DESK?a:l),"_shown")))}),[n,s,a,l,r,i,t]),s?(0,M.tZ)(Ut,{...e}):(0,M.tZ)(qt,{...e})})),Xt=e=>(0,M.tZ)(Ht,{...e});var Qt=n(67415),Jt=n(48191);const Yt=(0,o.qC)((0,Qt.r5)({webAnalytics:Jt.l}),et,(0,T.z)(["pickup.dropdown.aria-label","destination.dropdown.aria-label","pickup.input.aria-label","destination.input.aria-label"]))((e=>{const{tripRequestUrl:t,isLoading:n,eventKeyPrefix:i,error:o,suggestions:r,loadTSSuggestions:a,isLoadingCurrentLocation:l,pickupDetails:s,destinationDetails:c,isPickupUsingCurrentLocation:d,isLoadingSuggestions:u,placeDetailsLoading:p,clearTSPlaceDetails:g,loadTSCurrentLocation:h,loadTSPlaceDetails:m,currentLanguage:v,defaultMapCenter:f,formContent:y,webAnalytics:b,translate:C}=e;if(o)return(0,M.tZ)("noscript",{});const x=C("pickup.dropdown.aria-label"),L=C("destination.dropdown.aria-label"),P=C("pickup.input.aria-label"),w=C("destination.input.aria-label"),S={formContent:{...y,pickupContent:{...y.pickupContent,pickupDropdownAriaLabel:x,pickupInputAriaLabel:P},destinationContent:{...y.destinationContent,destinationDropdownAriaLabel:L,destinationInputAriaLabel:w}},defaultMapCenter:f,suggestions:r,isLoadingCurrentLocation:l,isPickupUsingCurrentLocation:d,isLoadingSuggestions:u,placeDetailsLoading:p,currentLanguage:v,pickupDetails:s,clearFEPlaceDetails:g,fetchCurrentLocation:h,getSuggestions:a,loadPlaceDetails:m,destinationDetails:c,eventKeyPrefix:i,tripRequestUrl:t,webAnalytics:b};return(0,M.tZ)(Xt,{...S})})),en={DESTINATION_LOCATION_ONLY:"DESTINATION_LOCATION_ONLY",COMBINED_PICKER:"COMBINED_PICKER",RENT_BOOKING:"RENT_BOOKING"},tn="396px",nn="AIRPORT",on="HOTEL",rn="RESTAURANT",an="Allow location access",ln="It provides your pick-up address",sn="Return to a different location";var cn=n(30222),dn=n(79930),un=n(18339),pn=n(71206),gn=n(38933),hn=n(30291),mn=n(6591),vn=n(52920),fn=n(61328),yn=n(70803),bn=n(38317),Cn=n(96712),xn=n(80472),Ln=n(5804),Pn=n(46858),wn=n(24226),Sn=n(45672),kn=n(19316),Tn=n.n(kn),Zn=n(56864);const Dn=e=>{let{$rtl:t}=e;return t?{left:"15px",marginRight:"8px"}:{right:"15px",marginLeft:"8px"}},_n=(0,Z.zo)("div",(e=>{let{$theme:t}=e;return{height:"100%",cursor:"pointer",width:"1em",display:"flex",alignItems:"center",justifyContent:"center",...Dn({$rtl:"rtl"===t.direction})}})),In=(0,Z.zo)(Zn.Z,(e=>{let{$error:t,$theme:n}=e;return{color:t?n.colors.negative400:n.colors.black}})),On=e=>{const{fetchCurrentLocation:t,error:n,isVisible:i,locationLabel:o}=e;return i?(0,M.tZ)(_n,{children:(0,M.tZ)(In,{onClick:t,onKeyPress:e=>{e&&"Enter"===e.key&&t()},tabIndex:0,role:"button","aria-label":o,$error:n,className:"pe-location-fetch"})}):null};var En=n(89897),An=n(64640);const{values:{fontSize:Bn},buttonReset:zn}=D.ZP,Mn=((0,Z.zo)("div",(e=>{let{$theme:t,$isFlush:n}=e;const{mediaQuery:i,sizing:o}=t;return{[i.large]:{marginTop:n?o.scale1600:0}}})),(0,Z.zo)("div",(e=>{let{$playButtonColor:t,$theme:n}=e;return{alignItems:"center",color:t,display:"flex",fontSize:"88px",left:"calc(50% - 44px)",position:"absolute",top:"calc(50% - 44px)",transform:"rtl"===n.direction?"scale(-1)":"none",zIndex:1,cursor:"pointer"}}))),Rn=(0,Z.zo)("span",(e=>{let{$rtl:t}=e;return{alignItems:"center",display:"flex",fontSize:"58px",height:"58px",marginLeft:t?"10px":0,marginRight:t?0:"10px",transform:t?"scale(-1)":"none"}})),Nn=(0,Z.zo)("button",(e=>{let{$playButtonColor:t}=e;return{...zn,alignItems:"center",color:t,cursor:"pointer",display:"flex",fontSize:Bn.fixedBodyMediumDesk,margin:"12px 0 0 0"}})),Fn=(0,Z.zo)("div",(e=>{let{$theme:t,$backgroundColor:n}=e;return{padding:t.sizing.scale800,paddingTop:"0",borderTopRightRadius:t.sizing.scale600,borderTopLeftRadius:t.sizing.scale600,position:"relative",top:"-".concat(t.sizing.scale800),backgroundColor:n||t.colors.backgroundPrimary,animationDuration:"500ms",animationIterationCount:1,animationName:{from:{transform:"translateY(100vh)"},to:{transform:"translateY(0)"}}}})),Gn=(0,Z.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.negative}})),$n=(0,Z.zo)("div",{position:"relative",animationDuration:"1s",animationIterationCount:1,animationName:{from:{opacity:0},to:{opacity:1}}}),Un=(0,Z.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.HeadingXSmall,paddingBottom:t.sizing.scale500,paddingTop:t.sizing.scale800}})),Vn=Q.forwardRef((function(e,t){let{title:n="Airplane",titleId:i,size:o="1em",...r}=e;return(0,M.BX)("svg",{width:o,height:o,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":i,...r,children:[void 0===n?(0,M.tZ)("title",{id:i,children:"Airplane"}):n?(0,M.tZ)("title",{id:i,children:n}):null,(0,M.tZ)("path",{d:"M21 9h-5.5L10 1H8v8H3.5l-2-2H0v10h1.5l2-2H8v8h2l5.5-8H21c1.7 0 3-1.3 3-3s-1.3-3-3-3Z",fill:"currentColor"})]})})),jn=Q.forwardRef((function(e,t){let{title:n="Bed",titleId:i,size:o="1em",...r}=e;return(0,M.BX)("svg",{width:o,height:o,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":i,...r,children:[void 0===n?(0,M.tZ)("title",{id:i,children:"Bed"}):n?(0,M.tZ)("title",{id:i,children:n}):null,(0,M.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 9V8h3v12h-3v-3H4v3H1V4h3v5h16ZM5 5h6v3H5V5Z",fill:"currentColor"})]})})),Wn=Q.forwardRef((function(e,t){let{title:n="Restaurant",titleId:i,size:o="1em",...r}=e;return(0,M.BX)("svg",{width:o,height:o,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":i,...r,children:[void 0===n?(0,M.tZ)("title",{id:i,children:"Restaurant"}):n?(0,M.tZ)("title",{id:i,children:n}):null,(0,M.tZ)("g",{fill:"currentColor",children:(0,M.tZ)("path",{d:"M9 8V1h2v7c0 2.3-1.5 4.2-3.5 4.8V23h-3V12.8C2.5 12.1 1 10.2 1 8V1h2v7h2V1h2v7h2ZM13 6c0-2.8 2.2-5 5-5s5 2.2 5 5v2c0 2.2-1.5 4.1-3.5 4.7V23h-3V12.7c-2-.6-3.5-2.5-3.5-4.7V6Z"})})]})}));var Kn=n(97302);const qn=(0,Z.zo)("div",{display:"flex",alignItems:"center"}),Hn=(0,Z.zo)("div",(e=>{let{$theme:t,$locationAccess:n}=e;return{display:"flex",alignItems:"center",justifyContent:"center",width:t.sizing.scale950,height:t.sizing.scale950,backgroundColor:n?t.colors.primary:t.colors.backgroundTertiary,marginLeft:t.sizing.scale550,marginRight:t.sizing.scale550,borderRadius:"50%",flexShrink:0,color:n?t.colors.contentInversePrimary:t.colors.primary}})),Xn=(0,Z.zo)("div",(e=>{let{$theme:t}=e;return{paddingTop:t.sizing.scale500,paddingBottom:t.sizing.scale500,paddingRight:t.sizing.scale600,color:t.colors.primary,flex:1,borderBottomColor:t.borders.border100.borderColor,borderBottomWidth:t.borders.border100.borderWidth,borderBottomStyle:t.borders.border100.borderStyle}})),Qn=(0,Z.zo)("p",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,marginTop:0,marginBottom:0}})),Jn=(0,Z.zo)("p",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,marginTop:0,marginBottom:0}})),Yn=e=>{let{option:t}=e;const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.includes("AIRPORT")?nn:e.includes("HOTEL")?on:e.includes("RESTAURANT")?rn:""}(t.categories||[]),i=t.locationAccess?Kn.Z:(e=>{switch(e){case nn:return Vn;case on:return jn;case rn:return Wn;default:return ve.Z}})(n);return(0,M.BX)(qn,{children:[(0,M.tZ)(Hn,{$locationAccess:t.locationAccess,children:(0,M.tZ)(i,{size:16})}),(0,M.BX)(Xn,{children:[(0,M.tZ)(Qn,{children:t.addressLine1}),(0,M.tZ)(Jn,{children:t.addressLine2})]})]})};var ei=n(85057);const ti=(0,Z.w1)(En.Bc,(()=>({fontSize:"24px"}))),ni=e=>e?{right:"22px"}:{left:"22px"},ii=(e,t,n)=>{const i=parseInt(t,10)+parseInt(n,10);return e?{paddingRight:"".concat(i,"px")}:{paddingLeft:"".concat(i,"px")}},oi=Tn()(((e,t)=>{let{props:n}=e;const{locale:i,type:o}=n,{lat:r,long:a}=(e=>{let{props:t}=e;const{mapCenter:n,locationDetails:i}=t;return null!=i&&i.lat?{lat:i.lat,long:i.long}:{lat:null==n?void 0:n.latitude,long:null==n?void 0:n.longitude}})({props:n});n.getSuggestions({q:t,type:o,locale:i,lat:r,long:a})}),300),ri=(e,t,n)=>{let{props:i,state:o}=e;o.setIsDetectionError(t&&1===n)},ai=e=>{var t;let{props:n,state:i}=e;null===(t=n.onFetchCurrentLocation)||void 0===t||t.call(n),ri({props:n,state:i},!1),window&&window.navigator.geolocation.getCurrentPosition((e=>{e&&e.coords?(n.fetchCurrentLocation({lat:e.coords.latitude,lng:e.coords.longitude,lang:n.locale}),i.setCurrentLocationAvailable(!0)):ri({props:n,state:i},!0)}),(e=>{ri({props:n,state:i},!0,e.code)}))},li=e=>{let{props:t,state:n}=e;const{showLocationButton:i=!1,isLoading:o,locationLabel:r}=t,{isDetectionError:a}=n;return e=>{let{children:l,...s}=e;const c=Q.Children.toArray(l).length,d=i&&!c&&!o;return(0,M.BX)(ti,{...s,children:[l,(0,M.tZ)(On,{isVisible:d,fetchCurrentLocation:()=>ai({props:t,state:n}),locationLabel:r,error:a})]})}},si=e=>{if(null==e||!e.id||!e.fullAddress)return[];const{addressLine1:t,addressLine2:n}=e;return[{...e,label:"".concat(t).concat(n?", ".concat(n):"")}]},ci=e=>{const[t,n]=(0,Z.hQ)(),{type:i,placeholder:o,startEnhancer:r,rtl:a,locationDetails:l,isLoading:s,suggestions:c,ariaLabel:d,dropdownAriaLabel:u,inputAriaLabel:p,onBlur:g,onFocus:h,onSelect:m,startEnhancerSize:v,errorMsg:f,setErrorMsg:y,isOpen:b,setIsOpen:C,showStyledOptions:x=!1,showInput:L=!0,locationAccessMsg:P}=e,[w,S]=Q.useState(si(l)),[k,T]=Q.useState(si(l)),[D,_]=Q.useState(!1),[I,O]=Q.useState(!1),[E,A]=Q.useState(!1);Q.useEffect((()=>{l&&S(si(l)),T(si(l))}),[l]),Q.useEffect((()=>{Array.isArray(c)&&c.length>0&&T((e=>Array.isArray(e)?e.map((e=>({...e,label:"".concat(e.addressLine1).concat(e.addressLine2?", ".concat(e.addressLine2):"")}))):[])(c))}),[c]);Q.useEffect((()=>{x&&(async()=>{try{var t;const n=await(null===(t=navigator)||void 0===t||null===(t=t.permissions)||void 0===t?void 0:t.query({name:"geolocation"}));"granted"===(null==n?void 0:n.state)?ai({props:e,state:B}):"denied"===(null==n?void 0:n.state)&&A(!0)}catch(e){console.log(e)}})()}),[]);const B={value:w,setValue:S,options:k,setOptions:T,isDetectionError:D,setIsDetectionError:_,currentLocationAvailable:I,setCurrentLocationAvailable:O},z=Q.useRef(null);Q.useEffect((()=>{var e,t;b?null==z||null===(e=z.current)||void 0===e||e.setInputFocus():null==z||null===(t=z.current)||void 0===t||t.setInputBlur()}),[b]);const R=C?{ControlContainer:{props:{$isFocused:b,$isPseudoFocused:b}},Popover:{props:{isOpen:b}}}:{};return L?(0,M.BX)(M.HY,{children:[(0,M.tZ)(An.Z,{error:Boolean(f),getOptionLabel:x?Yn:void 0,options:(e=>!x||E||I||"destination"==i?e:[{locationAccess:!0,addressLine1:(null==P?void 0:P.heading)||an,addressLine2:(null==P?void 0:P.description)||ln},...e])(k),value:w,onChange:t=>{((e,t)=>{let{props:n,state:i}=e;const{locale:o,suggestions:r,type:a,loadPlaceDetails:l,clearFEPlaceDetails:s}=n;if(!Array.isArray(t)||0===t.length)return i.setValue([]),i.setOptions([]),void s(a);if(t[0].locationAccess)return void ai({props:n,state:i});const{id:c,provider:d}=t[0]||{};c&&Array.isArray(r)&&r.find((e=>e.id===c))&&l({type:a,locale:o,id:String(c),provider:d})})({props:e,state:B},t.value),null==C||C(!1),t.value.length&&(null==m||m())},controlRef:z,onInputChange:t=>{null==y||y(""),S([{label:t.target.value,id:t.target.value}]),oi({props:e},t.target.value)},onFocus:e=>{null==h||h(e),null==C||C(!0)},onBlur:e=>{null==g||g(e),null==C||C(!1)},placeholder:o,type:Lt.wD.search,isLoading:s,"aria-label":d,filterOptions:e=>e,overrides:{IconsContainer:{component:li({props:e,state:B})},ClearIcon:{props:{overrides:{Svg:{style:{width:n.sizing.scale800,height:n.sizing.scale800,cursor:"pointer"}}}}},SearchIcon:{props:{overrides:{Svg:{component:r,props:{size:v||"20"}}}},style:{...ni(a),width:"20px"}},SearchIconContainer:{style:{width:v&&"".concat(v,"px")}},ValueContainer:{props:{...ei.ki,"aria-label":p},style:{...ii(a,n.sizing.scale600,v||"20")}},DropdownListItem:{style:x?{padding:"0"}:{}},DropdownContainer:{props:{...ei.ki,"aria-label":u}},...R}}),f&&(0,M.tZ)(Gn,{children:f})]}):null},di=Q.forwardRef((function(e,t){let{title:n="Circle small",titleId:i,size:o="1em",...r}=e;return(0,M.BX)("svg",{width:o,height:o,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":i,...r,children:[void 0===n?(0,M.tZ)("title",{id:i,children:"Circle small"}):n?(0,M.tZ)("title",{id:i,children:n}):null,(0,M.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm5-2a5 5 0 1 1-10 0 5 5 0 0 1 10 0Z",fill:"currentColor"})]})})),ui=e=>{const[,t]=(0,Z.hQ)(),{formContent:n={},getSuggestions:i,pickupDetails:o,loadPlaceDetails:r,fetchCurrentLocation:a,currentLanguage:l,isLoadingCurrentLocation:s,clearFEPlaceDetails:c,defaultMapCenter:d,suggestions:u,onBlur:p,onFocus:g,onSelect:h,onFetchCurrentLocation:m,startEnhancerSize:v,errorMsg:f,setErrorMsg:y,showLocationButton:b=!0,showStyledOptions:C,locationAccessMsg:x}=e,{pickupContent:L}=n,P="rtl"===t.direction;return(0,M.tZ)(ci,{startEnhancer:o?ut.Z:di,type:"pickup",ariaLabel:null==L?void 0:L.pickupAriaLabel,dropdownAriaLabel:(null==L?void 0:L.pickupDropdownAriaLabel)||dt.x.PICKUP_LOCATION_DROPDOWN,inputAriaLabel:(null==L?void 0:L.pickupInputAriaLabel)||dt.x.PICKUP_INPUT,showLocationButton:b,rtl:P,placeholder:null==L?void 0:L.pickupPlaceholder,locationDetails:o,getSuggestions:i,loadPlaceDetails:r,fetchCurrentLocation:a,locale:l,isLoading:s,suggestions:null==u?void 0:u.pickup,mapCenter:d,clearFEPlaceDetails:c,locationLabel:null==L?void 0:L.locationIconAriaLabel,onFocus:g,onBlur:p,onSelect:h,onFetchCurrentLocation:m,startEnhancerSize:v,errorMsg:f,setErrorMsg:y,showStyledOptions:C,locationAccessMsg:x})},pi=Q.forwardRef((function(e,t){let{title:n="Square small",titleId:i,size:o="1em",...r}=e;return(0,M.BX)("svg",{width:o,height:o,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":i,...r,children:[void 0===n?(0,M.tZ)("title",{id:i,children:"Square small"}):n?(0,M.tZ)("title",{id:i,children:n}):null,(0,M.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 10h-4v4h4v-4ZM7 7v10h10V7H7Z",fill:"currentColor"})]})})),gi=e=>{const[,t]=(0,Z.hQ)(),{formContent:n={},getSuggestions:i,destinationDetails:o,loadPlaceDetails:r,fetchCurrentLocation:a,currentLanguage:l,defaultMapCenter:s,suggestions:c,clearFEPlaceDetails:d,onBlur:u,onFocus:p,onSelect:g,startEnhancerSize:h,errorMsg:m,setErrorMsg:v,isOpen:f,setIsOpen:y,showInput:b,showStyledOptions:C}=e,{destinationContent:x}=n,L="rtl"===t.direction;return(0,M.tZ)(ci,{startEnhancer:o?gt.Z:pi,type:"destination",rtl:L,ariaLabel:null==x?void 0:x.destinationAriaLabel,dropdownAriaLabel:(null==x?void 0:x.destinationDropdownAriaLabel)||dt.x.DESTINATION_LOCATION_DROPDOWN,inputAriaLabel:(null==x?void 0:x.destinationInputAriaLabel)||dt.x.DESTINATION_INPUT,placeholder:null==x?void 0:x.destinationPlaceholder,locationDetails:o,getSuggestions:i,loadPlaceDetails:r,fetchCurrentLocation:a,locale:l,suggestions:null==c?void 0:c.destination,mapCenter:s,clearFEPlaceDetails:d,onFocus:p,onBlur:u,onSelect:g,startEnhancerSize:h,errorMsg:m,setErrorMsg:v,isOpen:f,setIsOpen:y,showInput:b,showStyledOptions:C})},hi=864e5,mi=(e,t,n,i,o)=>o&&(e=>!!e&&e.getTime()-(new Date).getTime()>9e5)(o)?(0,j.Yv)(e,t,n,i,o.getTime()):(0,j.B8)(e,t,n,i),vi=(e,t)=>new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()),fi=(e,t,n,i,o)=>t&&n?(0,j.Rr)(e||"https://m.uber.com/go/rent/product-selector",t,n,i,i&&o&&o>i?o:null):null,yi=()=>{const e=new Date,t=15-e.getMinutes()%15;return new Date(e.getTime()+60*t*1e3)},bi=(e,t,n,i)=>{var o,r,a,l,s;return null!=e&&null!==(o=e.submitContent)&&void 0!==o&&o.url&&null!=e&&null!==(r=e.submitContent)&&void 0!==r&&r.appendPudoProps?(0,j.B8)(null==e||null===(l=e.submitContent)||void 0===l?void 0:l.url,t,n):null!=e&&null!==(a=e.submitContent)&&void 0!==a&&a.url?null==e||null===(s=e.submitContent)||void 0===s?void 0:s.url:mi(i,t,n,null)},Ci=(e,t)=>{const n={link:"text",primary:"button",secondary:"inverted"}[e];return"button"===n&&"light"===t?"inverted":n},xi=e=>{var t,n,i,o,r,a,l,s;const[c,d]=(0,Z.hQ)(),{formContent:u={},tripRequestUrl:p,pickupDetails:g,destinationDetails:h,eventKeyPrefix:m,webAnalytics:v,ctaColorTheme:f="dark",textColor:y="black",eventTrackers:b}=e,{variant:C=en.COMBINED_PICKER}=u,x=C!==en.DESTINATION_LOCATION_ONLY,L=(0,hn.a)(d.mediaQuery.medium),P=!x&&L,w="".concat(m||"","_").concat(P?"horizontal":"vertical","_").concat(C),k={...e,onFocus:()=>null==v?void 0:v.track("".concat(w,"_pickup_focus")),onBlur:()=>null==v?void 0:v.track("".concat(w,"_pickup_blur")),onFetchCurrentLocation:()=>null==v?void 0:v.track("".concat(w,"_pickup_fetchCurrentLocation"))},T={...e,onFocus:()=>null==v?void 0:v.track("".concat(w,"_destination_focus")),onBlur:()=>null==v?void 0:v.track("".concat(w,"_destination_blur"))},D={ctaOne:{ctaDetails:{ariaLabel:null==u||null===(t=u.submitContent)||void 0===t?void 0:t.submitAriaLabel,href:bi(u,g,h,p),openInNewTab:!1,text:null==u||null===(n=u.submitContent)||void 0===n?void 0:n.submitText},ctaType:"primary"}};var _,I,O,E,A,B;null!=u&&null!==(i=u.secondaryCta)&&void 0!==i&&i.ctaAriaLabel&&null!=u&&null!==(o=u.secondaryCta)&&void 0!==o&&o.url&&(D.ctaTwo={ctaDetails:{ariaLabel:null==u||null===(_=u.secondaryCta)||void 0===_?void 0:_.ctaAriaLabel,href:null!=u&&null!==(I=u.secondaryCta)&&void 0!==I&&I.appendPudoProps?(0,j.B8)(null==u||null===(O=u.secondaryCta)||void 0===O?void 0:O.url,g,h):null==u||null===(E=u.secondaryCta)||void 0===E?void 0:E.url,openInNewTab:!1,text:null==u||null===(A=u.secondaryCta)||void 0===A?void 0:A.ctaText},ctaType:null==u||null===(B=u.secondaryCta)||void 0===B?void 0:B.ctaType});const z={ctaPrimary:{...null===(r=D.ctaOne)||void 0===r?void 0:r.ctaDetails,ctaType:Ci((null===(a=D.ctaOne)||void 0===a?void 0:a.ctaType)||"",f||""),onClick:()=>{var e,t,n;null==b||null===(e=b.ctaPrimary)||void 0===e||e.trackClickEvents({label:(null===(t=D.ctaOne)||void 0===t||null===(t=t.ctaDetails)||void 0===t?void 0:t.text)||"",category:"1",redirectUrl:(null===(n=D.ctaOne)||void 0===n||null===(n=n.ctaDetails)||void 0===n?void 0:n.href)||""})}}};var R,N;null!=D&&D.ctaTwo&&(z.ctaSecondary={...null==D||null===(R=D.ctaTwo)||void 0===R?void 0:R.ctaDetails,ctaType:Ci((null===(N=D.ctaTwo)||void 0===N?void 0:N.ctaType)||"",f||""),onClick:()=>{var e,t,n;null==b||null===(e=b.ctaSecondary)||void 0===e||e.trackClickEvents({label:(null===(t=D.ctaTwo)||void 0===t||null===(t=t.ctaDetails)||void 0===t?void 0:t.text)||"",category:"1",redirectUrl:(null===(n=D.ctaTwo)||void 0===n||null===(n=n.ctaDetails)||void 0===n?void 0:n.href)||""})}});return S.useEffect((()=>{null==v||v.track("".concat(w,"_pickup_").concat(g?"set":"unset"))}),[w,g,v]),S.useEffect((()=>{null==v||v.track("".concat(w,"_destination_").concat(h?"set":"unset"))}),[w,h,v]),(0,M.BX)(rt.Z,{className:c({position:"relative",...P?{display:"flex",alignItems:"center",flexWrap:"wrap"}:{}}),children:[(0,M.BX)(rt.Z,{maxWidth:["calc(100vw - ".concat(d.sizing.scale1200,")"),"calc(100vw - ".concat(d.sizing.scale1200,")"),tn,tn],className:c({width:"100%",marginRight:P?d.sizing.scale800:0}),children:[x&&(0,M.tZ)(rt.Z,{marginTop:d.sizing.scale300,children:(0,M.tZ)(ui,{...k})}),(0,M.tZ)(rt.Z,{marginTop:d.sizing.scale500,children:(0,M.tZ)(gi,{...T,...null!=k&&k.pickupDetails?{defaultMapCenter:{latitude:null==k||null===(l=k.pickupDetails)||void 0===l?void 0:l.lat,longitude:null==k||null===(s=k.pickupDetails)||void 0===s?void 0:s.long}}:{}})}),x&&(0,M.tZ)("div",{className:c({position:"absolute",borderLeft:"1px solid",height:d.sizing.scale1000,top:d.sizing.scale900,left:d.sizing.scale700})})]}),(0,M.tZ)(rt.Z,{marginTop:P?0:d.sizing.scale600,children:(0,M.tZ)(bn.Z,{cta:z,ctaSize:"medium",rtl:"rtl"===d.direction,color:y,justifyContent:"flex-start"})})]})};var Li=n(68026),Pi=n(68982),wi=n(46022);const Si=(e,t)=>e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear(),ki=e=>{let{dates:t,rangeIndex:n,inputRef:i,onDateSelect:o,onTimeSelect:r,trackDateTimeFocus:a,removeTopPadding:l=!1}=e;const[s,c]=(0,Z.hQ)(),{mediaQuery:d}=c,u=(0,hn.a)(d.small,{defaultMatches:d.small}),p=(0,hn.a)(d.medium),g=u&&!p,[h,m]=(0,Q.useState)(!1),[v,f]=(0,Q.useState)(!1),y=S.useRef(null),b=new Date,C=0===n?Si(t[0],b)&&yi():Si(t[0],t[1])&&t[0];return(0,M.BX)(rt.Z,{marginTop:l?"0":c.sizing.scale300,display:"flex",gridGap:c.sizing.scale300,children:[(0,M.tZ)(mt.Z,{selectedInput:"endDate",onClose:()=>{h&&(m(!1),null==a||a(n,"date",!1))},onOpen:()=>{m(!0),null==a||a(n,"date",!0)},value:t,formatString:"MMM d",onChange:e=>{let{date:t}=e;o(t[0]),m(!1),setTimeout((()=>{var e;f(!0),null==y||null===(e=y.current)||void 0===e||e.setInputFocus()}))},minDate:1===n?t[0]:new Date,displayValueAtRangeIndex:n,range:!0,overrides:{Popover:{props:{...g?{}:{placement:wi.r4.rightTop},isOpen:h,overrides:{Body:{style:{maxWidth:"100%",boxSizing:"border-box",overflow:g?"scroll":"hidden"}}}}},Input:{props:{inputRef:i,readOnly:!0}}}}),(0,M.tZ)(xt.Z,{value:C&&t[n]<C?C:t[n],minTime:C,ignoreMinMaxDateComponent:!0,onChange:e=>{var t;r(e),null==y||null===(t=y.current)||void 0===t||t.setInputBlur(),f(!1)},overrides:{Select:{props:{controlRef:y,onFocus:()=>{var e;f(!0),null==y||null===(e=y.current)||void 0===e||e.setInputFocus(),null==a||a(n,"time",!0)},onBlur:()=>{var e;f(!1),null==y||null===(e=y.current)||void 0===e||e.setInputBlur(),null==a||a(n,"time",!1)},overrides:{ControlContainer:{props:{$isFocused:v,$isPseudoFocused:v}},Popover:{props:{isOpen:v}}}}}}})]})};var Ti=n(19723),Zi=n(35480);const Di=864e5,_i=e=>{var t,n,i,o,r,a,l,s,c,d,u,p;const[g,h]=(0,Z.hQ)(),{formContent:m={},pickupDetails:v,destinationDetails:f,eventKeyPrefix:y,webAnalytics:b,ctaColorTheme:C="dark",textColor:x="black",eventTrackers:L,fullWidth:P,showReturnLocationCheckbox:w,weekendDates:k,noonTime:T,assistedForm:_,showProximityBasedSuggestion:I,defaultMapCenter:O,pickupError:E,destinationError:A,showStyledOptions:B}=e,z=(0,hn.a)(h.mediaQuery.large),R=((e,t)=>{let n=new Date;if(t?(n=new Date(n.getFullYear(),n.getMonth(),n.getDate(),12),n<new Date&&(n=new Date(n.getTime()+hi))):n=yi(),e){const e=6-n.getDay(),t=new Date(n.getTime()+e*hi),i=new Date(t.getTime()+1728e5);return[t,i]}return[n,new Date(n.getTime()+hi)]})(!!k,!!T),[N,F]=(0,Q.useState)(R[0]),[G,$]=(0,Q.useState)(R[1]),U=(0,Q.useRef)(null),V=(0,Q.useRef)(null),[j,W]=(0,Q.useState)(!1),K=k?2:1,[q,H]=(0,Q.useState)(!w),[X,J]=(0,Q.useState)(""),[Y,ee]=(0,Q.useState)(""),te="".concat(y||"","_").concat(en.RENT_BOOKING),ne=(e,t,n)=>{null==b||b.track("".concat(te,"_").concat(0===e?"pickup":"return","_").concat(t,"_").concat(n?"focus":"blur"))},ie=()=>{v||J(E||"Please provide a pick-up location"),q&&!f&&ee(A||"Please provide a return location")},oe=(0,M.tZ)("div",{style:{height:h.typography.ParagraphSmall.lineHeight}}),re=(e,t)=>!(!P||!z)&&("bottom"==t?Boolean(X)&&!q:"pickup"==e?!Boolean(X)&&Boolean(Y):Boolean(X)&&!Boolean(Y)&&q),ae=null==m||null===(t=m.pickupContent)||void 0===t?void 0:t.pickupHeader,le=null==m||null===(n=m.destinationContent)||void 0===n?void 0:n.destinationHeader,se={...e,defaultMapCenter:I?O:void 0,showLocationButton:!Boolean(B),startEnhancerSize:"36",errorMsg:X,showStyledOptions:B,locationAccessMsg:null==m?void 0:m.locationAccessMsg,setErrorMsg:e=>J(e),onFocus:()=>null==b?void 0:b.track("".concat(te,"_pickup_focus")),onBlur:()=>null==b?void 0:b.track("".concat(te,"_pickup_blur")),onSelect:()=>{var e;return _&&(null==U||null===(e=U.current)||void 0===e?void 0:e.focus())},onFetchCurrentLocation:()=>null==b?void 0:b.track("".concat(te,"_pickup_fetchCurrentLocation"))},ce={...e,defaultMapCenter:void 0,startEnhancerSize:"36",errorMsg:Y,setErrorMsg:e=>ee(e),isOpen:j,setIsOpen:W,showStyledOptions:B,onFocus:()=>null==b?void 0:b.track("".concat(te,"_destination_focus")),onBlur:()=>null==b?void 0:b.track("".concat(te,"_destination_blur")),onSelect:()=>{var e;return _&&(null==V||null===(e=V.current)||void 0===e?void 0:e.focus())}},de={ctaOne:{ctaDetails:{ariaLabel:null==m||null===(i=m.submitContent)||void 0===i?void 0:i.submitAriaLabel,href:null==m||null===(o=m.submitContent)||void 0===o||!o.url||null!=m&&null!==(r=m.submitContent)&&void 0!==r&&r.appendPudoProps?fi(null==m||null===(l=m.submitContent)||void 0===l?void 0:l.url,v,q?f:v,N,G):null==m||null===(a=m.submitContent)||void 0===a?void 0:a.url,openInNewTab:!1,text:null==m||null===(s=m.submitContent)||void 0===s?void 0:s.submitText},ctaType:"primary"}};var ue,pe,ge,he,me,ve;null!=m&&null!==(c=m.secondaryCta)&&void 0!==c&&c.ctaAriaLabel&&null!=m&&null!==(d=m.secondaryCta)&&void 0!==d&&d.url&&(de.ctaTwo={ctaDetails:{ariaLabel:null==m||null===(ue=m.secondaryCta)||void 0===ue?void 0:ue.ctaAriaLabel,href:null!=m&&null!==(pe=m.secondaryCta)&&void 0!==pe&&pe.appendPudoProps?fi(null==m||null===(ge=m.secondaryCta)||void 0===ge?void 0:ge.url,v,q?f:v,N,G):null==m||null===(he=m.secondaryCta)||void 0===he?void 0:he.url,openInNewTab:!1,text:null==m||null===(me=m.secondaryCta)||void 0===me?void 0:me.ctaText},ctaType:null==m||null===(ve=m.secondaryCta)||void 0===ve?void 0:ve.ctaType});const fe={ctaPrimary:{...null===(u=de.ctaOne)||void 0===u?void 0:u.ctaDetails,ctaType:Ci((null===(p=de.ctaOne)||void 0===p?void 0:p.ctaType)||"",C||""),ctaWidth:"auto",ctaBoxSizing:"border-box",onClick:()=>{var e,t,n;ie(),null==L||null===(e=L.ctaPrimary)||void 0===e||e.trackClickEvents({label:(null===(t=de.ctaOne)||void 0===t||null===(t=t.ctaDetails)||void 0===t?void 0:t.text)||"",category:"1",redirectUrl:(null===(n=de.ctaOne)||void 0===n||null===(n=n.ctaDetails)||void 0===n?void 0:n.href)||""})}},ctaLayout:Li.xd.INLINE};var ye,be;null!=de&&de.ctaTwo&&(fe.ctaSecondary={...null==de||null===(ye=de.ctaTwo)||void 0===ye?void 0:ye.ctaDetails,ctaType:Ci((null===(be=de.ctaTwo)||void 0===be?void 0:be.ctaType)||"",C||""),ctaWidth:"auto",ctaBoxSizing:"border-box",onClick:()=>{var e,t,n,i;null!=m&&null!==(e=m.secondaryCta)&&void 0!==e&&e.appendPudoProps&&ie(),null==L||null===(t=L.ctaSecondary)||void 0===t||t.trackClickEvents({label:(null===(n=de.ctaTwo)||void 0===n||null===(n=n.ctaDetails)||void 0===n?void 0:n.text)||"",category:"1",redirectUrl:(null===(i=de.ctaTwo)||void 0===i||null===(i=i.ctaDetails)||void 0===i?void 0:i.href)||""})}});const Ce={...fe,ctaPrimary:{...fe.ctaPrimary,ctaWidth:"100%"},...(null==fe?void 0:fe.ctaSecondary)&&{ctaSecondary:{...fe.ctaSecondary,ctaWidth:"100%"}},ctaLayout:Li.xd.STACKED};S.useEffect((()=>{null==b||b.track("".concat(te,"_pickup_").concat(v?"set":"unset"))}),[te,v,b]),S.useEffect((()=>{null==b||b.track("".concat(te,"_destination_").concat(f?"set":"unset"))}),[te,f,b]);const xe=()=>{const e=h.sizing.scale1600,t="min(".concat(D.ZP.samba.grid.containerWidth.desktop,", calc(100vw - 2 * ").concat(e,"))"),n=h.sizing.scale3200;if(q){const e=h.sizing.scale900,i="calc(".concat(t," - ").concat(n," - ").concat(e,")");return["none","none","calc(".concat(t," * 0.75)"),"calc(".concat(i," / 2)")]}const i=h.sizing.scale1400,o="calc(".concat(t," - ").concat(n," - ").concat(i,")");return["none","none","calc(".concat(t," * 0.75)"),"calc(".concat(o," / 3)")]};return(0,M.BX)($n,{children:[(0,M.BX)(rt.Z,{width:"100%",maxWidth:(()=>{const e=P?"none":tn;return["calc(100vw - ".concat(h.sizing.scale1200,")"),"calc(100vw - ".concat(h.sizing.scale1200,")"),"75%",e]})(),display:P?["block","block","block","flex"]:["block"],className:(()=>{const e={alignItems:"center",gap:h.sizing.scale900};return P?g({...e}):void 0})(),children:[(0,M.BX)(rt.Z,{flex:2,marginTop:h.sizing.scale300,children:[ae&&(0,M.tZ)(Un,{children:ae}),(0,M.BX)(rt.Z,{display:!q&&P?["block","block","block","flex"]:["block"],className:!q&&P?g({alignItems:"end",gap:h.sizing.scale300}):"",children:[(0,M.tZ)(rt.Z,{maxWidth:P?xe():"none",flex:1,children:(0,M.tZ)(ui,{...se})}),(0,M.BX)(rt.Z,{flex:1,children:[re("pickup","top")&&oe,(0,M.tZ)(ki,{dates:[N,G],rangeIndex:0,inputRef:U,onDateSelect:e=>{F((t=>{const n=vi(e,t);return G<n&&$(new Date(n.getTime()+K*Di)),n}))},onTimeSelect:e=>{var t;F((t=>{const n=vi(t,e);return G<n&&$(new Date(n.getTime()+K*Di)),n})),_&&(q?setTimeout((()=>{W(!0)})):null==V||null===(t=V.current)||void 0===t||t.focus())},trackDateTimeFocus:ne,removeTopPadding:P&&z&&!q}),re("pickup","bottom")&&oe]})]})]}),(0,M.BX)(rt.Z,{flex:q?2:1,marginTop:P?h.sizing.scale300:h.sizing.scale500,maxWidth:P?xe():"none",children:[le&&(0,M.tZ)(Un,{children:le}),(0,M.BX)(rt.Z,{children:[(0,M.tZ)(gi,{...ce,showInput:q}),re("destination","top")&&oe,(0,M.tZ)(ki,{dates:[N,G],rangeIndex:1,inputRef:V,trackDateTimeFocus:ne,onDateSelect:e=>{$((t=>vi(e,t)))},onTimeSelect:e=>{$((t=>vi(t,e)))},removeTopPadding:!q}),re("destination","bottom")&&oe]})]})]}),w&&(0,M.tZ)(Ti.Z,{checked:q,onChange:e=>H(e.target.checked),labelPlacement:Zi.Oi.right,overrides:{Root:{style:{marginTop:h.sizing.scale850,display:"inline-flex"}}},children:(null==m?void 0:m.returnLocationCheckboxText)||sn}),(0,M.BX)(rt.Z,{marginTop:h.sizing.scale600,children:[(0,M.tZ)(Pi.nv,{children:(0,M.tZ)(bn.Z,{cta:Ce,ctaSize:"medium",rtl:"rtl"===h.direction,color:x,alignItems:"stretch"})}),(0,M.tZ)(Pi.ol,{children:(0,M.tZ)(bn.Z,{cta:fe,ctaSize:"medium",rtl:"rtl"===h.direction,color:x})})]})]})},Ii={aspect_1_1:1,aspect_4_5:.8,aspect_3_2:1.5,aspect_16_9:16/9},Oi=e=>{let{$display:t="grid",$gridColumn:n=["1/-1"],$order:i=[0],$hasVideo:o,children:r}=e;return(0,M.tZ)(rt.Z,{alignSelf:"center",display:t,order:i,gridColumn:[...n],overrides:{Block:{style:{cursor:o?"pointer":"default"}}},width:"100%",children:r})};function Ei(e){var t,n,i,o,r,a,l,s;const{animations:c,textColor:d,aspectRatio:u="aspect_4_5",textPosition:p="left",body:g,ctaColorTheme:h,eyebrow:m,flipMobile:v,hasVideo:f,embedVideo:y,heading:b,headingLevel:C,highlightVideo:x,playText:L="Play Video",handleClick:P,image:w,hideImageDesktop:S,imageTablet:k,hideImageTablet:T,imageMobile:_,hideImageMobile:I,hideBodyDesktop:O,hideBodyTablet:E,hideBodyMobile:A,playButtonColor:B,subheading:z,textAlign:R="center",videoUrl:N,anchorName:F,backgroundImageLarge:G,backgroundImageMedium:$,backgroundImageSmall:U,containerBackgroundTransparent:V,highlightImageStyle:j,justifyText:W="left",formProps:K,formContent:q={},eventTrackers:H,rentBooking:X,backgroundColor:J}=e,[Y,ee]=(0,Z.hQ)(),{mediaQuery:te}=ee,ne="rtl"===ee.direction,ie="dark"===B?ee.colors.mono1000:ee.colors.mono100,oe=(0,hn.a)(te.medium),re=(0,hn.a)(te.large),ae=oe&&!re,le=!oe,se=Ii[u],ce="undefined"!=typeof window,de=(null==q?void 0:q.variant)!==en.RENT_BOOKING||"fullWidth"!==j||!le,ue=Boolean((null==x||null===(t=x.fallback)||void 0===t?void 0:t.webM)||(null==x||null===(n=x.fallback)||void 0===n?void 0:n.mp4)||(null==x||null===(i=x.small)||void 0===i?void 0:i.webM)||(null==x||null===(o=x.small)||void 0===o?void 0:o.mp4)||(null==x||null===(r=x.medium)||void 0===r?void 0:r.webM)||(null==x||null===(a=x.medium)||void 0===a?void 0:a.mp4)||(null==x||null===(l=x.large)||void 0===l?void 0:l.webM)||(null==x||null===(s=x.large)||void 0===s?void 0:s.mp4)),pe=!(re&&O||ae&&E||le&&A),ge=vn.Z.imageIsValid(w),he=ge||f||ue,me=he&&!S&&"fullWidth"!==j?"span 5":"span 12",ve=ne&&"center"!==W?"right":W,fe="center"!==W||he&&!S?he&&!S?p:"left":W,ye={left:1,right:he&&!S?8:5,center:3},be=f||ue?"grid":[I?"none":"grid",I?"none":"grid",T?"none":"grid",S?"none":"grid"],Ce=e=>"true"===v?1===e?[2,2,2,1]:[1,1,1,2]:e,xe={content:{left:{cols:["1/-1","1/-1","1/-1","".concat(ye[fe]," / ").concat(me)],order:Ce(1)},right:{cols:["1/-1","1/-1","1/-1","".concat(ye[fe]," / ").concat(me)],order:Ce(2)}},image:{left:{cols:["1/-1","1/-1","1/-1","7 / span 6"],order:Ce(2)},right:{cols:["1/-1","1/-1","1/-1","span 6"],order:Ce(1)}}};let Le=G,Pe=$,we=U,Se=V,ke=!1,Te="auto",Ze="auto",De={},_e=d;if("fullWidth"===j&&ge&&re&&(Le=w,Pe=k,we=_,Se=!0,ke=!0,Te="".concat(900,"px"),Ze="".concat(480,"px")),"fullWidth"===j&&(null==q?void 0:q.variant)===en.RENT_BOOKING){Le=w,Pe=k,we=_,ke=!0,Se=[!0,!0,!1,!1],null!=X&&X.mobileTextColor&&(_e=[X.mobileTextColor,X.mobileTextColor,d||ee.colors.primary,d||ee.colors.primary]);const e="min(".concat(D.ZP.samba.grid.containerWidth.desktop,", calc(100vw - 2 * ").concat(ee.sizing.scale1600,"))");De={maxWidth:["none","none",e,e]},le||(De={...De,marginBottom:"full",maxWidth:"min(".concat(D.ZP.samba.grid.containerWidth.desktop,", calc(100vw - 2 * ").concat(ee.sizing.scale1600,"))"),borderRadius:null!=X&&X.roundedTopCorners?ee.borders.radius500:"0 0 ".concat(ee.borders.radius500," ").concat(ee.borders.radius500)})}let Ie=N?"https://img.youtube.com/vi/".concat(function(e){var t=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/);return t&&11==t[7].length?t[7]:""}(N),"/mqdefault.jpg"):"";const Oe=(0,M.tZ)("div",{className:Y({width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"default"}),children:(0,M.BX)("div",{className:Y({overflow:"hidden",width:"100%"}),children:[(0,M.tZ)(Mn,{$playButtonColor:ie,className:"overlay-open",onClick:P,onKeyPress:P,children:(0,M.tZ)(mn.Z,{})}),(0,M.tZ)("img",{src:Ie,alt:"youtube thumbnail",className:Y({width:"100%",height:"auto"})})]})}),Ee=(0,M.tZ)(_i,{...K,...X,formContent:q,ctaColorTheme:h,textColor:d,eventTrackers:H,fullWidth:"fullWidth"===j});return(0,M.BX)(xn.l,{animations:c,target:"fullBlock",children:[(0,M.tZ)(wn.V,{...e,containerBackgroundTransparent:Se,backgroundImageLarge:Le,backgroundImageMedium:Pe,backgroundImageSmall:we,maxHeight:Te,minHeight:Ze,...De,children:(0,M.BX)(Q.Fragment,{children:[(0,M.BX)(yn.P,{$alignSelf:R,$gridColumn:xe.content[p].cols,$order:xe.content[p].order,children:[(0,M.tZ)(rt.Z,{..._e?{color:_e}:{},children:(0,M.tZ)(bn.Z,{animations:c,width:[100,85,100],eyebrow:m,heading:b,headingSize:C,headingAnchorName:F,body:pe?g:void 0,bodySize:Cn.sn.MEDIUM,rtl:ne,subheading:z,textAlign:ve,justifyContent:ve})}),de&&(0,M.tZ)(rt.Z,{marginTop:ee.sizing.scale300,children:(null==q?void 0:q.variant)===en.RENT_BOOKING?Ee:(0,M.tZ)(xi,{...K,formContent:q,ctaColorTheme:h,textColor:d,eventTrackers:H})}),f&&"fullWidth"===j&&re&&(0,M.BX)(Nn,{className:"overlay-open",onClick:P,$playButtonColor:ie,onKeyPress:P,tabIndex:0,type:"button",children:[(0,M.tZ)(Rn,{$rtl:ne,children:(0,M.tZ)(mn.Z,{})}),(0,M.tZ)("span",{className:"play-text-label",children:L})]}),!de&&(0,M.tZ)(rt.Z,{className:Y({height:ee.sizing.scale800,order:2})})]}),!ke&&(ge||f||ue)&&(0,M.tZ)(Oi,{$display:be,$gridColumn:xe.image[p].cols,$order:xe.image[p].order,$hasVideo:f,children:(0,M.tZ)(xn.l,{animations:c,target:"imageGroup",children:ue?(0,M.tZ)(Ln.N,{...x,isPlaying:!0,hasControls:!(null!=x&&x.looping)}):f&&y?(0,M.tZ)(Pn.Z,{videoUrl:N,autoplay:"0"}):ge?(0,M.BX)(pn.Z,{aspectRatio:se,position:"relative",children:[f&&!y&&(0,M.tZ)(Mn,{$playButtonColor:ie,className:"overlay-open",onClick:P,onKeyPress:P,children:(0,M.tZ)(mn.Z,{})}),ge&&w&&(0,M.tZ)(rt.Z,{overrides:{Block:{style:{cursor:"default"}}},children:(0,M.tZ)(gn.Z,{children:(0,M.tZ)(Sn.Z,{children:(0,M.tZ)(fn.Z,{image:w,alt:"",imageTablet:k,imageMobile:_})})})})]}):(0,M.tZ)(pn.Z,{aspectRatio:se,position:"relative",height:"100%",children:Oe})})})]})}),ce&&ke&&le&&(null==q?void 0:q.variant)===en.RENT_BOOKING&&(0,M.tZ)(Fn,{$backgroundColor:J,children:Ee})]})}function Ai(e){const t={textPosition:cn.d_.LEFT,flipMobile:"false",headingLevel:2,textAlign:"center",containerBackgroundTransparent:!0,analyticsEvents:{},analyticsHandler:()=>{}},{anchorName:n,videoUrl:i,translations:o,rtl:r,analyticsEvents:a,analyticsHandler:l}=e,s=(0,dn.H$)(a,l);let c=(0,M.tZ)(Ei,{...t,...e,hasVideo:!!i,anchorName:n,eventTrackers:s}),d=i?(e=>(0,M.tZ)(un.Z,{rtl:r,translations:o,videoUrl:i,children:e}))(c):c;return(0,M.tZ)(Q.Fragment,{children:d})}const Bi=(0,o.qC)((0,Qt.r5)({webAnalytics:Jt.l}),et,(0,T.z)(["cro.pudo.allow-location-access","cro.pudo.location-access-description","rent.booking.return-to-a-different-location","pickup.dropdown.aria-label","destination.dropdown.aria-label","pickup.input.aria-label","destination.input.aria-label"]))((e=>{const{tripRequestUrl:t,isLoading:n,eventKeyPrefix:i,error:o,suggestions:r,loadTSSuggestions:a,isLoadingCurrentLocation:l,pickupDetails:s,destinationDetails:c,isPickupUsingCurrentLocation:d,isLoadingSuggestions:u,placeDetailsLoading:p,clearTSPlaceDetails:g,loadTSCurrentLocation:h,loadTSPlaceDetails:m,currentLanguage:v,defaultMapCenter:f,formContent:y,webAnalytics:b,translate:C,anchorName:x,...L}=e;if(o)return(0,M.tZ)("noscript",{});const P=C("cro.pudo.allow-location-access"),w=C("cro.pudo.location-access-description"),S=C("rent.booking.return-to-a-different-location"),k=C("pickup.dropdown.aria-label"),T=C("destination.dropdown.aria-label"),Z=C("pickup.input.aria-label"),D=C("destination.input.aria-label"),_={formContent:{...y,pickupContent:y.pickupContent?{...y.pickupContent,pickupDropdownAriaLabel:k,pickupInputAriaLabel:Z}:void 0,destinationContent:y.destinationContent?{...y.destinationContent,destinationDropdownAriaLabel:T,destinationInputAriaLabel:D}:void 0,locationAccessMsg:{heading:"cro.pudo.allow-location-access"===P?an:P,description:"cro.pudo.location-access-description"===w?ln:w},returnLocationCheckboxText:"rent.booking.return-to-a-different-location"===S?sn:S},formProps:{defaultMapCenter:f,suggestions:r,isLoadingCurrentLocation:l,isPickupUsingCurrentLocation:d,isLoadingSuggestions:u,placeDetailsLoading:p,currentLanguage:v,pickupDetails:s,clearFEPlaceDetails:g,fetchCurrentLocation:h,getSuggestions:a,loadPlaceDetails:m,destinationDetails:c,eventKeyPrefix:i,tripRequestUrl:t,webAnalytics:b}};return(0,M.tZ)(Ai,{..._,...L,anchorName:null!=x?x:void 0})}));var zi=n(96668),Mi=n.n(zi);const Ri=e=>{let{languages:t}=e;const{currentLanguage:n}=t;return{currentLanguage:n,rtl:Boolean(Mi().isRtlLang(n))}};var Ni=n(29697);const Fi=(0,o.qC)((0,i.$j)(Ri),(0,Ni.s)({name:"Trip Selector Store",reducers:w,initialState:P}))(it),Gi=(0,o.qC)((0,i.$j)(Ri),(0,Ni.s)({name:"Trip Selector Header Store",reducers:w,initialState:P}))(Yt),$i=(0,o.qC)((0,i.$j)(Ri),(0,Ni.s)({name:"Highlight Trip Selector Store",reducers:w,initialState:P}))(Bi)},68607:(e,t,n)=>{"use strict";n.d(t,{o:()=>r});var i=n(90914),o=n(33990);function r(e){const t=t=>{const n=(0,i.TH)();return(0,o.tZ)(e,{...t,location:n})},n=e.displayName||e.name||"Component";return t.displayName="withLocation(".concat(n,")"),t}},56360:(e,t,n)=>{e.exports=n.p+"f934ecc94260e6db.svg"},77432:(e,t,n)=>{e.exports=n.p+"b8e8c5396da5d541.svg"},96379:(e,t,n)=>{e.exports=n.p+"ecc32132ff812ab7.svg"},37772:()=>{}}]);