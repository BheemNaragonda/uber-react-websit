"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([["legacy-5414"],{41957:function(t,e,r){r.d(e,{Z:function(){return o}});var n=r(60629),i={};function o(t,e,r,o){n.Z.level>0&&i[t]&&i[t].call(null,e,r,o)}},60117:function(t,e,r){r.d(e,{Df:function(){return i},iI:function(){return a},k8:function(){return s},zG:function(){return o}});var n=r(60629),i={DEFAULT:-1,LNGLAT:1,METER_OFFSETS:2,LNGLAT_OFFSETS:3,CARTESIAN:0};Object.defineProperty(i,"IDENTITY",{get:function(){return n.Z.deprecated("COORDINATE_SYSTEM.IDENTITY","COORDINATE_SYSTEM.CARTESIAN")(),0}});var o={WEB_MERCATOR:1,GLOBE:2,WEB_MERCATOR_AUTO_OFFSET:4,IDENTITY:0},a={common:0,meters:1,pixels:2},s={DRAW:"draw",MASK:"mask"}},3205:function(t,e,r){r.d(e,{Z:function(){return bi}});var n=r(99450),i=r(60117),o=r(17847),a=r(23376),s=r(21421);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){f(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function f(t,e,r){return(e=h(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,h(n.key),n)}}function h(t){var e=function(t,e){if("object"!==u(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===u(e)?e:String(e)}var v=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(0,n.Z)(this,"opts",void 0),(0,n.Z)(this,"source",void 0),this.opts=r,this.source=e}return function(t,e,r){e&&p(t.prototype,e),r&&p(t,r),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"value",get:function(){return this.source.value}},{key:"getValue",value:function(){var t=this.source.getBuffer(),e=this.getAccessor();if(t)return[t,e];var r=this.source.value,n=e.size,i=r;if(r&&r.length!==n){i=new Float32Array(n);for(var o=e.elementOffset||0,a=0;a<n;++a)i[a]=r[o+a]}return i}},{key:"getAccessor",value:function(){return l(l({},this.source.getAccessor()),this.opts)}}]),t}();var d=r(14151),y=r(64913);var b,g=new y.Z;function m(t,e,r,n){g.set(t,e,r);var i=g.len();return{distance:n/i,normal:new y.Z(-t/i,-e/i,-r/i)}}function w(t){return t-Math.fround(t)}function j(t,e){var r=e.size,n=void 0===r?1:r,i=e.startIndex,o=void 0===i?0:i,a=void 0!==e.endIndex?e.endIndex:t.length,s=(a-o)/n;b=d.Z.allocate(b,s,{type:Float32Array,size:2*n});for(var u=o,c=0;u<a;){for(var l=0;l<n;l++){var f=t[u++];b[c+l]=f,b[c+l+n]=w(f)}c+=2*n}return b.subarray(0,s*n*2)}var O=r(60629);function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,E(n.key),n)}}function _(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function A(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_(Object(r),!0).forEach((function(e){k(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function k(t,e,r){return(e=E(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E(t){var e=function(t,e){if("object"!==P(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===P(e)?e:String(e)}function T(t){return t.stride||t.size*t.bytesPerElement}function x(t,e){e.offset&&O.Z.removed("shaderAttribute.offset","vertexOffset, elementOffset")();var r=T(t),n=(void 0!==e.vertexOffset?e.vertexOffset:t.vertexOffset||0)*r+(e.elementOffset||0)*t.bytesPerElement+(t.offset||0);return A(A({},e),{},{offset:n,stride:r})}var C=function(){function t(e,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(0,n.Z)(this,"gl",void 0),(0,n.Z)(this,"id",void 0),(0,n.Z)(this,"size",void 0),(0,n.Z)(this,"settings",void 0),(0,n.Z)(this,"value",void 0),(0,n.Z)(this,"doublePrecision",void 0),(0,n.Z)(this,"_buffer",void 0),(0,n.Z)(this,"state",void 0),this.gl=e,this.id=r.id||"",this.size=r.size||1;var s,u=r.logicalType||r.type,c=5130===u,l=r.defaultValue;l=Number.isFinite(l)?[l]:l||new Array(this.size).fill(0),s=c?5126:!u&&r.isIndexed?e&&(0,o.U6)(e,a.h.ELEMENT_INDEX_UINT32)?5125:5123:u||5126;var f=function(t){switch(t){case 5126:return Float32Array;case 5130:return Float64Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return Uint8ClampedArray;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Unknown GL type")}}(u||s||5126);this.doublePrecision=c,c&&!1===r.fp64&&(f=Float32Array),this.value=null,this.settings=A(A({},r),{},{defaultType:f,defaultValue:l,logicalType:u,type:s,size:this.size,bytesPerElement:f.BYTES_PER_ELEMENT}),this.state=A(A({},i),{},{externalBuffer:null,bufferAccessor:this.settings,allocatedValue:null,numInstances:0,bounds:null,constant:!1}),this._buffer=null}return function(t,e,r){e&&S(t.prototype,e),r&&S(t,r),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"isConstant",get:function(){return this.state.constant}},{key:"buffer",get:function(){if(!this._buffer){var t=this.settings,e=t.isIndexed,r=t.type;this._buffer=new s.Z(this.gl,{id:this.id,target:e?34963:34962,accessor:{type:r}})}return this._buffer}},{key:"byteOffset",get:function(){var t=this.getAccessor();return t.vertexOffset?t.vertexOffset*T(t):0}},{key:"numInstances",get:function(){return this.state.numInstances},set:function(t){this.state.numInstances=t}},{key:"delete",value:function(){this._buffer&&(this._buffer.delete(),this._buffer=null),d.Z.release(this.state.allocatedValue)}},{key:"getShaderAttributes",value:function(t,e){if(this.doublePrecision){var r={},n=this.value instanceof Float64Array,i=function(t,e){var r=x(t,e);return{high:r,low:A(A({},r),{},{offset:r.offset+4*t.size})}}(this.getAccessor(),e||{});return r[t]=new v(this,i.high),r["".concat(t,"64Low")]=n?new v(this,i.low):new Float32Array(this.size),r}if(e){var o=x(this.getAccessor(),e);return k({},t,new v(this,o))}return k({},t,this)}},{key:"getBuffer",value:function(){return this.state.constant?null:this.state.externalBuffer||this._buffer}},{key:"getValue",value:function(){return this.state.constant?this.value:[this.getBuffer(),this.getAccessor()]}},{key:"getAccessor",value:function(){return this.state.bufferAccessor}},{key:"getBounds",value:function(){if(this.state.bounds)return this.state.bounds;var t=null;if(this.state.constant&&this.value){var e=Array.from(this.value);t=[e,e]}else{var r=this.value,n=this.numInstances,i=this.size,o=n*i;if(r&&o&&r.length>=o){for(var a=new Array(i).fill(1/0),s=new Array(i).fill(-1/0),u=0;u<o;)for(var c=0;c<i;c++){var l=r[u++];l<a[c]&&(a[c]=l),l>s[c]&&(s[c]=l)}t=[a,s]}}return this.state.bounds=t,t}},{key:"setData",value:function(t){var e,r=this.state;e=ArrayBuffer.isView(t)?{value:t}:t instanceof s.Z?{buffer:t}:t;var n=A(A({},this.settings),e);if(r.bufferAccessor=n,r.bounds=null,e.constant){var i=e.value;if(i=this._normalizeValue(i,[],0),this.settings.normalized&&(i=this.normalizeConstant(i)),!(!r.constant||!this._areValuesEqual(i,this.value)))return!1;r.externalBuffer=null,r.constant=!0,this.value=i}else if(e.buffer){var o=e.buffer;r.externalBuffer=o,r.constant=!1,this.value=e.value||null;var a=e.value instanceof Float64Array;n.type=e.type||o.accessor.type,n.bytesPerElement=o.accessor.BYTES_PER_ELEMENT*(a?2:1),n.stride=T(n)}else if(e.value){this._checkExternalBuffer(e);var u=e.value;r.externalBuffer=null,r.constant=!1,this.value=u,n.bytesPerElement=u.BYTES_PER_ELEMENT,n.stride=T(n);var c=this.buffer,l=this.byteOffset;this.doublePrecision&&u instanceof Float64Array&&(u=j(u,n));var f=u.byteLength+l+2*n.stride;c.byteLength<f&&c.reallocate(f),c.setAccessor(null),c.subData({data:u,offset:l}),n.type=e.type||c.accessor.type}return!0}},{key:"updateSubBuffer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state.bounds=null;var e=this.value,r=t.startOffset,n=void 0===r?0:r,i=t.endOffset;this.buffer.subData({data:this.doublePrecision&&e instanceof Float64Array?j(e,{size:this.size,startIndex:n,endIndex:i}):e.subarray(n,i),offset:n*e.BYTES_PER_ELEMENT+this.byteOffset})}},{key:"allocate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.state,n=r.allocatedValue,i=d.Z.allocate(n,t+1,{size:this.size,type:this.settings.defaultType,copy:e});this.value=i;var o=this.buffer,a=this.byteOffset;return o.byteLength<i.byteLength+a&&(o.reallocate(i.byteLength+a),e&&n&&o.subData({data:n instanceof Float64Array?j(n,this):n,offset:a})),r.allocatedValue=i,r.constant=!1,r.externalBuffer=null,r.bufferAccessor=this.settings,!0}},{key:"_checkExternalBuffer",value:function(t){var e=t.value;if(!ArrayBuffer.isView(e))throw new Error("Attribute ".concat(this.id," value is not TypedArray"));var r=this.settings.defaultType,n=!1;if(this.doublePrecision&&(n=e.BYTES_PER_ELEMENT<4),n)throw new Error("Attribute ".concat(this.id," does not support ").concat(e.constructor.name));e instanceof r||!this.settings.normalized||"normalized"in t||O.Z.warn("Attribute ".concat(this.id," is normalized"))()}},{key:"normalizeConstant",value:function(t){switch(this.settings.type){case 5120:return new Float32Array(t).map((function(t){return(t+128)/255*2-1}));case 5122:return new Float32Array(t).map((function(t){return(t+32768)/65535*2-1}));case 5121:return new Float32Array(t).map((function(t){return t/255}));case 5123:return new Float32Array(t).map((function(t){return t/65535}));default:return t}}},{key:"_normalizeValue",value:function(t,e,r){var n=this.settings,i=n.defaultValue,o=n.size;if(Number.isFinite(t))return e[r]=t,e;if(!t)return e[r]=i[0],e;switch(o){case 4:e[r+3]=Number.isFinite(t[3])?t[3]:i[3];case 3:e[r+2]=Number.isFinite(t[2])?t[2]:i[2];case 2:e[r+1]=Number.isFinite(t[1])?t[1]:i[1];case 1:e[r+0]=Number.isFinite(t[0])?t[0]:i[0];break;default:for(var a=o;--a>=0;)e[r+a]=Number.isFinite(t[a])?t[a]:i[a]}return e}},{key:"_areValuesEqual",value:function(t,e){if(!t||!e)return!1;for(var r=this.size,n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}}]),t}(),I=r(66742),M=r(73867),R=r(81069),Z=[],D=[[0,1/0]];function L(t,e){if(t===D)return t;if(e[0]<0&&(e[0]=0),e[0]>=e[1])return t;for(var r=[],n=t.length,i=0,o=0;o<n;o++){var a=t[o];a[1]<e[0]?(r.push(a),i=o+1):a[0]>e[1]?r.push(a):e=[Math.min(a[0],e[0]),Math.max(a[1],e[1])]}return r.splice(i,0,e),r}function z(t){var e=t.source,r=t.target,n=t.start,i=void 0===n?0:n,o=t.size,a=t.getData,s=t.end||r.length,u=e.length,c=s-i;if(u>c)r.set(e.subarray(0,c),i);else if(r.set(e,i),a)for(var l=u;l<c;)for(var f=a(l,e),p=0;p<o;p++)r[i+l]=f[p]||0,l++}function N(t){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function U(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function F(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?U(Object(r),!0).forEach((function(e){B(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function B(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==N(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==N(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===N(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var V={interpolation:{duration:0,easing:function(t){return t}},spring:{stiffness:.05,damping:.5}};function G(t,e){if(!t)return null;Number.isFinite(t)&&(t={type:"interpolation",duration:t});var r=t.type||"interpolation";return F(F(F(F({},V[r]),e),t),{},{type:r})}function Y(t,e){var r=e.getBuffer();return r?[r,{divisor:0,size:e.size,normalized:e.settings.normalized}]:e.value}function W(t){switch(t){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error('No defined attribute type for size "'.concat(t,'"'))}}function H(t){t.push(t.shift())}function q(t,e){var r=t.doublePrecision,n=t.settings,i=t.value,o=t.size,a=r&&i instanceof Float64Array?2:1;return(n.noAlloc?i.length:e*o)*a}function J(t){var e=t.buffer,r=t.numInstances,n=t.attribute,i=t.fromLength,o=t.fromStartIndices,a=t.getData,s=void 0===a?function(t){return t}:a,u=n.doublePrecision&&n.value instanceof Float64Array?2:1,c=n.size*u,l=n.byteOffset,f=n.startIndices,p=o&&f,h=q(n,r),v=n.isConstant;if(p||!(i>=h)){var d=v?n.value:n.getBuffer().getData({srcByteOffset:l});if(n.settings.normalized&&!v){var y=s;s=function(t,e){return n.normalizeConstant(y(t,e))}}var b=v?function(t,e){return s(d,e)}:function(t,e){return s(d.subarray(t,t+c),e)},g=e.getData({length:i}),m=new Float32Array(h);!function(t){var e=t.source,r=t.target,n=t.size,i=t.getData,o=t.sourceStartIndices,a=t.targetStartIndices;if(!Array.isArray(a))return z({source:e,target:r,size:n,getData:i}),r;for(var s=0,u=0,c=i&&function(t,e){return i(t+u,e)},l=Math.min(o.length,a.length),f=1;f<l;f++){var p=o[f]*n,h=a[f]*n;z({source:e.subarray(s,p),target:r,start:u,end:h,size:n,getData:c}),s=p,u=h}u<r.length&&z({source:[],target:r,start:u,size:n,getData:c})}({source:g,target:m,sourceStartIndices:o,targetStartIndices:f,size:c,getData:b}),e.byteLength<m.byteLength+l&&e.reallocate(m.byteLength+l),e.subData({data:m,offset:l})}}function $(t){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function X(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||Q(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Q(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function Q(t,e){if(t){if("string"==typeof t)return tt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tt(t,e):void 0}}function tt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function et(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rt(n.key),n)}}function rt(t){var e=function(t,e){if("object"!==$(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===$(e)?e:String(e)}function nt(){return(nt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=it(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}}).apply(this,arguments)}function it(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ct(t)););return t}function ot(t,e){return(ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function at(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ct(t);if(e){var i=ct(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return st(this,r)}}function st(t,e){if(e&&("object"===$(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ut(t)}function ut(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ct(t){return(ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var lt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ot(t,e)}(r,t);var e=at(r);function r(t,i){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),o=e.call(this,t,i,{startIndices:null,lastExternalBuffer:null,binaryValue:null,binaryAccessor:null,needsUpdate:!0,needsRedraw:!1,updateRanges:D}),(0,n.Z)(ut(o),"constant",!1),o.settings.update=i.update||(i.accessor?o._autoUpdater:void 0),Object.seal(o.settings),Object.seal(o.state),o._validateAttributeUpdaters(),o}return function(t,e,r){e&&et(t.prototype,e),r&&et(t,r),Object.defineProperty(t,"prototype",{writable:!1})}(r,[{key:"startIndices",get:function(){return this.state.startIndices},set:function(t){this.state.startIndices=t}},{key:"needsUpdate",value:function(){return this.state.needsUpdate}},{key:"needsRedraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.clearChangedFlags,r=void 0!==e&&e,n=this.state.needsRedraw;return this.state.needsRedraw=n&&!r,n}},{key:"getUpdateTriggers",value:function(){var t=this.settings.accessor;return[this.id].concat("function"!=typeof t&&t||[])}},{key:"supportsTransition",value:function(){return Boolean(this.settings.transition)}},{key:"getTransitionSetting",value:function(t){if(!t||!this.supportsTransition())return null;var e=this.settings.accessor,r=this.settings.transition;return G(Array.isArray(e)?t[e.find((function(e){return t[e]}))]:t[e],r)}},{key:"setNeedsUpdate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.id,e=arguments.length>1?arguments[1]:void 0;if(this.state.needsUpdate=this.state.needsUpdate||t,this.setNeedsRedraw(t),e){var r=e.startRow,n=void 0===r?0:r,i=e.endRow,o=void 0===i?1/0:i;this.state.updateRanges=L(this.state.updateRanges,[n,o])}else this.state.updateRanges=D}},{key:"clearNeedsUpdate",value:function(){this.state.needsUpdate=!1,this.state.updateRanges=Z}},{key:"setNeedsRedraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.id;this.state.needsRedraw=this.state.needsRedraw||t}},{key:"allocate",value:function(t){var e=this.state,n=this.settings;return!n.noAlloc&&(!!n.update&&(nt(ct(r.prototype),"allocate",this).call(this,t,e.updateRanges!==D),!0))}},{key:"updateBuffer",value:function(t){var e=t.numInstances,n=t.data,i=t.props,o=t.context;if(!this.needsUpdate())return!1;var a=this.state.updateRanges,s=this.settings,u=s.update,c=s.noAlloc,l=!0;if(u){var f,p=K(a);try{for(p.s();!(f=p.n()).done;){var h=X(f.value,2),v=h[0],d=h[1];u.call(o,this,{data:n,startRow:v,endRow:d,props:i,numInstances:e})}}catch(t){p.e(t)}finally{p.f()}if(this.value)if(this.constant||this.buffer.byteLength<this.value.byteLength+this.byteOffset)this.setData({value:this.value,constant:this.constant}),this.constant=!1;else{var y,b=K(a);try{for(b.s();!(y=b.n()).done;){var g=X(y.value,2),m=g[0],w=g[1],j=Number.isFinite(m)?this.getVertexOffset(m):0,O=Number.isFinite(w)?this.getVertexOffset(w):c||!Number.isFinite(e)?this.value.length:e*this.size;nt(ct(r.prototype),"updateSubBuffer",this).call(this,{startOffset:j,endOffset:O})}}catch(t){b.e(t)}finally{b.f()}}else;this._checkAttributeArray()}else l=!1;return this.clearNeedsUpdate(),this.setNeedsRedraw(),l}},{key:"setConstantValue",value:function(t){return void 0!==t&&"function"!=typeof t&&(this.setData({constant:!0,value:t})&&this.setNeedsRedraw(),this.clearNeedsUpdate(),!0)}},{key:"setExternalBuffer",value:function(t){var e=this.state;return t?(this.clearNeedsUpdate(),e.lastExternalBuffer===t||(e.lastExternalBuffer=t,this.setNeedsRedraw(),this.setData(t)),!0):(e.lastExternalBuffer=null,!1)}},{key:"setBinaryValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this.state,n=this.settings;if(!t)return r.binaryValue=null,r.binaryAccessor=null,!1;if(n.noAlloc)return!1;if(r.binaryValue===t)return this.clearNeedsUpdate(),!0;r.binaryValue=t,this.setNeedsRedraw();var i=n.transform||e!==this.startIndices;if(i){ArrayBuffer.isView(t)&&(t={value:t});var o=t;(0,I.Z)(ArrayBuffer.isView(o.value),"invalid ".concat(n.accessor));var a=Boolean(o.size)&&o.size!==this.size;return r.binaryAccessor=(0,M.jr)(o.value,{size:o.size||this.size,stride:o.stride,offset:o.offset,startIndices:e,nested:a}),!1}return this.clearNeedsUpdate(),this.setData(t),!0}},{key:"getVertexOffset",value:function(t){var e=this.startIndices;return(e?e[t]:t)*this.size}},{key:"getShaderAttributes",value:function(){var t=this.settings.shaderAttributes||function(t,e,r){return(e=rt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}({},this.id,null),e={};for(var n in t)Object.assign(e,nt(ct(r.prototype),"getShaderAttributes",this).call(this,n,t[n]));return e}},{key:"_autoUpdater",value:function(t,e){var r=e.data,n=e.startRow,i=e.endRow,o=e.props,a=e.numInstances;if(!t.constant){var s=t.settings,u=t.state,c=t.value,l=t.size,f=t.startIndices,p=s.accessor,h=s.transform,v=u.binaryAccessor||("function"==typeof p?p:o[p]);(0,I.Z)("function"==typeof v,'accessor "'.concat(p,'" is not a function'));var d,y=t.getVertexOffset(n),b=(0,M.jB)(r,n,i),g=b.iterable,m=b.objectInfo,w=K(g);try{for(w.s();!(d=w.n()).done;){var j=d.value;m.index++;var O=v(j,m);if(h&&(O=h.call(this,O)),f){var P=(m.index<f.length-1?f[m.index+1]:a)-f[m.index];if(O&&Array.isArray(O[0])){var S,_=y,A=K(O);try{for(A.s();!(S=A.n()).done;){var k=S.value;t._normalizeValue(k,c,_),_+=l}}catch(t){A.e(t)}finally{A.f()}}else O&&O.length>l?c.set(O,y):(t._normalizeValue(O,m.target,0),(0,R.k)({target:c,source:m.target,start:y,count:P}));y+=P*l}else t._normalizeValue(O,c,y),y+=l}}catch(t){w.e(t)}finally{w.f()}}}},{key:"_validateAttributeUpdaters",value:function(){var t=this.settings;if(!(t.noAlloc||"function"==typeof t.update))throw new Error("Attribute ".concat(this.id," missing update or accessor"))}},{key:"_checkAttributeArray",value:function(){var t=this.value,e=Math.min(4,this.size);if(t&&t.length>=e){var r=!0;switch(e){case 4:r=r&&Number.isFinite(t[3]);case 3:r=r&&Number.isFinite(t[2]);case 2:r=r&&Number.isFinite(t[1]);case 1:r=r&&Number.isFinite(t[0]);break;default:r=!1}if(!r)throw new Error("Illegal attribute generated for ".concat(this.id))}}}]),r}(C),ft=r(41957),pt=r(54956);function ht(t){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dt(n.key),n)}}function dt(t){var e=function(t,e){if("object"!==ht(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ht(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ht(e)?e:String(e)}var yt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(0,n.Z)(this,"_inProgress",void 0),(0,n.Z)(this,"_handle",void 0),(0,n.Z)(this,"_timeline",void 0),(0,n.Z)(this,"time",void 0),(0,n.Z)(this,"settings",void 0),this._inProgress=!1,this._handle=null,this._timeline=e,this.time=0,this.settings={duration:0}}return function(t,e,r){e&&vt(t.prototype,e),r&&vt(t,r),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"inProgress",get:function(){return this._inProgress}},{key:"start",value:function(t){var e,r;this.cancel(),this.settings=t,this._inProgress=!0,null===(e=(r=this.settings).onStart)||void 0===e||e.call(r,this)}},{key:"end",value:function(){var t,e;this._inProgress&&(this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1,null===(t=(e=this.settings).onEnd)||void 0===t||t.call(e,this))}},{key:"cancel",value:function(){var t,e;this._inProgress&&(null===(t=(e=this.settings).onInterrupt)||void 0===t||t.call(e,this),this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1)}},{key:"update",value:function(){var t,e;if(!this._inProgress)return!1;if(null===this._handle){var r=this._timeline,n=this.settings;this._handle=r.addChannel({delay:r.getTime(),duration:n.duration})}return this.time=this._timeline.getTime(this._handle),this._onUpdate(),null===(t=(e=this.settings).onUpdate)||void 0===t||t.call(e,this),this._timeline.isFinished(this._handle)&&this.end(),!0}},{key:"_onUpdate",value:function(){}}]),t}();function bt(t){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function mt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?gt(Object(r),!0).forEach((function(e){wt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function wt(t,e,r){return(e=St(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jt(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return Ot(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ot(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function Ot(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Pt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,St(n.key),n)}}function St(t){var e=function(t,e){if("object"!==bt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==bt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===bt(e)?e:String(e)}var _t=function(){function t(e){var r=e.gl,i=e.attribute,o=e.timeline;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(0,n.Z)(this,"gl",void 0),(0,n.Z)(this,"type","interpolation"),(0,n.Z)(this,"attributeInTransition",void 0),(0,n.Z)(this,"settings",void 0),(0,n.Z)(this,"attribute",void 0),(0,n.Z)(this,"transition",void 0),(0,n.Z)(this,"currentStartIndices",void 0),(0,n.Z)(this,"currentLength",void 0),(0,n.Z)(this,"transform",void 0),(0,n.Z)(this,"buffers",void 0),this.gl=r,this.transition=new yt(o),this.attribute=i,this.attributeInTransition=new lt(r,i.settings),this.currentStartIndices=i.startIndices,this.currentLength=0,this.transform=function(t,e){var r=W(e.size);return new pt.Z(t,{vs:At,defines:{ATTRIBUTE_TYPE:r},varyings:["vCurrent"]})}(r,i);var a={byteLength:0,usage:35050};this.buffers=[new s.Z(r,a),new s.Z(r,a)]}return function(t,e,r){e&&Pt(t.prototype,e),r&&Pt(t,r),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"inProgress",get:function(){return this.transition.inProgress}},{key:"start",value:function(t,e){if(t.duration<=0)this.transition.cancel();else{this.settings=t;this.gl;var r=this.buffers,n=this.attribute;H(r);var i,o={numInstances:e,attribute:n,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:t.enter},a=jt(r);try{for(a.s();!(i=a.n()).done;){J(mt({buffer:i.value},o))}}catch(t){a.e(t)}finally{a.f()}this.currentStartIndices=n.startIndices,this.currentLength=q(n,e),this.attributeInTransition.setData({buffer:r[1],value:n.value}),this.transition.start(t),this.transform.update({elementCount:Math.floor(this.currentLength/n.size),sourceBuffers:{aFrom:r[0],aTo:Y(0,n)},feedbackBuffers:{vCurrent:r[1]}})}}},{key:"update",value:function(){var t=this.transition.update();if(t){var e=this.settings,r=e.duration,n=e.easing,i=this.transition.time/r;n&&(i=n(i)),this.transform.run({uniforms:{time:i}})}return t}},{key:"cancel",value:function(){this.transition.cancel(),this.transform.delete();var t,e=jt(this.buffers);try{for(e.s();!(t=e.n()).done;){t.value.delete()}}catch(t){e.e(t)}finally{e.f()}this.buffers.length=0}}]),t}(),At="\n#define SHADER_NAME interpolation-transition-vertex-shader\n\nuniform float time;\nattribute ATTRIBUTE_TYPE aFrom;\nattribute ATTRIBUTE_TYPE aTo;\nvarying ATTRIBUTE_TYPE vCurrent;\n\nvoid main(void) {\n  vCurrent = mix(aFrom, aTo, time);\n  gl_Position = vec4(0.0);\n}\n";var kt=r(21281),Et=r(70979),Tt=r(33770);function xt(t){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ct(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return It(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return It(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function It(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Rt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Mt(Object(r),!0).forEach((function(e){Zt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Mt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Zt(t,e,r){return(e=Lt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Lt(n.key),n)}}function Lt(t){var e=function(t,e){if("object"!==xt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==xt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===xt(e)?e:String(e)}function zt(t){return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ut(n.key),n)}}function Ut(t){var e=function(t,e){if("object"!==zt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==zt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===zt(e)?e:String(e)}var Ft={interpolation:_t,spring:function(){function t(e){var r=e.gl,i=e.attribute,o=e.timeline;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(0,n.Z)(this,"gl",void 0),(0,n.Z)(this,"type","spring"),(0,n.Z)(this,"attributeInTransition",void 0),(0,n.Z)(this,"settings",void 0),(0,n.Z)(this,"attribute",void 0),(0,n.Z)(this,"transition",void 0),(0,n.Z)(this,"currentStartIndices",void 0),(0,n.Z)(this,"currentLength",void 0),(0,n.Z)(this,"texture",void 0),(0,n.Z)(this,"framebuffer",void 0),(0,n.Z)(this,"transform",void 0),(0,n.Z)(this,"buffers",void 0),this.gl=r,this.type="spring",this.transition=new yt(o),this.attribute=i,this.attributeInTransition=new lt(r,Rt(Rt({},i.settings),{},{normalized:!1})),this.currentStartIndices=i.startIndices,this.currentLength=0,this.texture=function(t){return new Et.Z(t,{data:new Uint8Array(4),format:6408,type:5121,border:0,mipmaps:!1,dataFormat:6408,width:1,height:1})}(r),this.framebuffer=function(t,e){return new Tt.Z(t,{id:"spring-transition-is-transitioning-framebuffer",width:1,height:1,attachments:Zt({},36064,e)})}(r,this.texture),this.transform=function(t,e,r){var n=W(e.size);return new pt.Z(t,{framebuffer:r,vs:"\n#define SHADER_NAME spring-transition-vertex-shader\n\n#define EPSILON 0.00001\n\nuniform float stiffness;\nuniform float damping;\nattribute ATTRIBUTE_TYPE aPrev;\nattribute ATTRIBUTE_TYPE aCur;\nattribute ATTRIBUTE_TYPE aTo;\nvarying ATTRIBUTE_TYPE vNext;\nvarying float vIsTransitioningFlag;\n\nATTRIBUTE_TYPE getNextValue(ATTRIBUTE_TYPE cur, ATTRIBUTE_TYPE prev, ATTRIBUTE_TYPE dest) {\n  ATTRIBUTE_TYPE velocity = cur - prev;\n  ATTRIBUTE_TYPE delta = dest - cur;\n  ATTRIBUTE_TYPE spring = delta * stiffness;\n  ATTRIBUTE_TYPE damper = velocity * -1.0 * damping;\n  return spring + damper + velocity + cur;\n}\n\nvoid main(void) {\n  bool isTransitioning = length(aCur - aPrev) > EPSILON || length(aTo - aCur) > EPSILON;\n  vIsTransitioningFlag = isTransitioning ? 1.0 : 0.0;\n\n  vNext = getNextValue(aCur, aPrev, aTo);\n  gl_Position = vec4(0, 0, 0, 1);\n  gl_PointSize = 100.0;\n}\n",fs:"\n#define SHADER_NAME spring-transition-is-transitioning-fragment-shader\n\nvarying float vIsTransitioningFlag;\n\nvoid main(void) {\n  if (vIsTransitioningFlag == 0.0) {\n    discard;\n  }\n  gl_FragColor = vec4(1.0);\n}",defines:{ATTRIBUTE_TYPE:n},varyings:["vNext"]})}(r,i,this.framebuffer);var a={byteLength:0,usage:35050};this.buffers=[new s.Z(r,a),new s.Z(r,a),new s.Z(r,a)]}return function(t,e,r){e&&Dt(t.prototype,e),r&&Dt(t,r),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"inProgress",get:function(){return this.transition.inProgress}},{key:"start",value:function(t,e){this.gl;var r,n=this.buffers,i=this.attribute,o={numInstances:e,attribute:i,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:t.enter},a=Ct(n);try{for(a.s();!(r=a.n()).done;){J(Rt({buffer:r.value},o))}}catch(t){a.e(t)}finally{a.f()}this.settings=t,this.currentStartIndices=i.startIndices,this.currentLength=q(i,e),this.attributeInTransition.setData({buffer:n[1],value:i.value}),this.transition.start(Rt(Rt({},t),{},{duration:1/0})),this.transform.update({elementCount:Math.floor(this.currentLength/i.size),sourceBuffers:{aTo:Y(0,i)}})}},{key:"update",value:function(){var t=this.buffers,e=this.transform,r=this.framebuffer,n=this.transition;if(!n.update())return!1;var i=this.settings;return e.update({sourceBuffers:{aPrev:t[0],aCur:t[1]},feedbackBuffers:{vNext:t[2]}}),e.run({framebuffer:r,discard:!1,clearRenderTarget:!0,uniforms:{stiffness:i.stiffness,damping:i.damping},parameters:{depthTest:!1,blend:!0,viewport:[0,0,1,1],blendFunc:[1,1],blendEquation:[32776,32776]}}),H(t),this.attributeInTransition.setData({buffer:t[1],value:this.attribute.value}),(0,kt.z6)(r)[0]>0||n.end(),!0}},{key:"cancel",value:function(){this.transition.cancel(),this.transform.delete();var t,e=Ct(this.buffers);try{for(e.s();!(t=e.n()).done;){t.value.delete()}}catch(t){e.e(t)}finally{e.f()}this.buffers.length=0,this.texture.delete(),this.framebuffer.delete()}}]),t}()},Bt=function(){function t(e,r){var i=r.id,o=r.timeline;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(0,n.Z)(this,"id",void 0),(0,n.Z)(this,"isSupported",void 0),(0,n.Z)(this,"gl",void 0),(0,n.Z)(this,"timeline",void 0),(0,n.Z)(this,"transitions",void 0),(0,n.Z)(this,"needsRedraw",void 0),(0,n.Z)(this,"numInstances",void 0),this.id=i,this.gl=e,this.timeline=o,this.transitions={},this.needsRedraw=!1,this.numInstances=1,this.isSupported=pt.Z.isSupported(e)}return function(t,e,r){e&&Nt(t.prototype,e),r&&Nt(t,r),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"finalize",value:function(){for(var t in this.transitions)this._removeTransition(t)}},{key:"update",value:function(t){var e=t.attributes,r=t.transitions,n=t.numInstances;for(var i in this.numInstances=n||1,e){var o=e[i],a=o.getTransitionSetting(r);a&&this._updateAttribute(i,o,a)}for(var s in this.transitions){var u=e[s];u&&u.getTransitionSetting(r)||this._removeTransition(s)}}},{key:"hasAttribute",value:function(t){var e=this.transitions[t];return e&&e.inProgress}},{key:"getAttributes",value:function(){var t={};for(var e in this.transitions){var r=this.transitions[e];r.inProgress&&(t[e]=r.attributeInTransition)}return t}},{key:"run",value:function(){if(!this.isSupported||0===this.numInstances)return!1;for(var t in this.transitions){this.transitions[t].update()&&(this.needsRedraw=!0)}var e=this.needsRedraw;return this.needsRedraw=!1,e}},{key:"_removeTransition",value:function(t){this.transitions[t].cancel(),delete this.transitions[t]}},{key:"_updateAttribute",value:function(t,e,r){var n=this.transitions[t],i=!n||n.type!==r.type;if(i){if(!this.isSupported)return void O.Z.warn("WebGL2 not supported by this browser. Transition for ".concat(t," is disabled."))();n&&this._removeTransition(t);var o=Ft[r.type];o?this.transitions[t]=new o({attribute:e,timeline:this.timeline,gl:this.gl}):(O.Z.error("unsupported transition type '".concat(r.type,"'"))(),i=!1)}(i||e.needsRedraw())&&(this.needsRedraw=!0,this.transitions[t].start(r,this.numInstances))}}]),t}();function Vt(t){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Yt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Gt(Object(r),!0).forEach((function(e){Wt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Wt(t,e,r){return(e=Xt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ht(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return qt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qt(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function qt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Jt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Xt(n.key),n)}}function Xt(t){var e=function(t,e){if("object"!==Vt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Vt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Vt(e)?e:String(e)}var Kt="attributeManager.invalidate",Qt=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.id,o=void 0===i?"attribute-manager":i,a=r.stats,s=r.timeline;Jt(this,t),(0,n.Z)(this,"id",void 0),(0,n.Z)(this,"gl",void 0),(0,n.Z)(this,"attributes",void 0),(0,n.Z)(this,"updateTriggers",void 0),(0,n.Z)(this,"needsRedraw",void 0),(0,n.Z)(this,"userData",void 0),(0,n.Z)(this,"stats",void 0),(0,n.Z)(this,"attributeTransitionManager",void 0),this.id=o,this.gl=e,this.attributes={},this.updateTriggers={},this.needsRedraw=!0,this.userData={},this.stats=a,this.attributeTransitionManager=new Bt(e,{id:"".concat(o,"-transitions"),timeline:s}),Object.seal(this)}return function(t,e,r){e&&$t(t.prototype,e),r&&$t(t,r),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"finalize",value:function(){for(var t in this.attributes)this.attributes[t].delete();this.attributeTransitionManager.finalize()}},{key:"getNeedsRedraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1},e=this.needsRedraw;return this.needsRedraw=this.needsRedraw&&!t.clearRedrawFlags,e&&this.id}},{key:"setNeedsRedraw",value:function(){this.needsRedraw=!0}},{key:"add",value:function(t){this._add(t)}},{key:"addInstanced",value:function(t){this._add(t,{instanced:1})}},{key:"remove",value:function(t){var e,r=Ht(t);try{for(r.s();!(e=r.n()).done;){var n=e.value;void 0!==this.attributes[n]&&(this.attributes[n].delete(),delete this.attributes[n])}}catch(t){r.e(t)}finally{r.f()}}},{key:"invalidate",value:function(t,e){var r=this._invalidateTrigger(t,e);(0,ft.Z)(Kt,this,t,r)}},{key:"invalidateAll",value:function(t){for(var e in this.attributes)this.attributes[e].setNeedsUpdate(e,t);(0,ft.Z)(Kt,this,"all")}},{key:"update",value:function(t){var e=t.data,r=t.numInstances,n=t.startIndices,i=void 0===n?null:n,o=t.transitions,a=t.props,s=void 0===a?{}:a,u=t.buffers,c=void 0===u?{}:u,l=t.context,f=void 0===l?{}:l,p=!1;for(var h in(0,ft.Z)("attributeManager.updateStart",this),this.stats&&this.stats.get("Update Attributes").timeStart(),this.attributes){var v=this.attributes[h],d=v.settings.accessor;v.startIndices=i,v.numInstances=r,s[h]&&O.Z.removed("props.".concat(h),"data.attributes.".concat(h))(),v.setExternalBuffer(c[h])||v.setBinaryValue("string"==typeof d?c[d]:void 0,e.startIndices)||"string"==typeof d&&!c[d]&&v.setConstantValue(s[d])||v.needsUpdate()&&(p=!0,this._updateAttribute({attribute:v,numInstances:r,data:e,props:s,context:f})),this.needsRedraw=this.needsRedraw||v.needsRedraw()}p&&(0,ft.Z)("attributeManager.updateEnd",this,r),this.stats&&this.stats.get("Update Attributes").timeEnd(),this.attributeTransitionManager.update({attributes:this.attributes,numInstances:r,transitions:o})}},{key:"updateTransition",value:function(){var t=this.attributeTransitionManager.run();return this.needsRedraw=this.needsRedraw||t,t}},{key:"getAttributes",value:function(){return this.attributes}},{key:"getChangedAttributes",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearChangedFlags:!1},e=this.attributes,r=this.attributeTransitionManager,n=Yt({},r.getAttributes());for(var i in e){var o=e[i];o.needsRedraw(t)&&!r.hasAttribute(i)&&(n[i]=o)}return n}},{key:"getShaderAttributes",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t||(t=this.getAttributes());var r={};for(var n in t)e[n]||Object.assign(r,t[n].getShaderAttributes());return r}},{key:"_add",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var r in t){var n=t[r];this.attributes[r]=this._createAttribute(r,n,e)}this._mapUpdateTriggersToAttributes()}},{key:"_createAttribute",value:function(t,e,r){var n=Yt(Yt({},e),{},{id:t,size:(e.isIndexed?1:e.size)||1,divisor:r.instanced?1:e.divisor||0});return new lt(this.gl,n)}},{key:"_mapUpdateTriggersToAttributes",value:function(){var t=this,e={},r=function(r){t.attributes[r].getUpdateTriggers().forEach((function(t){e[t]||(e[t]=[]),e[t].push(r)}))};for(var n in this.attributes)r(n);this.updateTriggers=e}},{key:"_invalidateTrigger",value:function(t,e){var r=this.attributes,n=this.updateTriggers[t];return n&&n.forEach((function(t){var n=r[t];n&&n.setNeedsUpdate(n.id,e)})),n}},{key:"_updateAttribute",value:function(t){var e=t.attribute,r=t.numInstances;((0,ft.Z)("attribute.updateStart",e),e.constant)?e.setConstantValue(e.value):(e.allocate(r)&&(0,ft.Z)("attribute.allocate",e,r),e.updateBuffer(t)&&(this.needsRedraw=!0,(0,ft.Z)("attribute.updateEnd",e,r)))}}]),t}(),te=r(56889);function ee(t){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function re(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ie(n.key),n)}}function ie(t){var e=function(t,e){if("object"!==ee(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ee(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ee(e)?e:String(e)}function oe(t,e){return(oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ae(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ue(t);if(e){var i=ue(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return se(this,r)}}function se(t,e){if(e&&("object"===ee(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ue(t){return(ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ce(t){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function le(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pe(n.key),n)}}function pe(t){var e=function(t,e){if("object"!==ce(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ce(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ce(e)?e:String(e)}function he(t,e){return(he=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ve(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ye(t);if(e){var i=ye(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return de(this,r)}}function de(t,e){if(e&&("object"===ce(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ye(t){return(ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var be=1e-5;function ge(t,e,r,n,i){var o=e-t;return(r-e)*i+-o*n+o+e}function me(t,e){if(Array.isArray(t)){for(var r=0,n=0;n<t.length;n++){var i=t[n]-e[n];r+=i*i}return Math.sqrt(r)}return Math.abs(t-e)}function we(t){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function je(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||Pe(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oe(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Pe(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function Pe(t,e){if(t){if("string"==typeof t)return Se(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Se(t,e):void 0}}function Se(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _e(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ae(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_e(Object(r),!0).forEach((function(e){ke(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_e(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ke(t,e,r){return(e=Te(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Te(n.key),n)}}function Te(t){var e=function(t,e){if("object"!==we(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==we(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===we(e)?e:String(e)}var xe={interpolation:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oe(t,e)}(r,t);var e=ae(r);function r(){return re(this,r),e.apply(this,arguments)}return function(t,e,r){e&&ne(t.prototype,e),r&&ne(t,r),Object.defineProperty(t,"prototype",{writable:!1})}(r,[{key:"value",get:function(){return this._value}},{key:"_onUpdate",value:function(){var t=this.time,e=this.settings,r=e.fromValue,n=e.toValue,i=e.duration,o=(0,e.easing)(t/i);this._value=(0,te.t7)(r,n,o)}}]),r}(yt),spring:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&he(t,e)}(r,t);var e=ve(r);function r(){return le(this,r),e.apply(this,arguments)}return function(t,e,r){e&&fe(t.prototype,e),r&&fe(t,r),Object.defineProperty(t,"prototype",{writable:!1})}(r,[{key:"value",get:function(){return this._currValue}},{key:"_onUpdate",value:function(){var t=this.settings,e=t.fromValue,r=t.toValue,n=t.damping,i=t.stiffness,o=this._prevValue,a=void 0===o?e:o,s=this._currValue,u=void 0===s?e:s,c=function(t,e,r,n,i){if(Array.isArray(r)){for(var o=[],a=0;a<r.length;a++)o[a]=ge(t[a],e[a],r[a],n,i);return o}return ge(t,e,r,n,i)}(a,u,r,n,i),l=me(c,r),f=me(c,u);l<be&&f<be&&(c=r,this.end()),this._prevValue=u,this._currValue=c}}]),r}(yt)},Ce=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.transitions=new Map,this.timeline=e}return function(t,e,r){e&&Ee(t.prototype,e),r&&Ee(t,r),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"active",get:function(){return this.transitions.size>0}},{key:"add",value:function(t,e,r,n){var i=this.transitions;if(i.has(t)){var o=i.get(t),a=o.value;e=void 0===a?o.settings.fromValue:a,this.remove(t)}if(n=G(n)){var s=xe[n.type];if(s){var u=new s(this.timeline);u.start(Ae(Ae({},n),{},{fromValue:e,toValue:r})),i.set(t,u)}else O.Z.error("unsupported transition type '".concat(n.type,"'"))()}}},{key:"remove",value:function(t){var e=this.transitions;e.has(t)&&(e.get(t).cancel(),e.delete(t))}},{key:"update",value:function(){var t,e={},r=Oe(this.transitions);try{for(r.s();!(t=r.n()).done;){var n=je(t.value,2),i=n[0],o=n[1];o.update(),e[i]=o.value,o.inProgress||this.remove(i)}}catch(t){r.e(t)}finally{r.f()}return e}},{key:"clear",value:function(){var t,e=Oe(this.transitions.keys());try{for(e.s();!(t=e.n()).done;){var r=t.value;this.remove(r)}}catch(t){e.e(t)}finally{e.f()}}}]),t}(),Ie="Awaiting state",Me=Symbol.for("component"),Re=Symbol.for("asyncPropDefaults"),Ze=Symbol.for("asyncPropOriginal"),De=Symbol.for("asyncPropResolved");function Le(t){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ze(t,e){var r=Ue({newProps:t,oldProps:e,propTypes:Ge(t),ignoreProps:{data:null,updateTriggers:null,extensions:null,transitions:null}}),n=function(t,e){if(null===e)return"oldProps is null, initial diff";var r=!1,n=t.dataComparator,i=t._dataDiff;n?n(t.data,e.data)||(r="Data comparator detected a change"):t.data!==e.data&&(r="A new data container was supplied");r&&i&&(r=i(t.data,e.data)||r);return r}(t,e),i=!1;return n||(i=function(t,e){if(null===e)return{all:!0};if("all"in t.updateTriggers){if(Ve(t,e,"all"))return{all:!0}}var r={},n=!1;for(var i in t.updateTriggers){if("all"!==i)Ve(t,e,i)&&(r[i]=!0,n=!0)}return!!n&&r}(t,e)),{dataChanged:n,propsChanged:r,updateTriggersChanged:i,extensionsChanged:Be(t,e),transitionsChanged:Ne(t,e)}}function Ne(t,e){if(!t.transitions)return!1;var r={},n=Ge(t),i=!1;for(var o in t.transitions){var a=n[o],s=a&&a.type;("number"===s||"color"===s||"array"===s)&&Fe(t[o],e[o],a)&&(r[o]=!0,i=!0)}return!!i&&r}function Ue(t){var e=t.newProps,r=t.oldProps,n=t.ignoreProps,i=void 0===n?{}:n,o=t.propTypes,a=void 0===o?{}:o,s=t.triggerName,u=void 0===s?"props":s;if(r===e)return!1;if("object"!==Le(e)||null===e)return"".concat(u," changed shallowly");if("object"!==Le(r)||null===r)return"".concat(u," changed shallowly");for(var c=0,l=Object.keys(e);c<l.length;c++){var f=l[c];if(!(f in i)){if(!(f in r))return"".concat(u,".").concat(f," added");var p=Fe(e[f],r[f],a[f]);if(p)return"".concat(u,".").concat(f," ").concat(p)}}for(var h=0,v=Object.keys(r);h<v.length;h++){var d=v[h];if(!(d in i)){if(!(d in e))return"".concat(u,".").concat(d," dropped");if(!Object.hasOwnProperty.call(e,d)){var y=Fe(e[d],r[d],a[d]);if(y)return"".concat(u,".").concat(d," ").concat(y)}}}return!1}function Fe(t,e,r){var n=r&&r.equal;return n&&!n(t,e,r)?"changed deeply":n||!(n=t&&e&&t.equals)||n.call(t,e)?n||e===t?null:"changed shallowly":"changed deeply"}function Be(t,e){if(null===e)return!0;var r=e.extensions,n=t.extensions;if(n===r)return!1;if(!r||!n)return!0;if(n.length!==r.length)return!0;for(var i=0;i<n.length;i++)if(!n[i].equals(r[i]))return!0;return!1}function Ve(t,e,r){var n=t.updateTriggers[r];n=null==n?{}:n;var i=e.updateTriggers[r];return Ue({oldProps:i=null==i?{}:i,newProps:n,triggerName:r})}function Ge(t){var e=t[Me],r=e&&e.constructor;return r?r._propTypes:{}}function Ye(t){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function We(t){if(!function(t){return null!==t&&"object"===Ye(t)}(t))throw new Error("count(): argument not an object");if("function"==typeof t.count)return t.count();if(Number.isFinite(t.size))return t.size;if(Number.isFinite(t.length))return t.length;if(function(t){return null!==t&&"object"===Ye(t)&&t.constructor===Object}(t))return Object.keys(t).length;throw new Error("count(): argument not a container")}var He=r(14240),qe=r(34757);function Je(t){return(Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $e(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Xe(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?$e(Object(r),!0).forEach((function(e){Ke(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$e(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ke(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==Je(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Je(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Je(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qe(t,e){if(!e)return t;var r=Xe(Xe({},t),e);if("defines"in e&&(r.defines=Xe(Xe({},t.defines),e.defines)),"modules"in e&&(r.modules=(t.modules||[]).concat(e.modules),e.modules.some((function(t){return"project64"===t.name})))){var n=r.modules.findIndex((function(t){return"project32"===t.name}));n>=0&&r.modules.splice(n,1)}if("inject"in e)if(t.inject){var i=Xe({},t.inject);for(var o in e.inject)i[o]=(i[o]||"")+e.inject[o];r.inject=i}else r.inject=e.inject;return r}var tr=r(74786),er=r(65835),rr=r(97575),nr=r(64545);function ir(t){return(ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function or(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return ar(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ar(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ar(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ur(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cr(n.key),n)}}function cr(t){var e=function(t,e){if("object"!==ir(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ir(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ir(e)?e:String(e)}var lr=Math.PI/180,fr=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],pr=[0,0,0],hr={unitsPerMeter:[1,1,1],metersPerUnit:[1,1,1]};var vr=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};sr(this,t),(0,n.Z)(this,"id",void 0),(0,n.Z)(this,"x",void 0),(0,n.Z)(this,"y",void 0),(0,n.Z)(this,"width",void 0),(0,n.Z)(this,"height",void 0),(0,n.Z)(this,"isGeospatial",void 0),(0,n.Z)(this,"zoom",void 0),(0,n.Z)(this,"focalDistance",void 0),(0,n.Z)(this,"position",void 0),(0,n.Z)(this,"modelMatrix",void 0),(0,n.Z)(this,"distanceScales",void 0),(0,n.Z)(this,"scale",void 0),(0,n.Z)(this,"center",void 0),(0,n.Z)(this,"cameraPosition",void 0),(0,n.Z)(this,"projectionMatrix",void 0),(0,n.Z)(this,"viewMatrix",void 0),(0,n.Z)(this,"viewMatrixUncentered",void 0),(0,n.Z)(this,"viewMatrixInverse",void 0),(0,n.Z)(this,"viewProjectionMatrix",void 0),(0,n.Z)(this,"pixelProjectionMatrix",void 0),(0,n.Z)(this,"pixelUnprojectionMatrix",void 0),(0,n.Z)(this,"resolution",void 0),(0,n.Z)(this,"_frustumPlanes",{}),this.id=e.id||this.constructor.displayName||"viewport",this.x=e.x||0,this.y=e.y||0,this.width=e.width||1,this.height=e.height||1,this.zoom=e.zoom||0,this.distanceScales=e.distanceScales||hr,this.focalDistance=e.focalDistance||1,this.position=e.position||pr,this.modelMatrix=e.modelMatrix||null;var r=e.longitude,i=e.latitude;this.isGeospatial=Number.isFinite(i)&&Number.isFinite(r),this._initProps(e),this._initMatrices(e),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}return function(t,e,r){e&&ur(t.prototype,e),r&&ur(t,r),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"metersPerPixel",get:function(){return this.distanceScales.metersPerUnit[2]/this.scale}},{key:"projectionMode",get:function(){return this.isGeospatial?this.zoom<12?i.zG.WEB_MERCATOR:i.zG.WEB_MERCATOR_AUTO_OFFSET:i.zG.IDENTITY}},{key:"equals",value:function(e){return e instanceof t&&(this===e||e.width===this.width&&e.height===this.height&&e.scale===this.scale&&(0,te.fS)(e.projectionMatrix,this.projectionMatrix)&&(0,te.fS)(e.viewMatrix,this.viewMatrix))}},{key:"project",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.topLeft,n=void 0===r||r,i=this.projectPosition(t),o=(0,nr.aW)(i,this.pixelProjectionMatrix),a=or(o,2),s=a[0],u=a[1],c=n?u:this.height-u;return 2===t.length?[s,c]:[s,c,o[2]]}},{key:"unproject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.topLeft,n=void 0===r||r,i=e.targetZ,o=or(t,3),a=o[0],s=o[1],u=o[2],c=n?s:this.height-s,l=i&&i*this.distanceScales.unitsPerMeter[2],f=(0,nr.CT)([a,c,u],this.pixelUnprojectionMatrix,l),p=this.unprojectPosition(f),h=or(p,3),v=h[0],d=h[1],y=h[2];return Number.isFinite(u)?[v,d,y]:Number.isFinite(i)?[v,d,i]:[v,d]}},{key:"projectPosition",value:function(t){var e=or(this.projectFlat(t),2);return[e[0],e[1],(t[2]||0)*this.distanceScales.unitsPerMeter[2]]}},{key:"unprojectPosition",value:function(t){var e=or(this.unprojectFlat(t),2);return[e[0],e[1],(t[2]||0)*this.distanceScales.metersPerUnit[2]]}},{key:"projectFlat",value:function(t){if(this.isGeospatial){var e=(0,nr.w5)(t);return e[1]=(0,te.uZ)(e[1],-318,830),e}return t}},{key:"unprojectFlat",value:function(t){return this.isGeospatial?(0,nr.es)(t):t}},{key:"getBounds",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={targetZ:t.z||0},r=this.unproject([0,0],e),n=this.unproject([this.width,0],e),i=this.unproject([0,this.height],e),o=this.unproject([this.width,this.height],e);return[Math.min(r[0],n[0],i[0],o[0]),Math.min(r[1],n[1],i[1],o[1]),Math.max(r[0],n[0],i[0],o[0]),Math.max(r[1],n[1],i[1],o[1])]}},{key:"getDistanceScales",value:function(t){return t?(0,nr.ro)({longitude:t[0],latitude:t[1],highPrecision:!0}):this.distanceScales}},{key:"containsPixel",value:function(t){var e=t.x,r=t.y,n=t.width,i=void 0===n?1:n,o=t.height,a=void 0===o?1:o;return e<this.x+this.width&&this.x<e+i&&r<this.y+this.height&&this.y<r+a}},{key:"getFrustumPlanes",value:function(){return this._frustumPlanes.near||Object.assign(this._frustumPlanes,function(t){return{left:m(t[3]+t[0],t[7]+t[4],t[11]+t[8],t[15]+t[12]),right:m(t[3]-t[0],t[7]-t[4],t[11]-t[8],t[15]-t[12]),bottom:m(t[3]+t[1],t[7]+t[5],t[11]+t[9],t[15]+t[13]),top:m(t[3]-t[1],t[7]-t[5],t[11]-t[9],t[15]-t[13]),near:m(t[3]+t[2],t[7]+t[6],t[11]+t[10],t[15]+t[14]),far:m(t[3]-t[2],t[7]-t[6],t[11]-t[10],t[15]-t[14])}}(this.viewProjectionMatrix)),this._frustumPlanes}},{key:"panByPosition",value:function(t,e){return null}},{key:"_initProps",value:function(t){var e=t.longitude,r=t.latitude;this.isGeospatial&&(Number.isFinite(t.zoom)||(this.zoom=(0,nr.Bf)({latitude:r})+Math.log2(this.focalDistance)),this.distanceScales=t.distanceScales||(0,nr.ro)({latitude:r,longitude:e}));var n=Math.pow(2,this.zoom);this.scale=n;var i=t.position,o=t.modelMatrix,a=pr;if(i&&(a=o?new er.Z(o).transformAsVector(i,[]):i),this.isGeospatial){var s=this.projectPosition([e,r,0]);this.center=new y.Z(a).scale(this.distanceScales.unitsPerMeter).add(s)}else this.center=this.projectPosition(a)}},{key:"_initMatrices",value:function(t){var e=t.viewMatrix,r=void 0===e?fr:e,n=t.projectionMatrix,i=void 0===n?null:n,o=t.orthographic,a=void 0!==o&&o,s=t.fovyRadians,u=t.fovy,c=void 0===u?75:u,l=t.near,f=void 0===l?.1:l,p=t.far,h=void 0===p?1e3:p,v=t.padding,d=void 0===v?null:v,b=t.focalDistance,g=void 0===b?1:b;this.viewMatrixUncentered=r,this.viewMatrix=(new er.Z).multiplyRight(r).translate(new y.Z(this.center).negate()),this.projectionMatrix=i||function(t){var e=t.width,r=t.height,n=t.orthographic,i=t.fovyRadians,o=t.focalDistance,a=t.padding,s=t.near,u=t.far,c=e/r,l=n?(new er.Z).orthographic({fovy:i,aspect:c,focalDistance:o,near:s,far:u}):(new er.Z).perspective({fovy:i,aspect:c,near:s,far:u});if(a){var f=a.left,p=void 0===f?0:f,h=a.right,v=void 0===h?0:h,d=a.top,y=void 0===d?0:d,b=a.bottom,g=void 0===b?0:b,m=(0,te.uZ)((p+e-v)/2,0,e)-e/2,w=(0,te.uZ)((y+r-g)/2,0,r)-r/2;l[8]-=2*m/e,l[9]+=2*w/r}return l}({width:this.width,height:this.height,orthographic:a,fovyRadians:s||c*lr,focalDistance:g,padding:d,near:f,far:h});var m=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];rr.Jp(m,m,this.projectionMatrix),rr.Jp(m,m,this.viewMatrix),this.viewProjectionMatrix=m,this.viewMatrixInverse=rr.U_([],this.viewMatrix)||this.viewMatrix,this.cameraPosition=function(t){return[t[12],t[13],t[14]]}(this.viewMatrixInverse);var w=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],j=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];rr.bA(w,w,[this.width/2,-this.height/2,1]),rr.Iu(w,w,[1,-1,0]),rr.Jp(j,w,this.viewProjectionMatrix),this.pixelProjectionMatrix=j,this.pixelUnprojectionMatrix=rr.U_([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.pixelProjectionMatrix),this.pixelUnprojectionMatrix||O.Z.warn("Pixel project matrix not invertible")()}}]),t}();(0,n.Z)(vr,"displayName","Viewport");var dr=r(43949),yr=r(10169),br=r(5810);function gr(t){return(gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return wr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wr(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Or(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?jr(Object(r),!0).forEach((function(e){Pr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Pr(t,e,r){return(e=Ar(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ar(n.key),n)}}function Ar(t){var e=function(t,e){if("object"!==gr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==gr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===gr(e)?e:String(e)}function kr(){return(kr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=Er(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}}).apply(this,arguments)}function Er(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Mr(t)););return t}function Tr(t,e){return(Tr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function xr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Mr(t);if(e){var i=Mr(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Cr(this,r)}}function Cr(t,e){if(e&&("object"===gr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ir(t)}function Ir(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mr(t){return(Mr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Rr=Math.PI/180;function Zr(t){return 512/4003e4/Math.cos(t*Rr)}var Dr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tr(t,e)}(r,t);var e=xr(r);function r(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Sr(this,r);var o,a=i.latitude,s=void 0===a?0:a,u=i.longitude,c=void 0===u?0:u,l=i.zoom,f=void 0===l?0:l,p=i.pitch,h=void 0===p?0:p,v=i.bearing,d=void 0===v?0:v,y=i.nearZMultiplier,b=void 0===y?.1:y,g=i.farZMultiplier,m=void 0===g?1.01:g,w=i.orthographic,j=void 0!==w&&w,O=i.projectionMatrix,P=i.repeat,S=void 0!==P&&P,_=i.worldOffset,A=void 0===_?0:_,k=i.legacyMeterSizes,E=void 0!==k&&k,T=i.width,x=i.height,C=i.altitude,I=void 0===C?1.5:C,M=Math.pow(2,f);T=T||1,x=x||1;var R=null;O?(I=O[5]/2,o=(0,nr.Lu)(I)):(i.fovy?(o=i.fovy,I=(0,nr.sj)(o)):o=(0,nr.Lu)(I),R=(0,nr.wl)({width:T,height:x,pitch:h,fovy:o,nearZMultiplier:b,farZMultiplier:m}));var Z=(0,nr.lf)({height:x,pitch:h,bearing:d,scale:M,altitude:I});if(A){var D=(new er.Z).translate([512*A,0,0]);Z=D.multiplyLeft(Z)}return t=e.call(this,Or(Or(Or({},i),{},{width:T,height:x,viewMatrix:Z,longitude:c,latitude:s,zoom:f},R),{},{fovy:o,focalDistance:I})),(0,n.Z)(Ir(t),"longitude",void 0),(0,n.Z)(Ir(t),"latitude",void 0),(0,n.Z)(Ir(t),"pitch",void 0),(0,n.Z)(Ir(t),"bearing",void 0),(0,n.Z)(Ir(t),"altitude",void 0),(0,n.Z)(Ir(t),"fovy",void 0),(0,n.Z)(Ir(t),"orthographic",void 0),(0,n.Z)(Ir(t),"_subViewports",void 0),(0,n.Z)(Ir(t),"_pseudoMeters",void 0),t.latitude=s,t.longitude=c,t.zoom=f,t.pitch=h,t.bearing=d,t.altitude=I,t.fovy=o,t.orthographic=j,t._subViewports=S?[]:null,t._pseudoMeters=E,Object.freeze(Ir(t)),t}return function(t,e,r){e&&_r(t.prototype,e),r&&_r(t,r),Object.defineProperty(t,"prototype",{writable:!1})}(r,[{key:"subViewports",get:function(){if(this._subViewports&&!this._subViewports.length)for(var t=this.getBounds(),e=Math.floor((t[0]+180)/360),n=Math.ceil((t[2]-180)/360),i=e;i<=n;i++){var o=i?new r(Or(Or({},this),{},{worldOffset:i})):this;this._subViewports.push(o)}return this._subViewports}},{key:"projectPosition",value:function(t){if(this._pseudoMeters)return kr(Mr(r.prototype),"projectPosition",this).call(this,t);var e=mr(this.projectFlat(t),2);return[e[0],e[1],(t[2]||0)*Zr(t[1])]}},{key:"unprojectPosition",value:function(t){if(this._pseudoMeters)return kr(Mr(r.prototype),"unprojectPosition",this).call(this,t);var e=mr(this.unprojectFlat(t),2),n=e[0],i=e[1];return[n,i,(t[2]||0)/Zr(i)]}},{key:"addMetersToLngLat",value:function(t,e){return(0,nr.eG)(t,e)}},{key:"panByPosition",value:function(t,e){var r=(0,nr.CT)(e,this.pixelUnprojectionMatrix),n=this.projectFlat(t),i=br.IH([],n,br.tk([],r)),o=br.IH([],this.center,i),a=mr(this.unprojectFlat(o),2);return{longitude:a[0],latitude:a[1]}}},{key:"getBounds",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=(0,dr.Z)(this,t.z||0);return[Math.min(e[0][0],e[1][0],e[2][0],e[3][0]),Math.min(e[0][1],e[1][1],e[2][1],e[3][1]),Math.max(e[0][0],e[1][0],e[2][0],e[3][0]),Math.max(e[0][1],e[1][1],e[2][1],e[3][1])]}},{key:"fitBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.width,i=this.height,o=(0,yr.Z)(Or({width:n,height:i,bounds:t},e)),a=o.longitude,s=o.latitude,u=o.zoom;return new r({width:n,height:i,longitude:a,latitude:s,zoom:u})}}]),r}(vr);(0,n.Z)(Dr,"displayName","WebMercatorViewport");var Lr=r(32779),zr=r(97290);function Nr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Ur(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ur(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ur(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Fr(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.projectPosition(t);if(r&&e instanceof Dr){var i=Nr(t,3),o=i[0],a=i[1],s=i[2],u=void 0===s?0:s,c=e.getDistanceScales([o,a]);n[2]=u*c.unitsPerMeter[2]}return n}function Br(t,e){var r=e.viewport,n=e.modelMatrix,o=e.coordinateSystem,a=e.coordinateOrigin,s=e.offsetMode,u=Nr(t,3),c=u[0],l=u[1],f=u[2],p=void 0===f?0:f;if(n){var h=Nr(Lr.fF([],[c,l,p,1],n),3);c=h[0],l=h[1],p=h[2]}switch(o){case i.Df.LNGLAT:return Fr([c,l,p],r,s);case i.Df.LNGLAT_OFFSETS:return Fr([c+a[0],l+a[1],p+(a[2]||0)],r,s);case i.Df.METER_OFFSETS:return Fr((0,nr.eG)(a,[c,l,p]),r,s);case i.Df.CARTESIAN:default:return r.isGeospatial?[c+a[0],l+a[1],p+a[2]]:r.projectPosition([c,l,p])}}function Vr(t,e){var r=function(t){var e=t.viewport,r=t.modelMatrix,n=t.coordinateOrigin,o=t.coordinateSystem,a=t.fromCoordinateSystem,s=t.fromCoordinateOrigin;return o===i.Df.DEFAULT&&(o=e.isGeospatial?i.Df.LNGLAT:i.Df.CARTESIAN),void 0===a&&(a=o),void 0===s&&(s=n),{viewport:e,coordinateSystem:o,coordinateOrigin:n,modelMatrix:r,fromCoordinateSystem:a,fromCoordinateOrigin:s}}(e),n=r.viewport,o=r.coordinateSystem,a=r.coordinateOrigin,s=r.modelMatrix,u=r.fromCoordinateSystem,c=r.fromCoordinateOrigin,l=(0,tr.v)(n,o,a),f=l.geospatialOrigin,p=l.shaderCoordinateOrigin,h=l.offsetMode,v=Br(t,{viewport:n,modelMatrix:s,coordinateSystem:u,coordinateOrigin:c,offsetMode:h});if(h){var d=n.projectPosition(f||p);zr.lu(v,v,d)}return v}function Gr(t){return(Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Wr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Yr(Object(r),!0).forEach((function(e){Hr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Hr(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==Gr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Gr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Gr(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var qr=Hr(Hr(Hr(Hr({},10241,9987),10240,9729),10242,33071),10243,33071),Jr={};function $r(t,e){if(t===e)return!0;if(!t||!e)return!1;for(var r in t){var n=t[r],i=e[r];if(!(n===i||Array.isArray(n)&&Array.isArray(i)&&$r(n,i)))return!1}return!0}function Xr(t){return(Xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Qr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Kr(Object(r),!0).forEach((function(e){tn(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function tn(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==Xr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Xr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Xr(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function en(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return rn(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rn(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rn(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var nn={boolean:{validate:function(t,e){return!0},equal:function(t,e,r){return Boolean(t)===Boolean(e)}},number:{validate:function(t,e){return Number.isFinite(t)&&(!("max"in e)||t<=e.max)&&(!("min"in e)||t>=e.min)}},color:{validate:function(t,e){return e.optional&&!t||un(t)&&(3===t.length||4===t.length)},equal:function(t,e,r){return on(t,e)}},accessor:{validate:function(t,e){var r=cn(t);return"function"===r||r===cn(e.value)},equal:function(t,e,r){return"function"==typeof e||on(t,e)}},array:{validate:function(t,e){return e.optional&&!t||un(t)},equal:function(t,e,r){return r.compare?on(t,e):t===e}},object:{equal:function(t,e,r){return r.compare?$r(t,e):t===e}},function:{validate:function(t,e){return e.optional&&!t||"function"==typeof t},equal:function(t,e,r){return!r.compare||t===e}},data:{transform:function(t,e,r){var n=r.props.dataTransform;return n&&t?n(t):t}},image:{transform:function(t,e,r){return function(t,e){var r=t.context&&t.context.gl;if(!r||!e)return null;if(e instanceof Et.Z)return e;e.constructor&&"Object"!==e.constructor.name&&(e={data:e});var n=null;e.compressed&&(n=Hr({},10241,e.data.length>1?9985:9729));var i=new Et.Z(r,Wr(Wr({},e),{},{parameters:Wr(Wr(Wr({},qr),n),t.props.textureParameters)}));return Jr[i.id]=!0,i}(r,t)},release:function(t){!function(t){t&&t instanceof Et.Z&&Jr[t.id]&&(t.delete(),delete Jr[t.id])}(t)}}};function on(t,e){if(t===e)return!0;if(!un(t)||!un(e))return!1;var r=t.length;if(r!==e.length)return!1;for(var n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function an(t,e){switch(cn(e)){case"object":return sn(t,e);case"array":return sn(t,{type:"array",value:e,compare:!1});case"boolean":return sn(t,{type:"boolean",value:e});case"number":return sn(t,{type:"number",value:e});case"function":return sn(t,{type:"function",value:e,compare:!0});default:return{name:t,type:"unknown",value:e}}}function sn(t,e){return"type"in e?Qr(Qr({name:t},nn[e.type]),e):"value"in e?Qr({name:t,type:cn(e.value)},e):{name:t,type:"object",value:e}}function un(t){return Array.isArray(t)||ArrayBuffer.isView(t)}function cn(t){return un(t)?"array":null===t?"null":Xr(t)}function ln(t){return(ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fn(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return pn(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pn(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function pn(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function vn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?hn(Object(r),!0).forEach((function(e){dn(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function dn(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==ln(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ln(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ln(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yn(t,e){var r=bn(t.constructor),n=Object.create(r);n[Me]=t,n[Ze]={},n[De]={};for(var i=0;i<e.length;++i){var o=e[i];for(var a in o)n[a]=o[a]}return Object.freeze(n),n}function bn(t){var e=wn(t,"_mergedDefaultProps");return e||(function(t){if(!t.prototype)return;var e=Object.getPrototypeOf(t),r=bn(e),n=function(t){for(var e={},r={},n={},i=0,o=Object.entries(t);i<o.length;i++){var a=en(o[i],2),s=a[0],u=a[1],c=null==u?void 0:u.deprecatedFor;if(c)n[s]=Array.isArray(c)?c:[c];else{var l=an(s,u);e[s]=l,r[s]=l.value}}return{propTypes:e,defaultProps:r,deprecatedProps:n}}(wn(t,"defaultProps")||{}),i=function(t,e,r){var n=Object.create(null);Object.assign(n,e,t);var i=function(t){var e=wn(t,"layerName")||wn(t,"componentName");e||O.Z.once(0,"".concat(t.name,".componentName not specified"))();return e||t.name}(r);return delete t.id,Object.defineProperties(n,{id:{writable:!0,value:i}}),n}(n.defaultProps,r,t),o=vn(vn({},e._propTypes),n.propTypes);!function(t,e){var r={},n={};for(var i in e){var o=e[i],a=o.name,s=o.value;o.async&&(r[a]=s,n[a]=gn(a))}t[Re]=r,t[Ze]={},Object.defineProperties(t,n)}(i,o);var a=vn(vn({},e._deprecatedProps),n.deprecatedProps);(function(t,e){var r=function(r){Object.defineProperty(t,r,{enumerable:!1,set:function(t){var n,i="".concat(this.id,": ").concat(r),o=fn(e[r]);try{for(o.s();!(n=o.n()).done;){var a=n.value;mn(this,a)||(this[a]=t)}}catch(t){o.e(t)}finally{o.f()}O.Z.deprecated(i,e[r].join("/"))()}})};for(var n in e)r(n)})(i,a),t._mergedDefaultProps=i,t._propTypes=o,t._deprecatedProps=a}(t),t._mergedDefaultProps)}function gn(t){return{enumerable:!0,set:function(e){"string"==typeof e||e instanceof Promise||(0,M.D0)(e)?this[Ze][t]=e:this[De][t]=e},get:function(){if(this[De]){if(t in this[De])return this[De][t]||this[Re][t];if(t in this[Ze]){var e=this[Me]&&this[Me].internalState;if(e&&e.hasAsyncProp(t))return e.getAsyncProp(t)||this[Re][t]}}return this[Re][t]}}}function mn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function wn(t,e){return mn(t,e)&&t[e]}function jn(t){return(jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function On(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Pn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?On(Object(r),!0).forEach((function(e){Sn(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):On(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Sn(t,e,r){return(e=kn(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function An(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kn(n.key),n)}}function kn(t){var e=function(t,e){if("object"!==jn(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==jn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===jn(e)?e:String(e)}var En=0,Tn=function(){function t(){_n(this,t),(0,n.Z)(this,"id",void 0),(0,n.Z)(this,"props",void 0),(0,n.Z)(this,"count",void 0);for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];this.props=yn(this,r),this.id=this.props.id,this.count=En++}return function(t,e,r){e&&An(t.prototype,e),r&&An(t,r),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"clone",value:function(t){var e=this.props,r={};for(var n in e[Re])n in e[De]?r[n]=e[De][n]:n in e[Ze]&&(r[n]=e[Ze][n]);return new this.constructor(Pn(Pn(Pn({},e),r),t))}}]),t}();function xn(t){return(xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cn(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Cn=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new T(n||[]);return i(a,"_invoke",{value:_(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var p="suspendedStart",h="executing",v="completed",d={};function y(){}function b(){}function g(){}var m={};c(m,a,(function(){return this}));var w=Object.getPrototypeOf,j=w&&w(w(x([])));j&&j!==r&&n.call(j,a)&&(m=j);var O=g.prototype=y.prototype=Object.create(m);function P(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function r(i,o,a,s){var u=f(t[i],t,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==xn(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function _(e,r,n){var i=p;return function(o,a){if(i===h)throw new Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=A(s,n);if(u){if(u===d)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=h;var c=f(e,r,n);if("normal"===c.type){if(i=n.done?v:"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=v,n.method="throw",n.arg=c.arg)}}}function A(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,A(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=f(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,d):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function x(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(xn(e)+" is not iterable")}return b.prototype=g,i(O,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:b,configurable:!0}),b.displayName=c(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,u,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},P(S.prototype),c(S.prototype,s,(function(){return this})),e.AsyncIterator=S,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new S(l(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},P(O),c(O,u,"Generator"),c(O,a,(function(){return this})),c(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=x,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;E(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:x(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),d}},e}function In(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function Mn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Rn(n.key),n)}}function Rn(t){var e=function(t,e){if("object"!==xn(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==xn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===xn(e)?e:String(e)}function Zn(t){var e,r,n,i=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);i--;){if(r&&null!=(e=t[r]))return e.call(t);if(n&&null!=(e=t[n]))return new Dn(e.call(t));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function Dn(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then((function(t){return{value:t,done:e}}))}return(Dn=function(t){this.s=t,this.n=t.next}).prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var r=this.s.return;return void 0===r?Promise.resolve({value:t,done:!0}):e(r.apply(this.s,arguments))},throw:function(t){var r=this.s.return;return void 0===r?Promise.reject(t):e(r.apply(this.s,arguments))}},new Dn(t)}(0,n.Z)(Tn,"componentName","Component"),(0,n.Z)(Tn,"defaultProps",{});var Ln=Object.freeze({});function zn(t){return(zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Un(n.key),n)}}function Un(t){var e=function(t,e){if("object"!==zn(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==zn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===zn(e)?e:String(e)}function Fn(){return(Fn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=Bn(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}}).apply(this,arguments)}function Bn(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Hn(t)););return t}function Vn(t,e){return(Vn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Gn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Hn(t);if(e){var i=Hn(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Yn(this,r)}}function Yn(t,e){if(e&&("object"===zn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Wn(t)}function Wn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hn(t){return(Hn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var qn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vn(t,e)}(r,t);var e=Gn(r);function r(t){var i,o=t.attributeManager,a=t.layer;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),i=e.call(this,a),(0,n.Z)(Wn(i),"attributeManager",void 0),(0,n.Z)(Wn(i),"needsRedraw",void 0),(0,n.Z)(Wn(i),"needsUpdate",void 0),(0,n.Z)(Wn(i),"subLayers",void 0),(0,n.Z)(Wn(i),"usesPickingColorCache",void 0),(0,n.Z)(Wn(i),"changeFlags",void 0),(0,n.Z)(Wn(i),"viewport",void 0),(0,n.Z)(Wn(i),"uniformTransitions",void 0),(0,n.Z)(Wn(i),"propsInTransition",void 0),i.attributeManager=o,i.needsRedraw=!0,i.needsUpdate=!0,i.subLayers=null,i.usesPickingColorCache=!1,i}return function(t,e,r){e&&Nn(t.prototype,e),r&&Nn(t,r),Object.defineProperty(t,"prototype",{writable:!1})}(r,[{key:"layer",get:function(){return this.component},set:function(t){this.component=t}},{key:"_fetch",value:function(t,e){var n=this.component.props.fetch;return n?n(e,{propName:t,layer:this.layer}):Fn(Hn(r.prototype),"_fetch",this).call(this,t,e)}},{key:"_onResolve",value:function(t,e){var r=this.component.props.onDataLoad;"data"===t&&r&&r(e,{propName:t,layer:this.layer})}},{key:"_onError",value:function(t,e){this.layer.raiseError(e,"loading ".concat(t," of ").concat(this.layer))}}]),r}(function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(0,n.Z)(this,"component",void 0),(0,n.Z)(this,"onAsyncPropUpdated",void 0),(0,n.Z)(this,"asyncProps",void 0),(0,n.Z)(this,"oldProps",void 0),(0,n.Z)(this,"oldAsyncProps",void 0),this.component=e,this.asyncProps={},this.onAsyncPropUpdated=function(){},this.oldProps=null,this.oldAsyncProps=null}return function(t,e,r){e&&Mn(t.prototype,e),r&&Mn(t,r),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"finalize",value:function(){for(var t in this.asyncProps){var e=this.asyncProps[t];e&&e.type&&e.type.release&&e.type.release(e.resolvedValue,e.type,this.component)}}},{key:"getOldProps",value:function(){return this.oldAsyncProps||this.oldProps||Ln}},{key:"resetOldProps",value:function(){this.oldAsyncProps=null,this.oldProps=this.component.props}},{key:"hasAsyncProp",value:function(t){return t in this.asyncProps}},{key:"getAsyncProp",value:function(t){var e=this.asyncProps[t];return e&&e.resolvedValue}},{key:"isAsyncPropLoading",value:function(t){if(t){var e=this.asyncProps[t];return Boolean(e&&e.pendingLoadCount>0&&e.pendingLoadCount!==e.resolvedLoadCount)}for(var r in this.asyncProps)if(this.isAsyncPropLoading(r))return!0;return!1}},{key:"reloadAsyncProp",value:function(t,e){this._watchPromise(t,Promise.resolve(e))}},{key:"setAsyncProps",value:function(t){var e=t[De]||{},r=t[Ze]||t,n=t[Re]||{};for(var i in e){var o=e[i];this._createAsyncPropData(i,n[i]),this._updateAsyncProp(i,o),e[i]=this.getAsyncProp(i)}for(var a in r){var s=r[a];this._createAsyncPropData(a,n[a]),this._updateAsyncProp(a,s)}}},{key:"_fetch",value:function(t,e){return null}},{key:"_onResolve",value:function(t,e){}},{key:"_onError",value:function(t,e){}},{key:"_updateAsyncProp",value:function(t,e){this._didAsyncInputValueChange(t,e)&&("string"==typeof e&&(e=this._fetch(t,e)),e instanceof Promise?this._watchPromise(t,e):(0,M.D0)(e)?this._resolveAsyncIterable(t,e):this._setPropValue(t,e))}},{key:"_freezeAsyncOldProps",value:function(){if(!this.oldAsyncProps&&this.oldProps)for(var t in this.oldAsyncProps=Object.create(this.oldProps),this.asyncProps)Object.defineProperty(this.oldAsyncProps,t,{enumerable:!0,value:this.oldProps[t]})}},{key:"_didAsyncInputValueChange",value:function(t,e){var r=this.asyncProps[t];return e!==r.resolvedValue&&e!==r.lastValue&&(r.lastValue=e,!0)}},{key:"_setPropValue",value:function(t,e){this._freezeAsyncOldProps();var r=this.asyncProps[t];r&&(e=this._postProcessValue(r,e),r.resolvedValue=e,r.pendingLoadCount++,r.resolvedLoadCount=r.pendingLoadCount)}},{key:"_setAsyncPropValue",value:function(t,e,r){var n=this.asyncProps[t];n&&r>=n.resolvedLoadCount&&void 0!==e&&(this._freezeAsyncOldProps(),n.resolvedValue=e,n.resolvedLoadCount=r,this.onAsyncPropUpdated(t,e))}},{key:"_watchPromise",value:function(t,e){var r=this,n=this.asyncProps[t];if(n){n.pendingLoadCount++;var i=n.pendingLoadCount;e.then((function(e){e=r._postProcessValue(n,e),r._setAsyncPropValue(t,e,i),r._onResolve(t,e)})).catch((function(e){r._onError(t,e)}))}}},{key:"_resolveAsyncIterable",value:function(){var t=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){In(o,n,i,a,s,"next",t)}function s(t){In(o,n,i,a,s,"throw",t)}a(void 0)}))}}(Cn().mark((function t(e,r){var n,i,o,a,s,u,c,l,f,p,h;return Cn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("data"===e){t.next=3;break}return this._setPropValue(e,r),t.abrupt("return");case 3:if(n=this.asyncProps[e]){t.next=6;break}return t.abrupt("return");case 6:n.pendingLoadCount++,i=n.pendingLoadCount,o=[],a=0,s=!1,u=!1,t.prev=12,l=Zn(r);case 14:return t.next=16,l.next();case 16:if(!(s=!(f=t.sent).done)){t.next=26;break}p=f.value,h=this.component.props.dataTransform,o=h?h(p,o):o.concat(p),Object.defineProperty(o,"__diff",{enumerable:!1,value:[{startRow:a,endRow:o.length}]}),a=o.length,this._setAsyncPropValue(e,o,i);case 23:s=!1,t.next=14;break;case 26:t.next=32;break;case 28:t.prev=28,t.t0=t.catch(12),u=!0,c=t.t0;case 32:if(t.prev=32,t.prev=33,!s||null==l.return){t.next=37;break}return t.next=37,l.return();case 37:if(t.prev=37,!u){t.next=40;break}throw c;case 40:return t.finish(37);case 41:return t.finish(32);case 42:this._onResolve(e,o);case 43:case"end":return t.stop()}}),t,this,[[12,28,32,42],[33,,37,41]])})));return function(e,r){return t.apply(this,arguments)}}()},{key:"_postProcessValue",value:function(t,e){var r=t.type;return r&&(r.release&&r.release(t.resolvedValue,r,this.component),r.transform)?r.transform(e,r,this.component):e}},{key:"_createAsyncPropData",value:function(t,e){if(!this.asyncProps[t]){var r=this.component&&this.component.constructor._propTypes;this.asyncProps[t]={type:r&&r[t],lastValue:null,resolvedValue:e,pendingLoadCount:0,resolvedLoadCount:0}}}}]),t}()),Jn=r(36723);function $n(t){return($n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xn(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Qn(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function Kn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||Qn(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qn(t,e){if(t){if("string"==typeof t)return ti(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ti(t,e):void 0}}function ti(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ei(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ri(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fi(n.key),n)}}function ni(t,e){return(ni=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ii(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=si(t);if(e){var i=si(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return oi(this,r)}}function oi(t,e){if(e&&("object"===$n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ai(t)}function ai(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function si(t){return(si=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ui(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ci(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ui(Object(r),!0).forEach((function(e){li(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ui(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function li(t,e,r){return(e=fi(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fi(t){var e=function(t,e){if("object"!==$n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==$n(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===$n(e)?e:String(e)}var pi=Math.pow(2,24)-1,hi=Object.freeze([]),vi=(0,qe.Z)((function(t){var e=t.oldViewport,r=t.viewport;return e.equals(r)})),di=new Uint8ClampedArray(0),yi={data:{type:"data",value:hi,async:!0},dataComparator:{type:"function",value:null,compare:!1,optional:!0},_dataDiff:{type:"function",value:function(t){return t&&t.__diff},compare:!1,optional:!0},dataTransform:{type:"function",value:null,compare:!1,optional:!0},onDataLoad:{type:"function",value:null,compare:!1,optional:!0},onError:{type:"function",value:null,compare:!1,optional:!0},fetch:{type:"function",value:function(t,e){var r,n=e.propName,i=e.layer,o=e.loaders,a=e.loadOptions,s=e.signal,u=i.context.resourceManager;(a=a||i.getLoadOptions(),o=o||i.props.loaders,s)&&(a=ci(ci({},a),{},{fetch:ci(ci({},null===(r=a)||void 0===r?void 0:r.fetch),{},{signal:s})}));var c=u.contains(t);return c||a||(u.add({resourceId:t,data:(0,Jn.z)(t,o),persistent:!1}),c=!0),c?u.subscribe({resourceId:t,onChange:function(t){var e;return null===(e=i.internalState)||void 0===e?void 0:e.reloadAsyncProp(n,t)},consumerId:i.id,requestId:n}):(0,Jn.z)(t,o,a)},compare:!1},updateTriggers:{},visible:!0,pickable:!1,opacity:{type:"number",min:0,max:1,value:1},operation:i.k8.DRAW,onHover:{type:"function",value:null,compare:!1,optional:!0},onClick:{type:"function",value:null,compare:!1,optional:!0},onDragStart:{type:"function",value:null,compare:!1,optional:!0},onDrag:{type:"function",value:null,compare:!1,optional:!0},onDragEnd:{type:"function",value:null,compare:!1,optional:!0},coordinateSystem:i.Df.DEFAULT,coordinateOrigin:{type:"array",value:[0,0,0],compare:!0},modelMatrix:{type:"array",value:null,compare:!0,optional:!0},wrapLongitude:!1,positionFormat:"XYZ",colorFormat:"RGBA",parameters:{type:"object",value:{},optional:!0,compare:!0},transitions:null,extensions:[],loaders:{type:"array",value:[],optional:!0,compare:!0},getPolygonOffset:{type:"function",value:function(t){return[0,100*-t.layerIndex]},compare:!1},highlightedObjectIndex:null,autoHighlight:!1,highlightColor:{type:"accessor",value:[0,0,128,128]}},bi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ni(t,e)}(r,t);var e=ii(r);function r(){var t;ei(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o)),(0,n.Z)(ai(t),"internalState",null),(0,n.Z)(ai(t),"lifecycle",Ie),(0,n.Z)(ai(t),"context",void 0),(0,n.Z)(ai(t),"state",void 0),(0,n.Z)(ai(t),"parent",null),t}return function(t,e,r){e&&ri(t.prototype,e),r&&ri(t,r),Object.defineProperty(t,"prototype",{writable:!1})}(r,[{key:"root",get:function(){for(var t=this;t.parent;)t=t.parent;return t}},{key:"toString",value:function(){var t=this.constructor.layerName||this.constructor.name;return"".concat(t,"({id: '").concat(this.props.id,"'})")}},{key:"project",value:function(t){(0,I.Z)(this.internalState);var e=this.internalState.viewport||this.context.viewport,r=Br(t,{viewport:e,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem}),n=Kn((0,nr.aW)(r,e.pixelProjectionMatrix),3),i=n[0],o=n[1],a=n[2];return 2===t.length?[i,o]:[i,o,a]}},{key:"unproject",value:function(t){return(0,I.Z)(this.internalState),(this.internalState.viewport||this.context.viewport).unproject(t)}},{key:"projectPosition",value:function(t,e){return(0,I.Z)(this.internalState),Vr(t,ci({viewport:this.internalState.viewport||this.context.viewport,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem},e))}},{key:"isComposite",get:function(){return!1}},{key:"setState",value:function(t){this.setChangeFlags({stateChanged:!0}),Object.assign(this.state,t),this.setNeedsRedraw()}},{key:"setNeedsRedraw",value:function(){this.internalState&&(this.internalState.needsRedraw=!0)}},{key:"setNeedsUpdate",value:function(){this.internalState&&(this.context.layerManager.setNeedsUpdate(String(this)),this.internalState.needsUpdate=!0)}},{key:"isLoaded",get:function(){return!!this.internalState&&!this.internalState.isAsyncPropLoading()}},{key:"wrapLongitude",get:function(){return this.props.wrapLongitude}},{key:"isPickable",value:function(){return this.props.pickable&&this.props.visible}},{key:"getModels",value:function(){return this.state&&(this.state.models||this.state.model&&[this.state.model])||[]}},{key:"setModuleParameters",value:function(t){var e,r=Xn(this.getModels());try{for(r.s();!(e=r.n()).done;){e.value.updateModuleSettings(t)}}catch(t){r.e(t)}finally{r.f()}}},{key:"getAttributeManager",value:function(){return this.internalState&&this.internalState.attributeManager}},{key:"getCurrentLayer",value:function(){return this.internalState&&this.internalState.layer}},{key:"getLoadOptions",value:function(){return this.props.loadOptions}},{key:"use64bitPositions",value:function(){var t=this.props.coordinateSystem;return t===i.Df.DEFAULT||t===i.Df.LNGLAT||t===i.Df.CARTESIAN}},{key:"onHover",value:function(t,e){return this.props.onHover&&this.props.onHover(t,e)||!1}},{key:"onClick",value:function(t,e){return this.props.onClick&&this.props.onClick(t,e)||!1}},{key:"nullPickingColor",value:function(){return[0,0,0]}},{key:"encodePickingColor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e[0]=t+1&255,e[1]=t+1>>8&255,e[2]=t+1>>8>>8&255,e}},{key:"decodePickingColor",value:function(t){(0,I.Z)(t instanceof Uint8Array);var e=Kn(t,3);return e[0]+256*e[1]+65536*e[2]-1}},{key:"getNumInstances",value:function(){return Number.isFinite(this.props.numInstances)?this.props.numInstances:this.state&&void 0!==this.state.numInstances?this.state.numInstances:We(this.props.data)}},{key:"getStartIndices",value:function(){return this.props.startIndices?this.props.startIndices:this.state&&this.state.startIndices?this.state.startIndices:null}},{key:"getBounds",value:function(){var t,e=this.getAttributeManager();if(!e)return null;var r=e.attributes,n=r.positions,i=r.instancePositions;return null===(t=n||i)||void 0===t?void 0:t.getBounds()}},{key:"getShaders",value:function(t){var e,r=Xn(this.props.extensions);try{for(r.s();!(e=r.n()).done;){var n=e.value;t=Qe(t,n.getShaders.call(this,n))}}catch(t){r.e(t)}finally{r.f()}return t}},{key:"shouldUpdateState",value:function(t){return t.changeFlags.propsOrDataChanged}},{key:"updateState",value:function(t){var e=this.getAttributeManager(),r=t.changeFlags.dataChanged;if(r&&e)if(Array.isArray(r)){var n,i=Xn(r);try{for(i.s();!(n=i.n()).done;){var o=n.value;e.invalidateAll(o)}}catch(t){i.e(t)}finally{i.f()}}else e.invalidateAll();var a=t.props,s=t.oldProps,u=Number.isInteger(s.highlightedObjectIndex)||s.pickable,c=Number.isInteger(a.highlightedObjectIndex)||a.pickable;if(u!==c&&e){var l=e.attributes,f=l.pickingColors,p=l.instancePickingColors,h=f||p;h&&(c&&h.constant&&(h.constant=!1,e.invalidate(h.id)),h.value||c||(h.constant=!0,h.value=[0,0,0]))}}},{key:"finalizeState",value:function(t){var e,r=Xn(this.getModels());try{for(r.s();!(e=r.n()).done;){e.value.delete()}}catch(t){r.e(t)}finally{r.f()}var n=this.getAttributeManager();n&&n.finalize(),this.context&&this.context.resourceManager.unsubscribe({consumerId:this.id}),this.internalState&&(this.internalState.uniformTransitions.clear(),this.internalState.finalize())}},{key:"draw",value:function(t){var e,r=Xn(this.getModels());try{for(r.s();!(e=r.n()).done;){e.value.draw(t)}}catch(t){r.e(t)}finally{r.f()}}},{key:"getPickingInfo",value:function(t){var e=t.info,r=(t.mode,t.sourceLayer,e.index);return r>=0&&Array.isArray(this.props.data)&&(e.object=this.props.data[r]),e}},{key:"raiseError",value:function(t,e){var r,n,i,o;(e&&(t.message="".concat(e,": ").concat(t.message)),null!==(r=(n=this.props).onError)&&void 0!==r&&r.call(n,t))||(null===(i=this.context)||void 0===i||null===(o=i.onError)||void 0===o||o.call(i,t,this))}},{key:"getNeedsRedraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1};return this._getNeedsRedraw(t)}},{key:"needsUpdate",value:function(){return!!this.internalState&&(this.internalState.needsUpdate||this.hasUniformTransition()||this.shouldUpdateState(this._getUpdateParams()))}},{key:"hasUniformTransition",value:function(){var t;return(null===(t=this.internalState)||void 0===t?void 0:t.uniformTransitions.active)||!1}},{key:"activateViewport",value:function(t){if(this.internalState){var e=this.internalState.viewport;this.internalState.viewport=t,e&&vi({oldViewport:e,viewport:t})||(this.setChangeFlags({viewportChanged:!0}),this.isComposite?this.needsUpdate()&&this.setNeedsUpdate():this._update())}}},{key:"invalidateAttribute",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",e=this.getAttributeManager();e&&("all"===t?e.invalidateAll():e.invalidate(t))}},{key:"updateAttributes",value:function(t){var e,r=Xn(this.getModels());try{for(r.s();!(e=r.n()).done;){var n=e.value;this._setModelAttributes(n,t)}}catch(t){r.e(t)}finally{r.f()}}},{key:"_updateAttributes",value:function(){var t=this.getAttributeManager();if(t){var e=this.props,r=this.getNumInstances(),n=this.getStartIndices();t.update({data:e.data,numInstances:r,startIndices:n,props:e,transitions:e.transitions,buffers:e.data.attributes,context:this});var i=t.getChangedAttributes({clearChangedFlags:!0});this.updateAttributes(i)}}},{key:"_updateAttributeTransition",value:function(){var t=this.getAttributeManager();t&&t.updateTransition()}},{key:"_updateUniformTransition",value:function(){var t=this.internalState.uniformTransitions;if(t.active){var e=t.update(),r=Object.create(this.props);for(var n in e)Object.defineProperty(r,n,{value:e[n]});return r}return this.props}},{key:"calculateInstancePickingColors",value:function(t,e){var r=e.numInstances;if(!t.constant){var n=Math.floor(di.length/3);if(this.internalState.usesPickingColorCache=!0,n<r){r>pi&&O.Z.warn("Layer has too many data objects. Picking might not be able to distinguish all objects.")(),di=d.Z.allocate(di,r,{size:3,copy:!0,maxCount:Math.max(r,pi)});for(var i=Math.floor(di.length/3),o=[],a=n;a<i;a++)this.encodePickingColor(a,o),di[3*a+0]=o[0],di[3*a+1]=o[1],di[3*a+2]=o[2]}t.value=di.subarray(0,3*r)}}},{key:"_setModelAttributes",value:function(t,e){var r=this.getAttributeManager(),n=t.userData.excludeAttributes||{},i=r.getShaderAttributes(e,n);t.setAttributes(i)}},{key:"disablePickingIndex",value:function(t){this._disablePickingIndex(t)}},{key:"_disablePickingIndex",value:function(t){var e=this.getAttributeManager().attributes,r=e.pickingColors,n=e.instancePickingColors,i=r||n;if(i){var o=i.getVertexOffset(t),a=i.getVertexOffset(t+1);i.buffer.subData({data:new Uint8Array(a-o),offset:o})}}},{key:"restorePickingColors",value:function(){var t=this.getAttributeManager().attributes,e=t.pickingColors,r=t.instancePickingColors,n=e||r;n&&(this.internalState.usesPickingColorCache&&n.value.buffer!==di.buffer&&(n.value=di.subarray(0,n.value.length)),n.updateSubBuffer({startOffset:0}))}},{key:"_initialize",value:function(){(0,I.Z)(!this.internalState),(0,I.Z)(Number.isFinite(this.props.coordinateSystem)),(0,ft.Z)("layer.initialize",this);var t=this._getAttributeManager();t&&t.addInstanced({instancePickingColors:{type:5121,size:3,noAlloc:!0,update:this.calculateInstancePickingColors}}),this.internalState=new qn({attributeManager:t,layer:this}),this._clearChangeFlags(),this.state={},Object.defineProperty(this.state,"attributeManager",{get:function(){return O.Z.deprecated("layer.state.attributeManager","layer.getAttributeManager()")(),t}}),this.internalState.layer=this,this.internalState.uniformTransitions=new Ce(this.context.timeline),this.internalState.onAsyncPropUpdated=this._onAsyncPropUpdated.bind(this),this.internalState.setAsyncProps(this.props),this.initializeState(this.context);var e,r=Xn(this.props.extensions);try{for(r.s();!(e=r.n()).done;){var n=e.value;n.initializeState.call(this,this.context,n)}}catch(t){r.e(t)}finally{r.f()}this.setChangeFlags({dataChanged:"init",propsChanged:"init",viewportChanged:!0,extensionsChanged:!0}),this._update()}},{key:"_transferState",value:function(t){(0,ft.Z)("layer.matched",this,this===t);var e=t.state,r=t.internalState;this!==t&&(this.internalState=r,this.internalState.layer=this,this.state=e,this.internalState.setAsyncProps(this.props),this._diffProps(this.props,this.internalState.getOldProps()))}},{key:"_update",value:function(){var t=this.needsUpdate();if((0,ft.Z)("layer.update",this,t),t){var e=this.props,r=this.context,n=this.internalState,i=r.viewport,o=this._updateUniformTransition();n.propsInTransition=o,r.viewport=n.viewport||i,this.props=o;try{var a=this._getUpdateParams(),s=this.getModels();if(r.gl)this.updateState(a);else try{this.updateState(a)}catch(t){}var u,c=Xn(this.props.extensions);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.updateState.call(this,a,l)}}catch(t){c.e(t)}finally{c.f()}var f=this.getModels()[0]!==s[0];this._postUpdate(a,f)}finally{r.viewport=i,this.props=e,this._clearChangeFlags(),n.needsUpdate=!1,n.resetOldProps()}}}},{key:"_finalize",value:function(){(0,ft.Z)("layer.finalize",this),this.finalizeState(this.context);var t,e=Xn(this.props.extensions);try{for(e.s();!(t=e.n()).done;){var r=t.value;r.finalizeState.call(this,r)}}catch(t){e.e(t)}finally{e.f()}}},{key:"_drawLayer",value:function(t){var e=this,r=t.moduleParameters,n=void 0===r?null:r,i=t.uniforms,o=void 0===i?{}:i,a=t.parameters,s=void 0===a?{}:a;this._updateAttributeTransition();var u=this.props,c=this.context;this.props=this.internalState.propsInTransition||u;var l=this.props.opacity;o.opacity=Math.pow(l,1/2.2);try{n&&this.setModuleParameters(n);var f=this.props.getPolygonOffset,p=f&&f(o)||[0,0];(0,He.dR)(c.gl,{polygonOffset:p}),(0,He.s8)(c.gl,s,(function(){var t,r={moduleParameters:n,uniforms:o,parameters:s,context:c},i=Xn(e.props.extensions);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.draw.call(e,r,a)}}catch(t){i.e(t)}finally{i.f()}e.draw(r)}))}finally{this.props=u}}},{key:"getChangeFlags",value:function(){var t;return null===(t=this.internalState)||void 0===t?void 0:t.changeFlags}},{key:"setChangeFlags",value:function(t){if(this.internalState){var e=this.internalState.changeFlags;for(var r in t)if(t[r]){var n=!1;switch(r){case"dataChanged":var i=t[r],o=e[r];i&&Array.isArray(o)&&(e.dataChanged=Array.isArray(i)?o.concat(i):i,n=!0);default:e[r]||(e[r]=t[r],n=!0)}n&&(0,ft.Z)("layer.changeFlag",this,r,t)}var a=Boolean(e.dataChanged||e.updateTriggersChanged||e.propsChanged||e.extensionsChanged);e.propsOrDataChanged=a,e.somethingChanged=a||e.viewportChanged||e.stateChanged}}},{key:"_clearChangeFlags",value:function(){this.internalState.changeFlags={dataChanged:!1,propsChanged:!1,updateTriggersChanged:!1,viewportChanged:!1,stateChanged:!1,extensionsChanged:!1,propsOrDataChanged:!1,somethingChanged:!1}}},{key:"_diffProps",value:function(t,e){var r=ze(t,e);if(r.updateTriggersChanged)for(var n in r.updateTriggersChanged)r.updateTriggersChanged[n]&&this.invalidateAttribute(n);if(r.transitionsChanged)for(var i in r.transitionsChanged){var o;this.internalState.uniformTransitions.add(i,e[i],t[i],null===(o=t.transitions)||void 0===o?void 0:o[i])}return this.setChangeFlags(r)}},{key:"validateProps",value:function(){!function(t){var e=Ge(t);for(var r in e){var n=e[r],i=n.validate;if(i&&!i(t[r],n))throw new Error("Invalid prop ".concat(r,": ").concat(t[r]))}}(this.props)}},{key:"updateAutoHighlight",value:function(t){this.props.autoHighlight&&!Number.isInteger(this.props.highlightedObjectIndex)&&this._updateAutoHighlight(t)}},{key:"_updateAutoHighlight",value:function(t){var e={pickingSelectedColor:t.picked?t.color:null},r=this.props.highlightColor;t.picked&&"function"==typeof r&&(e.pickingHighlightColor=r(t)),this.setModuleParameters(e),this.setNeedsRedraw()}},{key:"_getAttributeManager",value:function(){var t=this.context;return new Qt(t.gl,{id:this.props.id,stats:t.stats,timeline:t.timeline})}},{key:"_postUpdate",value:function(t,e){var r=t.props,n=t.oldProps;this.setNeedsRedraw(),this._updateAttributes();var i=this.state.model;null==i||i.setInstanceCount(this.getNumInstances());var o=r.autoHighlight,a=r.highlightedObjectIndex,s=r.highlightColor;if(e||n.autoHighlight!==o||n.highlightedObjectIndex!==a||n.highlightColor!==s){var u={};o||(u.pickingSelectedColor=null),Array.isArray(s)&&(u.pickingHighlightColor=s),Number.isInteger(a)&&(u.pickingSelectedColor=Number.isFinite(a)&&a>=0?this.encodePickingColor(a):null),this.setModuleParameters(u)}}},{key:"_getUpdateParams",value:function(){return{props:this.props,oldProps:this.internalState.getOldProps(),context:this.context,changeFlags:this.internalState.changeFlags}}},{key:"_getNeedsRedraw",value:function(t){if(!this.internalState)return!1;var e=!1;e=e||this.internalState.needsRedraw&&this.id,this.internalState.needsRedraw=this.internalState.needsRedraw&&!t.clearRedrawFlags;var r=this.getAttributeManager(),n=!!r&&r.getNeedsRedraw(t);return e=e||n}},{key:"_onAsyncPropUpdated",value:function(){this._diffProps(this.props,this.internalState.getOldProps()),this.setNeedsUpdate()}}]),r}(Tn);(0,n.Z)(bi,"defaultProps",yi),(0,n.Z)(bi,"layerName","Layer")},37260:function(t,e,r){r.d(e,{Z:function(){return s}});var n={pickingSelectedColor:null,pickingHighlightColor:new Uint8Array([0,255,255,255]),pickingActive:!1,pickingAttribute:!1};function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function a(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===i(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){a(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({inject:{"vs:DECKGL_FILTER_GL_POSITION":"\n    // for picking depth values\n    picking_setPickingAttribute(position.z / position.w);\n  ","vs:DECKGL_FILTER_COLOR":"\n  picking_setPickingColor(geometry.pickingColor);\n  ","fs:DECKGL_FILTER_COLOR":{order:99,injection:"\n  // use highlight color if this fragment belongs to the selected object.\n  color = picking_filterHighlightColor(color);\n\n  // use picking color if rendering to picking FBO.\n  color = picking_filterPickingColor(color);\n    "}}},{name:"picking",vs:"uniform bool picking_uActive;\nuniform bool picking_uAttribute;\nuniform vec3 picking_uSelectedColor;\nuniform bool picking_uSelectedColorValid;\n\nout vec4 picking_vRGBcolor_Avalid;\n\nconst float COLOR_SCALE = 1. / 255.;\n\nbool picking_isColorValid(vec3 color) {\n  return dot(color, vec3(1.0)) > 0.001;\n}\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    picking_uSelectedColorValid &&\n    !picking_isColorValid(abs(vertexColor - picking_uSelectedColor));\n}\n\nvoid picking_setPickingColor(vec3 pickingColor) {\n  if (picking_uActive) {\n    picking_vRGBcolor_Avalid.a = float(picking_isColorValid(pickingColor));\n\n    if (!picking_uAttribute) {\n      picking_vRGBcolor_Avalid.rgb = pickingColor * COLOR_SCALE;\n    }\n  } else {\n    picking_vRGBcolor_Avalid.a = float(isVertexPicked(pickingColor));\n  }\n}\n\nvoid picking_setPickingAttribute(float value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.r = value;\n  }\n}\nvoid picking_setPickingAttribute(vec2 value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.rg = value;\n  }\n}\nvoid picking_setPickingAttribute(vec3 value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.rgb = value;\n  }\n}\n",fs:"uniform bool picking_uActive;\nuniform vec3 picking_uSelectedColor;\nuniform vec4 picking_uHighlightColor;\n\nin vec4 picking_vRGBcolor_Avalid;\nvec4 picking_filterHighlightColor(vec4 color) {\n  if (picking_uActive) {\n    return color;\n  }\n  bool selected = bool(picking_vRGBcolor_Avalid.a);\n\n  if (selected) {\n    float highLightAlpha = picking_uHighlightColor.a;\n    float blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);\n    float highLightRatio = highLightAlpha / blendedAlpha;\n\n    vec3 blendedRGB = mix(color.rgb, picking_uHighlightColor.rgb, highLightRatio);\n    return vec4(blendedRGB, blendedAlpha);\n  } else {\n    return color;\n  }\n}\nvec4 picking_filterPickingColor(vec4 color) {\n  if (picking_uActive) {\n    if (picking_vRGBcolor_Avalid.a == 0.0) {\n      discard;\n    }\n    return picking_vRGBcolor_Avalid;\n  }\n  return color;\n}\nvec4 picking_filterColor(vec4 color) {\n  vec4 highightColor = picking_filterHighlightColor(color);\n  return picking_filterPickingColor(highightColor);\n}\n\n",getUniforms:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,e={};if(void 0!==t.pickingSelectedColor)if(t.pickingSelectedColor){var r=t.pickingSelectedColor.slice(0,3);e.picking_uSelectedColorValid=1,e.picking_uSelectedColor=r}else e.picking_uSelectedColorValid=0;if(t.pickingHighlightColor){var i=Array.from(t.pickingHighlightColor,(function(t){return t/255}));Number.isFinite(i[3])||(i[3]=1),e.picking_uHighlightColor=i}return void 0!==t.pickingActive&&(e.picking_uActive=Boolean(t.pickingActive),e.picking_uAttribute=Boolean(t.pickingAttribute)),e}})},74786:function(t,e,r){r.d(e,{C:function(){return v},v:function(){return h}});var n=r(97575),i=r(32779),o=r(60117),a=r(34757),s=[0,0,0,0],u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],l=[0,0,0],f=[0,0,0],p=(0,a.Z)((function(t){var e=t.viewport,r=t.devicePixelRatio,a=t.coordinateSystem,f=t.coordinateOrigin,p=function(t,e,r){var o=t.viewMatrixUncentered,a=t.projectionMatrix,c=t.viewMatrix,l=t.viewProjectionMatrix,f=s,p=s,v=t.cameraPosition,d=h(t,e,r),y=d.geospatialOrigin,b=d.shaderCoordinateOrigin;d.offsetMode&&(p=t.projectPosition(y||b),v=[v[0]-p[0],v[1]-p[1],v[2]-p[2]],p[3]=1,f=i.fF([],p,l),c=o||c,l=n.Jp([],a,c),l=n.Jp([],l,u));return{viewMatrix:c,viewProjectionMatrix:l,projectionCenter:f,originCommon:p,cameraPosCommon:v,shaderCoordinateOrigin:b,geospatialOrigin:y}}(e,a,f),v=p.projectionCenter,d=p.viewProjectionMatrix,y=p.originCommon,b=p.cameraPosCommon,g=p.shaderCoordinateOrigin,m=p.geospatialOrigin,w=e.getDistanceScales(),j=[e.width*r,e.height*r],O=i.fF([],[0,0,-e.focalDistance,1],e.projectionMatrix)[3]||1,P={project_uCoordinateSystem:a,project_uProjectionMode:e.projectionMode,project_uCoordinateOrigin:g,project_uCommonOrigin:y.slice(0,3),project_uCenter:v,project_uPseudoMeters:Boolean(e._pseudoMeters),project_uViewportSize:j,project_uDevicePixelRatio:r,project_uFocalDistance:O,project_uCommonUnitsPerMeter:w.unitsPerMeter,project_uCommonUnitsPerWorldUnit:w.unitsPerMeter,project_uCommonUnitsPerWorldUnit2:l,project_uScale:e.scale,project_uWrapLongitude:!1,project_uViewProjectionMatrix:d,project_uModelMatrix:c,project_uCameraPosition:b};if(m){var S=e.getDistanceScales(m);switch(a){case o.Df.METER_OFFSETS:P.project_uCommonUnitsPerWorldUnit=S.unitsPerMeter,P.project_uCommonUnitsPerWorldUnit2=S.unitsPerMeter2;break;case o.Df.LNGLAT:case o.Df.LNGLAT_OFFSETS:e._pseudoMeters||(P.project_uCommonUnitsPerMeter=S.unitsPerMeter),P.project_uCommonUnitsPerWorldUnit=S.unitsPerDegree,P.project_uCommonUnitsPerWorldUnit2=S.unitsPerDegree2;break;case o.Df.CARTESIAN:P.project_uCommonUnitsPerWorldUnit=[1,1,S.unitsPerMeter[2]],P.project_uCommonUnitsPerWorldUnit2=[0,0,S.unitsPerMeter2[2]]}}return P}));function h(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f;r.length<3&&(r=[r[0],r[1],0]);var n,i=r,a=!0;switch(n=e===o.Df.LNGLAT_OFFSETS||e===o.Df.METER_OFFSETS?r:t.isGeospatial?[Math.fround(t.longitude),Math.fround(t.latitude),0]:null,t.projectionMode){case o.zG.WEB_MERCATOR:e!==o.Df.LNGLAT&&e!==o.Df.CARTESIAN||(n=[0,0,0],a=!1);break;case o.zG.WEB_MERCATOR_AUTO_OFFSET:e===o.Df.LNGLAT?i=n:e===o.Df.CARTESIAN&&(i=[Math.fround(t.center[0]),Math.fround(t.center[1]),0],n=t.unprojectPosition(i),i[0]-=r[0],i[1]-=r[1],i[2]-=r[2]);break;case o.zG.IDENTITY:(i=t.position.map(Math.fround))[2]=i[2]||0;break;case o.zG.GLOBE:a=!1,n=null;break;default:a=!1}return{geospatialOrigin:n,shaderCoordinateOrigin:i,offsetMode:a}}function v(t){var e=t.viewport,r=t.devicePixelRatio,n=void 0===r?1:r,i=t.modelMatrix,a=void 0===i?null:i,s=t.coordinateSystem,u=void 0===s?o.Df.DEFAULT:s,l=t.coordinateOrigin,h=void 0===l?f:l,v=t.autoWrapLongitude,d=void 0!==v&&v;u===o.Df.DEFAULT&&(u=e.isGeospatial?o.Df.LNGLAT:o.Df.CARTESIAN);var y=p({viewport:e,devicePixelRatio:n,coordinateSystem:u,coordinateOrigin:h});return y.project_uWrapLongitude=d,y.project_uModelMatrix=a||c,y}},88551:function(t,e,r){r.d(e,{Z:function(){return h}});var n=r(63521),i="#define SMOOTH_EDGE_RADIUS 0.5",o={name:"geometry",vs:"\n".concat(i,"\n\nstruct VertexGeometry {\n  vec4 position;\n  vec3 worldPosition;\n  vec3 worldPositionAlt;\n  vec3 normal;\n  vec2 uv;\n  vec3 pickingColor;\n} geometry = VertexGeometry(\n  vec4(0.0, 0.0, 1.0, 0.0),\n  vec3(0.0),\n  vec3(0.0),\n  vec3(0.0),\n  vec2(0.0),\n  vec3(0.0)\n);\n"),fs:"\n".concat(i,"\n\nstruct FragmentGeometry {\n  vec2 uv;\n} geometry;\n\nfloat smoothedge(float edge, float x) {\n  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);\n}\n")},a=r(60117),s=Object.keys(a.Df).map((function(t){return"const int COORDINATE_SYSTEM_".concat(t," = ").concat(a.Df[t],";")})).join(""),u=Object.keys(a.zG).map((function(t){return"const int PROJECTION_MODE_".concat(t," = ").concat(a.zG[t],";")})).join(""),c=Object.keys(a.iI).map((function(t){return"const int UNIT_".concat(t.toUpperCase()," = ").concat(a.iI[t],";")})).join(""),l="".concat(s,"\n").concat(u,"\n").concat(c,'\n\nuniform int project_uCoordinateSystem;\nuniform int project_uProjectionMode;\nuniform float project_uScale;\nuniform bool project_uWrapLongitude;\nuniform vec3 project_uCommonUnitsPerMeter;\nuniform vec3 project_uCommonUnitsPerWorldUnit;\nuniform vec3 project_uCommonUnitsPerWorldUnit2;\nuniform vec4 project_uCenter;\nuniform mat4 project_uModelMatrix;\nuniform mat4 project_uViewProjectionMatrix;\nuniform vec2 project_uViewportSize;\nuniform float project_uDevicePixelRatio;\nuniform float project_uFocalDistance;\nuniform vec3 project_uCameraPosition;\nuniform vec3 project_uCoordinateOrigin;\nuniform vec3 project_uCommonOrigin;\nuniform bool project_uPseudoMeters;\n\nconst float TILE_SIZE = 512.0;\nconst float PI = 3.1415926536;\nconst float WORLD_SCALE = TILE_SIZE / (PI * 2.0);\nconst vec3 ZERO_64_LOW = vec3(0.0);\nconst float EARTH_RADIUS = 6370972.0; // meters\nconst float GLOBE_RADIUS = 256.0;\n\n// returns an adjustment factor for uCommonUnitsPerMeter\nfloat project_size() {\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR &&\n    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT &&\n    project_uPseudoMeters == false) {\n\n    // uCommonUnitsPerMeter in low-zoom Web Mercator is non-linear\n    // Adjust by 1 / cos(latitude)\n    // If geometry.position (vertex in common space) is populated, use it\n    // Otherwise use geometry.worldPosition (anchor in world space)\n    \n    if (geometry.position.w == 0.0) {\n      float y = clamp(geometry.worldPosition.y, -89.9, 89.9);\n      return 1.0 / cos(radians(y));\n    }\n\n    // latitude from common y: 2.0 * (atan(exp(y / TILE_SIZE * 2.0 * PI - PI)) - PI / 4.0)\n    // Taylor series of 1 / cos(latitude)\n    // Max error < 0.003\n  \n    float y = geometry.position.y / TILE_SIZE * 2.0 - 1.0;\n    float y2 = y * y;\n    float y4 = y2 * y2;\n    float y6 = y4 * y2;\n    return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;\n  }\n  return 1.0;\n}\n//\n// Scaling offsets - scales meters to "world distance"\n// Note the scalar version of project_size is for scaling the z component only\n//\nfloat project_size(float meters) {\n  return meters * project_uCommonUnitsPerMeter.z * project_size();\n}\n\nvec2 project_size(vec2 meters) {\n  return meters * project_uCommonUnitsPerMeter.xy * project_size();\n}\n\nvec3 project_size(vec3 meters) {\n  return meters * project_uCommonUnitsPerMeter * project_size();\n}\n\nvec4 project_size(vec4 meters) {\n  return vec4(meters.xyz * project_uCommonUnitsPerMeter, meters.w);\n}\n\n// Get rotation matrix that aligns the z axis with the given up vector\n// Find 3 unit vectors ux, uy, uz that are perpendicular to each other and uz == up\nmat3 project_get_orientation_matrix(vec3 up) {\n  vec3 uz = normalize(up);\n  // Tangent on XY plane\n  vec3 ux = abs(uz.z) == 1.0 ? vec3(1.0, 0.0, 0.0) : normalize(vec3(uz.y, -uz.x, 0));\n  vec3 uy = cross(uz, ux);\n  return mat3(ux, uy, uz);\n}\n\nbool project_needs_rotation(vec3 commonPosition, out mat3 transform) {\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\n    transform = project_get_orientation_matrix(commonPosition);\n    return true;\n  }\n  return false;\n}\n\n//\n// Projecting normal - transform deltas from current coordinate system to\n// normals in the worldspace\n//\nvec3 project_normal(vec3 vector) {\n  // Apply model matrix\n  vec4 normal_modelspace = project_uModelMatrix * vec4(vector, 0.0);\n  vec3 n = normalize(normal_modelspace.xyz * project_uCommonUnitsPerMeter);\n  mat3 rotation;\n  if (project_needs_rotation(geometry.position.xyz, rotation)) {\n    n = rotation * n;\n  }\n  return n;\n}\n\nvec4 project_offset_(vec4 offset) {\n  float dy = offset.y;\n  vec3 commonUnitsPerWorldUnit = project_uCommonUnitsPerWorldUnit + project_uCommonUnitsPerWorldUnit2 * dy;\n  return vec4(offset.xyz * commonUnitsPerWorldUnit, offset.w);\n}\n\n//\n// Projecting positions - non-linear projection: lnglats => unit tile [0-1, 0-1]\n//\nvec2 project_mercator_(vec2 lnglat) {\n  float x = lnglat.x;\n  if (project_uWrapLongitude) {\n    x = mod(x + 180., 360.0) - 180.;\n  }\n  float y = clamp(lnglat.y, -89.9, 89.9);\n  return vec2(\n    radians(x) + PI,\n    PI + log(tan_fp32(PI * 0.25 + radians(y) * 0.5))\n  ) * WORLD_SCALE;\n}\n\nvec3 project_globe_(vec3 lnglatz) {\n  float lambda = radians(lnglatz.x);\n  float phi = radians(lnglatz.y);\n  float cosPhi = cos(phi);\n  float D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;\n\n  return vec3(\n    sin(lambda) * cosPhi,\n    -cos(lambda) * cosPhi,\n    sin(phi)\n  ) * D;\n}\n\n//\n// Projects positions (defined by project_uCoordinateSystem) to common space (defined by project_uProjectionMode)\n//\nvec4 project_position(vec4 position, vec3 position64Low) {\n  vec4 position_world = project_uModelMatrix * position;\n\n  // Work around for a Mac+NVIDIA bug https://github.com/visgl/deck.gl/issues/4145\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      return vec4(\n        project_mercator_(position_world.xy),\n        project_size(position_world.z),\n        position_world.w\n      );\n    }\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {\n      position_world.xyz += project_uCoordinateOrigin;\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      return vec4(\n        project_globe_(position_world.xyz),\n        position_world.w\n      );\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      if (abs(position_world.y - project_uCoordinateOrigin.y) > 0.25) {\n        // Too far from the projection center for offset mode to be accurate\n        // Only use high parts\n        return vec4(\n          project_mercator_(position_world.xy) - project_uCommonOrigin.xy,\n          project_size(position_world.z),\n          position_world.w\n        );\n      }\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_IDENTITY ||\n    (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&\n    (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n     project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {\n    // Subtract high part of 64 bit value. Convert remainder to float32, preserving precision.\n    position_world.xyz -= project_uCoordinateOrigin;\n  }\n\n  // Translation is already added to the high parts\n  return project_offset_(position_world + project_uModelMatrix * vec4(position64Low, 0.0));\n}\n\nvec4 project_position(vec4 position) {\n  return project_position(position, ZERO_64_LOW);\n}\n\nvec3 project_position(vec3 position, vec3 position64Low) {\n  vec4 projected_position = project_position(vec4(position, 1.0), position64Low);\n  return projected_position.xyz;\n}\n\nvec3 project_position(vec3 position) {\n  vec4 projected_position = project_position(vec4(position, 1.0), ZERO_64_LOW);\n  return projected_position.xyz;\n}\n\nvec2 project_position(vec2 position) {\n  vec4 projected_position = project_position(vec4(position, 0.0, 1.0), ZERO_64_LOW);\n  return projected_position.xy;\n}\n\nvec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {\n  return viewProjectionMatrix * position + center;\n}\n\n//\n// Projects from common space coordinates to clip space.\n// Uses project_uViewProjectionMatrix\n//\nvec4 project_common_position_to_clipspace(vec4 position) {\n  return project_common_position_to_clipspace(position, project_uViewProjectionMatrix, project_uCenter);\n}\n\n// Returns a clip space offset that corresponds to a given number of screen pixels\nvec2 project_pixel_size_to_clipspace(vec2 pixels) {\n  vec2 offset = pixels / project_uViewportSize * project_uDevicePixelRatio * 2.0;\n  return offset * project_uFocalDistance;\n}\n\nfloat project_size_to_pixel(float meters) {\n  return project_size(meters) * project_uScale;\n}\nfloat project_size_to_pixel(float size, int unit) {\n  if (unit == UNIT_METERS) return project_size_to_pixel(size);\n  if (unit == UNIT_COMMON) return size * project_uScale;\n  // UNIT_PIXELS\n  return size;\n}\nfloat project_pixel_size(float pixels) {\n  return pixels / project_uScale;\n}\nvec2 project_pixel_size(vec2 pixels) {\n  return pixels / project_uScale;\n}\n'),f=r(74786),p={};var h={name:"project32",dependencies:[{name:"project",dependencies:[n.O,o],vs:l,getUniforms:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return"viewport"in t?(0,f.C)(t):{}}}],vs:"\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset, out vec4 commonPosition\n) {\n  vec3 projectedPosition = project_position(position, position64Low);\n  mat3 rotation;\n  if (project_needs_rotation(projectedPosition, rotation)) {\n    // offset is specified as ENU\n    // when in globe projection, rotate offset so that the ground alighs with the surface of the globe\n    offset = rotation * offset;\n  }\n  commonPosition = vec4(projectedPosition + offset, 1.0);\n  return project_common_position_to_clipspace(commonPosition);\n}\n\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset\n) {\n  vec4 commonPosition;\n  return project_position_to_clipspace(position, position64Low, offset, commonPosition);\n}\n"}},66742:function(t,e,r){function n(t,e){if(!t)throw new Error(e||"deck.gl: assertion failed.")}r.d(e,{Z:function(){return n}})},81069:function(t,e,r){function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};return Array.isArray(t)?i(t,e,[]):e(t)?[t]:[]}function i(t,e,r){for(var n=-1;++n<t.length;){var o=t[n];Array.isArray(o)?i(o,e,r):e(o)&&r.push(o)}return r}function o(t){for(var e=t.target,r=t.source,n=t.start,i=void 0===n?0:n,o=t.count,a=void 0===o?1:o,s=r.length,u=a*s,c=0,l=i;c<s;c++)e[l++]=r[c];for(;c<u;)c<u-c?(e.copyWithin(i+c,i,i+c),c*=2):(e.copyWithin(i+c,i,i+u-c),c=u);return e}r.d(e,{k:function(){return o},x:function(){return n}})},73867:function(t,e,r){r.d(e,{D0:function(){return a},jB:function(){return o},jr:function(){return s}});var n=[],i=[];function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,o=n,a={index:-1,data:t,target:[]};return t?"function"==typeof t[Symbol.iterator]?o=t:t.length>0&&(i.length=t.length,o=i):o=n,(e>0||Number.isFinite(r))&&(o=(Array.isArray(o)?o:Array.from(o)).slice(e,r),a.index=e-1),{iterable:o,objectInfo:a}}function a(t){return t&&t[Symbol.asyncIterator]}function s(t,e){var r=e.size,n=e.stride,i=e.offset,o=e.startIndices,a=e.nested,s=t.BYTES_PER_ELEMENT,u=n?n/s:r,c=i?i/s:0,l=Math.floor((t.length-c)/u);return function(e,n){var i=n.index,s=n.target;if(!o){for(var f=i*u+c,p=0;p<r;p++)s[p]=t[f+p];return s}var h,v=o[i],d=o[i+1]||l;if(a){h=new Array(d-v);for(var y=v;y<d;y++){var b=y*u+c;s=new Array(r);for(var g=0;g<r;g++)s[g]=t[b+g];h[y-v]=s}}else if(u===r)h=t.subarray(v*r+c,d*r+c);else{h=new t.constructor((d-v)*r);for(var m=0,w=v;w<d;w++)for(var j=w*u+c,O=0;O<r;O++)h[m++]=t[j+O]}return h}}},60629:function(t,e,r){var n=r(36580);e.Z=new n.Z({id:"deck"})},34757:function(t,e,r){function n(t,e){if(t===e)return!0;if(Array.isArray(t)){var r=t.length;if(!e||e.length!==r)return!1;for(var n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}return!1}function i(t){var e,r={};return function(i){for(var o in i)if(!n(i[o],r[o])){e=t(i),r=i;break}return e}}r.d(e,{Z:function(){return i}})},61300:function(t,e,r){r.d(e,{Z:function(){return h}});var n=r(99450),i=r(73867),o=r(14151),a=r(66742),s=r(21421);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,p(n.key),n)}}function p(t){var e=function(t,e){if("object"!==u(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===u(e)?e:String(e)}var h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(0,n.Z)(this,"opts",void 0),(0,n.Z)(this,"typedArrayManager",void 0),(0,n.Z)(this,"indexStarts",[0]),(0,n.Z)(this,"vertexStarts",[0]),(0,n.Z)(this,"vertexCount",0),(0,n.Z)(this,"instanceCount",0),(0,n.Z)(this,"attributes",void 0),(0,n.Z)(this,"_attributeDefs",void 0),(0,n.Z)(this,"data",void 0),(0,n.Z)(this,"getGeometry",void 0),(0,n.Z)(this,"geometryBuffer",void 0),(0,n.Z)(this,"buffers",void 0),(0,n.Z)(this,"positionSize",void 0),(0,n.Z)(this,"normalize",void 0);var r=e.attributes,i=void 0===r?{}:r;this.typedArrayManager=o.Z,this.attributes={},this._attributeDefs=i,this.opts=e,this.updateGeometry(e)}return function(t,e,r){e&&f(t.prototype,e),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"updateGeometry",value:function(t){Object.assign(this.opts,t);var e=this.opts,r=e.data,n=e.buffers,i=void 0===n?{}:n,o=e.getGeometry,s=e.geometryBuffer,u=e.positionFormat,l=e.dataChanged,f=e.normalize,p=void 0===f||f;if(this.data=r,this.getGeometry=o,this.positionSize=s&&s.size||("XY"===u?2:3),this.buffers=i,this.normalize=p,s&&((0,a.Z)(r.startIndices),this.getGeometry=this.getGeometryFromBuffer(s),p||(i.positions=s)),this.geometryBuffer=i.positions,Array.isArray(l)){var h,v=c(l);try{for(v.s();!(h=v.n()).done;){var d=h.value;this._rebuildGeometry(d)}}catch(t){v.e(t)}finally{v.f()}}else this._rebuildGeometry()}},{key:"updatePartialGeometry",value:function(t){var e=t.startRow,r=t.endRow;this._rebuildGeometry({startRow:e,endRow:r})}},{key:"getGeometryFromBuffer",value:function(t){var e=t.value||t;return ArrayBuffer.isView(e)?(0,i.jr)(e,{size:this.positionSize,offset:t.offset,stride:t.stride,startIndices:this.data.startIndices}):null}},{key:"_allocate",value:function(t,e){var r=this.attributes,n=this.buffers,i=this._attributeDefs,o=this.typedArrayManager;for(var a in i)if(a in n)o.release(r[a]),r[a]=null;else{var s=i[a];s.copy=e,r[a]=o.allocate(r[a],t,s)}}},{key:"_forEachGeometry",value:function(t,e,r){var n,o=this.data,a=this.getGeometry,s=(0,i.jB)(o,e,r),u=s.iterable,l=s.objectInfo,f=c(u);try{for(f.s();!(n=f.n()).done;){var p=n.value;l.index++,t(a?a(p,l):null,l.index)}}catch(t){f.e(t)}finally{f.f()}}},{key:"_rebuildGeometry",value:function(t){var e=this;if(this.data){var r=this.indexStarts,n=this.vertexStarts,i=this.instanceCount,o=this.data,a=this.geometryBuffer,u=t||{},c=u.startRow,l=void 0===c?0:c,f=u.endRow,p=void 0===f?1/0:f,h={};if(t||(r=[0],n=[0]),this.normalize||!a)this._forEachGeometry((function(t,r){var i=t&&e.normalizeGeometry(t);h[r]=i,n[r+1]=n[r]+(i?e.getGeometrySize(i):0)}),l,p),i=n[n.length-1];else if(n=o.startIndices,i=n[o.length]||0,ArrayBuffer.isView(a))i=i||a.length/this.positionSize;else if(a instanceof s.Z){var v=a.accessor.stride||4*this.positionSize;i=i||a.byteLength/v}else if(a.buffer){var d=a.stride||4*this.positionSize;i=i||a.buffer.byteLength/d}else if(a.value){var y=a.value,b=a.stride/y.BYTES_PER_ELEMENT||this.positionSize;i=i||y.length/b}this._allocate(i,Boolean(t)),this.indexStarts=r,this.vertexStarts=n,this.instanceCount=i;var g={};this._forEachGeometry((function(t,o){var a=h[o]||t;g.vertexStart=n[o],g.indexStart=r[o];var s=o<n.length-1?n[o+1]:i;g.geometrySize=s-n[o],g.geometryIndex=o,e.updateGeometryAttributes(a,g)}),l,p),this.vertexCount=r[r.length-1]}}}]),t}()},14151:function(t,e,r){var n=r(99450);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s(n.key),n)}}function s(t){var e=function(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===i(e)?e:String(e)}var u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t),(0,n.Z)(this,"_pool",[]),(0,n.Z)(this,"opts",{overAlloc:2,poolSize:100}),this.setOptions(e)}return function(t,e,r){e&&a(t.prototype,e),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"setOptions",value:function(t){Object.assign(this.opts,t)}},{key:"allocate",value:function(t,e,r){var n=r.size,i=void 0===n?1:n,o=r.type,a=r.padding,s=void 0===a?0:a,u=r.copy,c=void 0!==u&&u,l=r.initialize,f=void 0!==l&&l,p=r.maxCount,h=o||t&&t.constructor||Float32Array,v=e*i+s;if(ArrayBuffer.isView(t)){if(v<=t.length)return t;if(v*t.BYTES_PER_ELEMENT<=t.buffer.byteLength)return new h(t.buffer,0,v)}var d=1/0;p&&(d=p*i+s);var y=this._allocate(h,v,f,d);return t&&c?y.set(t):f||y.fill(0,0,4),this._release(t),y}},{key:"release",value:function(t){this._release(t)}},{key:"_allocate",value:function(t,e,r,n){var i=Math.max(Math.ceil(e*this.opts.overAlloc),1);i>n&&(i=n);var o=this._pool,a=t.BYTES_PER_ELEMENT*i,s=o.findIndex((function(t){return t.byteLength>=a}));if(s>=0){var u=new t(o.splice(s,1)[0],0,i);return r&&u.fill(0),u}return new t(i)}},{key:"_release",value:function(t){if(ArrayBuffer.isView(t)){var e=this._pool,r=t.buffer,n=r.byteLength,i=e.findIndex((function(t){return t.byteLength>=n}));i<0?e.push(r):(i>0||e.length<this.opts.poolSize)&&e.splice(i,0,r),e.length>this.opts.poolSize&&e.shift()}}}]),t}();e.Z=new u},27382:function(t,e,r){function n(t,e,r,n){var i,o,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if(8&r)i=(n[3]-t[1])/(e[1]-t[1]),o=3;else if(4&r)i=(n[1]-t[1])/(e[1]-t[1]),o=1;else if(2&r)i=(n[2]-t[0])/(e[0]-t[0]),o=2;else{if(!(1&r))return null;i=(n[0]-t[0])/(e[0]-t[0]),o=0}for(var s=0;s<t.length;s++)a[s]=(1&o)===s?n[o]:i*(e[s]-t[s])+t[s];return a}function i(t,e){var r=0;return t[0]<e[0]?r|=1:t[0]>e[2]&&(r|=2),t[1]<e[1]?r|=4:t[1]>e[3]&&(r|=8),r}r.d(e,{W:function(){return u},d:function(){return a}});var o=r(57475);function a(t,e){var r,a,s=e||{},u=s.size,c=void 0===u?2:u,p=s.broken,h=void 0!==p&&p,v=s.gridResolution,d=void 0===v?10:v,y=s.gridOffset,b=void 0===y?[0,0]:y,g=s.startIndex,m=void 0===g?0:g,w=s.endIndex,j=((void 0===w?t.length:w)-m)/c,O=[],P=[O],S=(0,o.n6)(t,0,c,m),_=l(S,d,b,[]),A=[];(0,o.VF)(O,S);for(var k=1;k<j;k++){for(a=i(r=(0,o.n6)(t,k,c,m,r),_);a;){n(S,r,a,_,A);var E=i(A,_);E&&(n(S,A,E,_,A),a=E),(0,o.VF)(O,A),(0,o.JG)(S,A),f(_,d,a),h&&O.length>c&&(O=[],P.push(O),(0,o.VF)(O,S)),a=i(r,_)}(0,o.VF)(O,r),(0,o.JG)(S,r)}return h?P:P[0]}function s(t,e){for(var r=0;r<e.length;r++)t.push(e[r]);return t}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0;if(!t.length)return[];for(var n=r||{},o=n.size,a=void 0===o?2:o,u=n.gridResolution,f=void 0===u?10:u,h=n.gridOffset,v=void 0===h?[0,0]:h,d=n.edgeTypes,y=void 0!==d&&d,b=[],g=[{pos:t,types:y?new Array(t.length/a).fill(1):null,holes:e||[]}],m=[[],[]],w=[];g.length;){var j=g.shift(),O=j.pos,P=j.types,S=j.holes;p(O,a,S[0]||O.length,m),w=l(m[0],f,v,w);var _=i(m[1],w);if(_){var A=c(O,P,a,0,S[0]||O.length,w,_),k={pos:A[0].pos,types:A[0].types,holes:[]},E={pos:A[1].pos,types:A[1].types,holes:[]};g.push(k,E);for(var T=0;T<S.length;T++)(A=c(O,P,a,S[T],S[T+1]||O.length,w,_))[0]&&(k.holes.push(k.pos.length),k.pos=s(k.pos,A[0].pos),y&&(k.types=s(k.types,A[0].types))),A[1]&&(E.holes.push(E.pos.length),E.pos=s(E.pos,A[1].pos),y&&(E.types=s(E.types,A[1].types)))}else{var x={positions:O};y&&(x.edgeTypes=P),S.length&&(x.holeIndices=S),b.push(x)}}return b}function c(t,e,r,i,a,s,u){for(var c,l,f,p=(a-i)/r,h=[],v=[],d=[],y=[],b=[],g=(0,o.n6)(t,p-1,r,i),m=Math.sign(8&u?g[1]-s[3]:g[0]-s[2]),w=e&&e[p-1],j=0,O=0,P=0;P<p;P++)c=(0,o.n6)(t,P,r,i,c),l=Math.sign(8&u?c[1]-s[3]:c[0]-s[2]),f=e&&e[i/r+P],l&&m&&m!==l&&(n(g,c,u,s,b),(0,o.VF)(h,b)&&d.push(w),(0,o.VF)(v,b)&&y.push(w)),l<=0?((0,o.VF)(h,c)&&d.push(f),j-=l):d.length&&(d[d.length-1]=0),l>=0?((0,o.VF)(v,c)&&y.push(f),O+=l):y.length&&(y[y.length-1]=0),(0,o.JG)(g,c),m=l,w=f;return[j?{pos:h,types:e&&d}:null,O?{pos:v,types:e&&y}:null]}function l(t,e,r,n){var i=Math.floor((t[0]-r[0])/e)*e+r[0],o=Math.floor((t[1]-r[1])/e)*e+r[1];return n[0]=i,n[1]=o,n[2]=i+e,n[3]=o+e,n}function f(t,e,r){8&r?(t[1]+=e,t[3]+=e):4&r?(t[1]-=e,t[3]-=e):2&r?(t[0]+=e,t[2]+=e):1&r&&(t[0]-=e,t[2]-=e)}function p(t,e,r,n){for(var i=1/0,o=-1/0,a=1/0,s=-1/0,u=0;u<r;u+=e){var c=t[u],l=t[u+1];i=c<i?c:i,o=c>o?c:o,a=l<a?l:a,s=l>s?l:s}return n[0][0]=i,n[0][1]=a,n[1][0]=o,n[1][1]=s,n}},5804:function(t,e,r){r.d(e,{G:function(){return c},c:function(){return u}});var n=r(27382),i=r(57475);function o(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){u=!0,o=t},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw o}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var s=85.051129;function u(t,e){var r=e||{},i=r.size,a=void 0===i?2:i,s=r.startIndex,u=void 0===s?0:s,c=r.endIndex,l=void 0===c?t.length:c,f=r.normalize,v=void 0===f||f,d=t.slice(u,l);p(d,a,0,l-u);var y=(0,n.d)(d,{size:a,broken:!0,gridResolution:360,gridOffset:[-180,-180]});if(v){var b,g=o(y);try{for(g.s();!(b=g.n()).done;){h(b.value,a)}}catch(t){g.e(t)}finally{g.f()}}return y}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0,i=r||{},a=i.size,s=void 0===a?2:a,u=i.normalize,c=void 0===u||u,v=i.edgeTypes,d=void 0!==v&&v;e=e||[];for(var y=[],b=[],g=0,m=0,w=0;w<=e.length;w++){for(var j=e[w]||t.length,O=m,P=l(t,s,g,j),S=P;S<j;S++)y[m++]=t[S];for(var _=g;_<P;_++)y[m++]=t[_];p(y,s,O,m),f(y,s,O,m,null==r?void 0:r.maxLatitude),g=j,b[w]=m}b.pop();var A=(0,n.W)(y,b,{size:s,gridResolution:360,gridOffset:[-180,-180],edgeTypes:d});if(c){var k,E=o(A);try{for(E.s();!(k=E.n()).done;){var T=k.value;h(T.positions,s)}}catch(t){E.e(t)}finally{E.f()}}return A}function l(t,e,r,n){for(var i=-1,o=-1,a=r+1;a<n;a+=e){var s=Math.abs(t[a]);s>i&&(i=s,o=a-1)}return o}function f(t,e,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:s,a=t[r],u=t[n-e];if(Math.abs(a-u)>180){var c=(0,i.n6)(t,0,e,r);c[0]+=360*Math.round((u-a)/360),(0,i.VF)(t,c),c[1]=Math.sign(c[1])*o,(0,i.VF)(t,c),c[0]=a,(0,i.VF)(t,c)}}function p(t,e,r,n){for(var i,o=t[0],a=r;a<n;a+=e){var s=(i=t[a])-o;(s>180||s<-180)&&(i-=360*Math.round(s/360)),t[a]=o=i}}function h(t,e){for(var r,n=t.length/e,i=0;i<n&&((r=t[i*e])+180)%360==0;i++);var o=360*-Math.round(r/360);if(0!==o)for(var a=0;a<n;a++)t[a*e]+=o}},57475:function(t,e,r){function n(t,e){var r=e.length,n=t.length;if(n>0){for(var i=!0,o=0;o<r;o++)if(t[n-r+o]!==e[o]){i=!1;break}if(i)return!1}for(var a=0;a<r;a++)t[n+a]=e[a];return!0}function i(t,e){for(var r=e.length,n=0;n<r;n++)t[n]=e[n]}function o(t,e,r,n){for(var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=n+e*r,a=0;a<r;a++)i[a]=t[o+a];return i}r.d(e,{JG:function(){return i},VF:function(){return n},n6:function(){return o}})},29061:function(t,e,r){r.d(e,{N:function(){return y}});var n=r(36151),i=r(43193),o=r(43915),a=r(84081),s=r(17059),u=r(33990);function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var f=function(t){var e=t.fallback,r=t.small,l=t.medium,f=t.large,p=t.isPlaysInline,h=t.hasControls,v=t.isAutoPlay,d=t.isMuted,y=t.isPlaying,b=t.isLooping,g=c((0,o.hQ)(),2)[1].mediaQuery,m=(0,a.a)(g.small),w=(0,a.a)(g.medium),j=(0,a.a)(g.large),O=(0,n.useRef)(null);return i.useEffect((function(){var t=O.current,e=function(){null==t||t.play()};return null==t||t.load(),t&&(t.defaultMuted=!!d,t.muted=!!d,t.playsInline=Boolean(p),t.controls=!!h,t.loop=!!b,t.autoplay=!!v,y&&t.addEventListener("canplay",e)),function(){y&&(null==t||t.removeEventListener("canplay",e)),null==t||t.pause()}}),[m,w,j,h,v,b,d,y,p]),(0,s.oM)(t)?(0,u.BX)("video",{height:"100%",width:"100%",ref:O,children:[!m&&!w&&!j&&(0,u.BX)(u.HY,{children:[e&&e.webM&&(0,u.tZ)("source",{src:e.webM,type:"video/webm"}),e&&e.mp4&&(0,u.tZ)("source",{src:e.mp4,type:"video/mp4"})]}),m&&!w&&!j&&(0,u.BX)(u.HY,{children:[r&&r.webM&&(0,u.tZ)("source",{src:r.webM,type:"video/webm"}),r&&r.mp4&&(0,u.tZ)("source",{src:r.mp4,type:"video/mp4"})]}),w&&!j&&(0,u.BX)(u.HY,{children:[l&&l.webM&&(0,u.tZ)("source",{src:l.webM,type:"video/webm"}),l&&l.mp4&&(0,u.tZ)("source",{src:l.mp4,type:"video/mp4"})]}),j&&(0,u.BX)(u.HY,{children:[f&&f.webM&&(0,u.tZ)("source",{src:f.webM,type:"video/webm"}),f&&f.mp4&&(0,u.tZ)("source",{src:f.mp4,type:"video/mp4"})]}),(0,u.tZ)("track",{kind:"captions",src:""})]}):null};function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function v(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(Object(r),!0).forEach((function(e){d(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function d(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==p(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===p(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var y=function(t){var e=t.hasControls?{isLooping:!1,isMuted:!1,isPlaysInline:!1,isAutoPlay:!0}:{isLooping:!0,isMuted:!0,isPlaysInline:!0,isAutoPlay:!0};return(0,s.oM)(t)?(0,u.tZ)(f,v(v({},t),e)):null}},1597:function(t,e,r){var n=r(36151),i=r(33990);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a=["title","titleId","size"];function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){c(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function c(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var f=n.forwardRef((function(t,e){var r=t.title,n=void 0===r?"Center":r,o=t.titleId,s=t.size,c=void 0===s?"1em":s,f=l(t,a);return(0,i.BX)("svg",u(u({width:c,height:c,viewBox:"0 0 24 24",fill:"none",ref:e,"aria-labelledby":o},f),{},{children:[void 0===n?(0,i.tZ)("title",{id:o,children:"Center"}):n?(0,i.tZ)("title",{id:o,children:n}):null,(0,i.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.9 10.5H24v3h-3.1c-.7 3.8-3.6 6.8-7.4 7.4V24h-3v-3.1c-3.8-.7-6.8-3.6-7.4-7.4H0v-3h3.1c.7-3.8 3.6-6.8 7.4-7.4V0h3v3.1c3.8.7 6.8 3.6 7.4 7.4ZM6 12c0 3.3 2.7 6 6 6s6-2.7 6-6-2.7-6-6-6-6 2.7-6 6Zm9 0a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z",fill:"currentColor"})]}))}));e.Z=f},25353:function(t,e,r){var n=r(36151),i=r(33990);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a=["title","titleId","size"];function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){c(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function c(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var f=n.forwardRef((function(t,e){var r=t.title,n=void 0===r?"Youtube":r,o=t.titleId,s=t.size,c=void 0===s?"1em":s,f=l(t,a);return(0,i.BX)("svg",u(u({width:c,height:c,viewBox:"0 0 24 24",fill:"none",ref:e,"aria-labelledby":o},f),{},{children:[void 0===n?(0,i.tZ)("title",{id:o,children:"Youtube"}):n?(0,i.tZ)("title",{id:o,children:n}):null,(0,i.tZ)("path",{d:"M23 12s0-3.85-.46-5.58c-.25-.95-1-1.7-1.94-1.96C18.88 4 12 4 12 4s-6.88 0-8.6.46c-.95.25-1.69 1.01-1.94 1.96C1 8.15 1 12 1 12s.04 3.85.5 5.58c.25.95 1 1.7 1.95 1.96 1.71.46 8.59.46 8.59.46s6.88 0 8.6-.46c.95-.25 1.69-1.01 1.94-1.96.46-1.73.42-5.58.42-5.58Zm-13 3.27V8.73L15.5 12 10 15.27Z",fill:"currentColor"})]}))}));e.Z=f},5136:function(t,e,r){r.d(e,{Z:function(){return p}});var n=r(41100),i=r(36269);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function s(t,e,r){return(e=l(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l(n.key),n)}}function l(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}var f={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},p=function(){function t(){u(this,t);var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.id,i=void 0===r?(0,n.hQ)("geometry"):r,o=e.drawMode,a=void 0===o?f.TRIANGLES:o,s=e.attributes,c=void 0===s?{}:s,l=e.indices,p=void 0===l?null:l,h=e.vertexCount,v=void 0===h?null:h;this.id=i,this.drawMode=0|a,this.attributes={},this.userData={},this._setAttributes(c,p),this.vertexCount=v||this._calculateVertexCount(this.attributes,this.indices)}return function(t,e,r){e&&c(t.prototype,e),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"mode",get:function(){return this.drawMode}},{key:"getVertexCount",value:function(){return this.vertexCount}},{key:"getAttributes",value:function(){return this.indices?function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({indices:this.indices},this.attributes):this.attributes}},{key:"_print",value:function(t){return"Geometry ".concat(this.id," attribute ").concat(t)}},{key:"_setAttributes",value:function(t,e){for(var r in e&&(this.indices=ArrayBuffer.isView(e)?{value:e,size:1}:e),t){var n=t[r];n=ArrayBuffer.isView(n)?{value:n}:n,(0,i.h)(ArrayBuffer.isView(n.value),"".concat(this._print(r),": must be typed array or object with value as typed array")),"POSITION"!==r&&"positions"!==r||n.size||(n.size=3),"indices"===r?((0,i.h)(!this.indices),this.indices=n):this.attributes[r]=n}return this.indices&&void 0!==this.indices.isIndexed&&(this.indices=Object.assign({},this.indices),delete this.indices.isIndexed),this}},{key:"_calculateVertexCount",value:function(t,e){if(e)return e.value.length;var r=1/0;for(var n in t){var o=t[n],a=o.value,s=o.size;!o.constant&&a&&s>=1&&(r=Math.min(r,a.length/s))}return(0,i.h)(Number.isFinite(r)),r}}],[{key:"DRAW_MODE",get:function(){return f}}]),t}()}}]);